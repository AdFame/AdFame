/**
 * @license almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/

/**
 * Copyright (c) 2005 - 2010, James Auldridge
 * All rights reserved.
 *
 * Licensed under the BSD, MIT, and GPL (your choice!) Licenses:
 *  http://code.google.com/p/cookies/wiki/License
 *
 */

// moment.js
// version : 2.0.0
// author : Tim Wood
// license : MIT
// momentjs.com

/**
 * @license RequireJS text 2.0.5 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*
  * Normalized hide address bar for iOS & Android
  * (c) Scott Jehl, scottjehl.com
  * MIT License
  * https://github.com/scottjehl/Hide-Address-Bar
*/

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/* =========================================================
 * bootstrap-modal.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

/*! jQuery Mobile v1.3.1 | Copyright 2010, 2013 jQuery Foundation, Inc. | jquery.org/license */

/*! jQuery plugin for Hammer.JS - v1.1.3 - 2014-05-20
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

function getGlobal(){return function(){return this.dust}.call(null)}function setRegistrationSection(){var t=getMetaTag("WT.cg_n");switch(t){case"Member Center":break;case"Digital Subscription":break;default:addMetaTag("WT.z_rcgn",t),addMetaTag("WT.z_rcgs",getMetaTag("WT.cg_s"))}}function setSubcontentGroupByOC(){if(""==getQueryParameter("OC"))return!1;var t=["4285135516","1803925390","1873190447"];for(i in t)t[i]==getQueryParameter("OC")&&overwriteMetaTag("SCG","IHT");""==getMetaTag("SCG")&&overwriteMetaTag("SCG","NYT")}function getContentGroup(t,e,n){var r=getMetaTag("contentGroup");return""==r&&(r=/^http:\/\/(www\.)?(nytimes|times)\.com\/(\/|index\.html|pages\/|pages\/partners\/aol\/homepage\/|yr\/mo\/day\/)?$/.test(t)?"Homepage":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/\b(world|international)\b\//.test(n)||/^\/international\//.test(n)||/\/packages\/html\/\b(world|international)\b\//.test(n)||/^\/\b(pages|ref|reuters|aponline|cfr)\b\/world\//.test(n)?"World":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/\b(us\/politics|politics)\b\//.test(n)||/\/packages\/html\/politics\//.test(n)||/^\/pages\/politics\//.test(n)||/^\/yr\/mo\/day\/politics\//.test(n)||/^\/politics\//.test(n)||/^\/ref\/politics\//.test(n)||/^\/ref\/us\/politics\//.test(n)||/\/election-guide\//.test(n)?"Politics":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/\b(us|education|washington|national)\b\//.test(n)||/\/packages\/html\/\b(us|education|washington|national)\b\//.test(n)||/^\/pages\/\b(us|education|washington|national)\b\//.test(n)||/^\/yr\/mo\/day\/\b(us|education|washington|national)\b\//.test(n)||/^\/\b(us|education|washington|national)\b\//.test(n)||/^\/aponline\/us\//.test(n)||/^\/reuters\/us\//.test(n)||/^\/ref\/\b(us|education|washington|national)\b\//.test(n)||/^\/cq\//.test(n)?"U.S.":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/nyregion\//.test(n)||/^\/packages\/khtml\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/nyregion\//.test(n)||/\/packages\/html\/nyregion\//.test(n)||/^\/pages\/nyregion\//.test(n)?"N.Y./Region":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/business\//.test(n)||/\/packages\/html\/business\//.test(n)||/^\/pages\/business\//.test(n)||/^\/yr\/mo\/day\/business\//.test(n)||/^\/business\//.test(n)||/^\/aponline\/business\//.test(n)||/^\/reuters\/business\//.test(n)||/^\/ref\/business\//.test(n)||/^\/allbusiness\//.test(n)||/^\/inc_com\//.test(n)?"Business":"tech.nytimes.com"==e||"tech2.nytimes.com"==e||"download.nytimes.com"==e||/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/technology\//.test(n)||/\/packages\/html\/technology\//.test(n)||/^\/pages\/technology\//.test(n)||/^\/tech\//.test(n)||/^\/aponline\/technology\//.test(n)||/^\/reuters\/technology\//.test(n)||/^\/ref\/technology\//.test(n)||/^\/pages\/cnet\//.test(n)||/^\/cnet\//.test(n)||/^\/paidcontent\//.test(n)||/^\/idg\//.test(n)||/^\/gst\/fullpage\.html/.test(n)&&"technology"==getQueryParameter("sec")?"Technology":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/science\//.test(n)||/\/packages\/html\/science\//.test(n)||/^\/ref\/science\//.test(n)||/^\/pages\/science\//.test(n)?"Science":"health.nytimes.com"==e||/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/health\//.test(n)||/\/packages\/html\/health\//.test(n)||/^\/pages\/health\//.test(n)||/^\/aponline\/health\//.test(n)||/^\/reuters\/health\//.test(n)||/^\/ref\/health\//.test(n)?"Health":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/sports\//.test(n)||/\/packages\/html\/sports\//.test(n)||/^\/yr\/mo\/day\/sports\//.test(n)||/^\/sports\//.test(n)||/^\/pages\/sports\//.test(n)||/^\/aponline\/sports\//.test(n)||/^\/reuters\/sports\//.test(n)?"Sports":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/opinion\//.test(n)||/\/packages\/html\/opinion\//.test(n)||/^\/pages\/opinion\//.test(n)||/^\/pages\/readersopinions\//.test(n)||/^\/opinion\//.test(n)||/^\/top\/opinion\//.test(n)||/^\/ref\/opinion\//.test(n)?"Opinion":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/books\//.test(n)||/\/packages\/html\/books\//.test(n)||/^\/pages\/books\//.test(n)||/^\/ref\/books\//.test(n)?"Books":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/arts\/dance\//.test(n)||/\/packages\/html\/dance\//.test(n)||/^\/pages\/arts\/dance\//.test(n)?"Dance":"movies.nytimes.com"==e||"movies2.nytimes.com"==e||/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/movies\//.test(n)||/\/packages\/html\/movies\//.test(n)||/^\/pages\/movies\//.test(n)||/^\/ref\/movies\//.test(n)?"Movies":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/arts\/music\//.test(n)||/\/packages\/html\/music\//.test(n)||/^\/pages\/arts\/music\//.test(n)?"Music":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/arts\/television\//.test(n)||/\/packages\/html\/television\//.test(n)||/^\/pages\/arts\/television\//.test(n)?"TV":"theater.nytimes.com"==e||"theater2.nytimes.com"==e||/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/theater\//.test(n)||/\/mem\/theater\//.test(n)||/\/mem\/ticketwatch\.html/.test(n)||/\/packages\/html\/theater\//.test(n)||/^\/pages\/theater\//.test(n)||/^\/readersreviews\/theater\//.test(n)?"Theater":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/arts\//.test(n)||/\/packages\/html\/arts\//.test(n)||/^\/aponline\/arts\//.test(n)||/^\/reuters\/arts\//.test(n)||/^\/pages\/arts\//.test(n)?"Arts":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/style\/\b(t|tmagazine)\b\//.test(n)||/^\/pages\/style\/(t|tmagazine)\//.test(n)?"T:Style":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/\b(style|fashion|dining|garden)\b\//.test(n)||/\/packages\/html\/\b(style|fashion|dining|garden)\b\//.test(n)||/^\/pages\/\b(style|fashion|dining|garden)\b\//.test(n)||/^\/ref\/fashion\//.test(n)?"Style":"travel.nytimes.com"==e||"travel2.nytimes.com"==e||/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/travel\//.test(n)||/^\/pages\/travel\//.test(n)||/^\/travel\//.test(n)||/^\/map\/travel\//.test(n)||/^\/packages\/html\/travel\//.test(n)||/^\/gst\/travel\/travsearch\.html/.test(n)||/^\/gst\/fullpage\.html/.test(n)&&"travel"==getQueryParameter("sec")?"Travel":"jobmarket.nytimes.com"==e||"salary.nytimes.com"==e||/\/packages\/html\/jobs\//.test(n)||/^\/pages\/jobs\//.test(n)||/^\/marketing\/jobmarket\//.test(n)?"Jobs":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/\b(realestate\/greathomes|greathomesanddestinations)\b\//.test(n)||/^\/pages\/great-homes-and-destinations\//.test(n)||/^\/pages\/greathomes\//.test(n)||/^\/top\/great-homes-and-destinations\//.test(n)?"Real Estate":"realestate.nytimes.com"==e||/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/realestate\//.test(n)||/\/packages\/html\/realestate\//.test(n)||/^\/pages\/realestate\//.test(n)||/^\/ref\/realestate\//.test(n)?"Real Estate":"autos.nytimes.com"==e||"collectiblecars.nytimes.com"==e||/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/automobiles\//.test(n)||/^\/pages\/automobiles\//.test(n)||/^\/ref\/automobiles\//.test(n)||/^\/automobiles\//.test(n)||/^\/autos\//.test(n)||/^\/packages\/html\/automobiles\//.test(n)?"Autos":/^\/search\/query/.test(n)?"Search":"listings.nytimes.com"==e||"placead.nytimes.com"==e||/^\/top\/classifieds\//.test(n)||/^\/gst\/personals.html/.test(n)?"Classifieds":"video.on.nytimes.com"==e?"Video":/^\/top\/reference\/timestopics\//.test(n)||/^\/top\/news\/business\//.test(n)||/^\/top\/news\/international\//.test(n)||/^\/top\/news\/national\//.test(n)||/^\/top\/classifieds\/realestate\//.test(n)?"Times Topics":/^\/mem\/emailthis.html/.test(n)?"Email This":/^\/mem\/tnt.html/.test(n)?"News Tracker":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/crosswords\//.test(n)||/^\/pages\/crosswords\//.test(n)||/^\/ref\/crosswords\//.test(n)||/^\/premium\/xword\//.test(n)||/^\/premiumproducts\/crosswords\/index.html/.test(n)?"Crosswords/Games":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/magazine\//.test(n)||/^\/pages\/magazine\//.test(n)||/^\/ref\/magazine\//.test(n)||/^\/packages\/html\/magazine\//.test(n)?"Sunday Magazine":/^\/most-(popular|popular-searched|popular-movies|popular-emailed|popular-viewed|popular-blogged)\//.test(n)?"Most Popular":/^\/learning\//.test(n)||/\/packages\/html\/learning\//.test(n)?"Learning Network":"college.nytimes.com"==e||/\/packages\/html\/college\//.test(n)||/^\/college\//.test(n)||/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/college\//.test(n)?"Knowledge Network":/\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/weekinreview\//.test(n)||/\/packages\/html\/weekinreview\//.test(n)||/^\/pages\/weekinreview\//.test(n)||/^\/weekinreview\//.test(n)?"Week In Review":/^\/gst\/weather.html/.test(n)||/^\/mem\/weather.html/.test(n)||/\/packages\/html\/weather\//.test(n)||/^\/weather/.test(n)?"Weather":/^\/pages\/multimedia\//.test(n)||/\/packages\/html\/multimedia\//.test(n)||/^\/ref\/multimedia\//.test(n)?"Multimedia":/^\/pages\/cartoons\//.test(n)||/\/packages\/html\/cartoons\//.test(n)?"Cartoons":/^\/pages\/\b(aponline|reuters)\b\//.test(n)?"AP/Reuters":/^\/slideshow\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/nytfrontpage\//.test(n)?"Homepage":"nytimes.adready.com"==e?"Self Service":"General"),r}function readPageTags(){addMetaTag("WT.z_gpt",getMetaTag("PT")),addMetaTag("WT.z_gpst",getMetaTag("PST")),addMetaTag("WT.z_gpsst",getMetaTag("PSST")),addMetaTag("WT.z_gpssst",getMetaTag("PSSST")),addMetaTag("WT.z_pc",getMetaTag("PC")),addMetaTag("WT.z_ps",getMetaTag("PS")),addMetaTag("WT.z_puv",getMetaTag("PUV")),addMetaTag("WT.z_gosst",getMetaTag("GOOST")),addMetaTag("WT.z_gosst",getMetaTag("GOSST")),addMetaTag("WT.z_gsac",getMetaTag("GSAC")),addMetaTag("WT.z_gtn",getMetaTag("GTN")),addMetaTag("WT.gcom",getMetaTag("GCOM")),addMetaTag("WT.z_clmst",getMetaTag("CLMST")),addMetaTag("WT.z_bn",getMetaTag("BN")),addMetaTag("WT.z_pud",getMetaTag("PUD")),addMetaTag("WT.z_tvt",getMetaTag("TVT")),addMetaTag("WT.z_tvn",getMetaTag("TVN")),addMetaTag("WT.z_tvid",getMetaTag("TVID")),addMetaTag("WT.z_tDest",getMetaTag("TDES")),addMetaTag("WT.z_tRegion",getMetaTag("TDREG")),addMetaTag("WT.cre",getMetaTag("cre")),addMetaTag("WT.z_nyts",getCookie("NYT-S")),addMetaTag("WT.z_nytd",getCookie("nyt-d")),addMetaTag("WT.z_rmid",getCookie("RMID")),addMetaTag("WT.z_gblc",getMetaTag("GBLC")),addMetaTag("WT.z_hpt",getMetaTag("HPT")),addMetaTag("WT.dcsvid",getMetaTag("DCSVID")),addMetaTag("WT.rv",getMetaTag("RV")),addMetaTag("WT.z.gsg","0")}function getCookie(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?unescape(e[2]):null}function setContentInfo(){"Health"==wt_contentGroup?(addMetaTag("WT.z_hgst",getMetaTag("HGST")),addMetaTag("WT.z_hgsn",getMetaTag("HGSN"))):"Times Topics"==wt_contentGroup?addMetaTag("WT.z_gpt","Topic"):"Books"==wt_contentGroup?(addMetaTag("WT.z_bper",getMetaTag("per")),addMetaTag("WT.z_ebk",getMetaTag("ttl"))):"Real Estate"==wt_contentGroup||"Great Homes"==wt_contentGroup?(addMetaTag("WT.z_resz",getMetaTag("RESZ")),addMetaTag("WT.z_res",getMetaTag("RES")),addMetaTag("WT.z_reco",getMetaTag("RECO")),addMetaTag("WT.z_rer",getMetaTag("RER"))):"Theater"==wt_contentGroup&&addMetaTag("WT.z_eplay",getMetaTag("ttl"))}function setReferrerInfo(){var t=getCookie("FramesetReferrer"),e=t||document.referrer;if(void 0!=e&&""!=e){var n=e.match(/:\/\/(www\.)?([^\/:]+)/);n=n[2]?n[2]:"",addMetaTag("WT.z_ref",n),addMetaTag("WT.z_sorg",isSearchEngine(n))}}function getReferrerQuery(){var t="",e=document.referrer.split("?");if(e[1])for(var n=e[1].split("&"),r=0;r<n.length;r++){var i=n[r].split("=");"q"==i[0]&&(t=i[1])}return t}function isSearchEngine(t){var e="";return(/google\./.test(t)&&""!=getReferrerQuery()||/search\./.test(t)||/ask.com/.test(t)||/altavista.com/.test(t))&&(e="1"),e}function handleCGExceptions(){"dance"==wt_subcontentGroup?(wt_contentGroup="Dance",wt_subcontentGroup=""):"music"==wt_subcontentGroup?(wt_contentGroup="Music",wt_subcontentGroup=""):"television"==wt_subcontentGroup?(wt_contentGroup="TV",wt_subcontentGroup=""):"olympics"==wt_subcontentGroup?(wt_contentGroup="Olympics",wt_subcontentGroup=""):"politics"==wt_subcontentGroup&&(wt_contentGroup="Politics",wt_subcontentGroup=""),"education"==wt_cgTag?wt_subcontentGroup="Education":"washington"==wt_cgTag?wt_subcontentGroup="Washington":"fashion"==wt_cgTag?wt_subcontentGroup="Fashion":"dining"==wt_cgTag?wt_subcontentGroup="Dining":"garden"==wt_cgTag?wt_subcontentGroup="Garden":("Your Money"==wt_cgTag||"your-money"==wt_cgTag)&&("Article"==getMetaTag("PT")&&addMetaTag("WT.z_gtn",wt_subcontentGroup),wt_contentGroup="Business",wt_subcontentGroup="Your Money"),"Weddings"==wt_scgTag&&(wt_contentGroup="Style",wt_subcontentGroup="Weddings"),"Dealbook Jobs"==wt_subcontentGroup&&(wt_contentGroup="Business"),"xword"==wt_cgTag&&(wt_contentGroup="Crosswords/Games")}function setSectionFront(){"Section Front"==getMetaTag("WT.z_gpt")&&getMetaTag("WT.cg_s")&&addMetaTag("WT.z_gpst","Subsection Front")}function setInteractiveGraphicInfo(){addMetaTag("WT.z_gpt","Multimedia"),addMetaTag("WT.z_gpst","Flash"),addMetaTag("WT.z_pud",getMetaTag("pdate"))}function setSlideshowInfo(){addMetaTag("WT.z_gpt","Multimedia"),addMetaTag("WT.z_gpst","Slideshow"),addMetaTag("WT.z_pud",getMetaTag("pdate")),addMetaTag("WT.z_sssn",getMetaTag("SSSN")),addMetaTag("WT.z_ssts",getMetaTag("SSTS")),addMetaTag("WT.z_sse",getMetaTag("SSE"))}function setSundayReviewInfo(){overwriteMetaTag("WT.cg_n","Opinion"),overwriteMetaTag("WT.cg_s","Sunday Review")}function setArticleInfo(t){if(""!=t){var e=getMetaTag("pdate"),n=getPubTypeFromDate(e);if(addMetaTag("WT.z_gpt","Article"),addMetaTag("WT.z_gpst",getMetaTag("tom")),addMetaTag("WT.z_hdl",getMetaTag("hdl")),"Archive"==n?addMetaTag("WT.z_aid","nyta-"+t):addMetaTag("WT.z_aid",t),addMetaTag("WT.z_pud",e),addMetaTag("WT.z_put",n),addMetaTag("WT.z.gsg",n),8==e.length){var r=e.substring(0,4);2004>r&&(addMetaTag("WT.ti","Archive Article from "+r),addMetaTag("DCS.dcsuri","http://www.nytimes.com/archive/"+r+".html")),"Archive"==n&&(r>=1987?addMetaTag("WT.z_gat","1987-Present"):r>=1981?addMetaTag("WT.z_gat","1981-1986"):r>=1923?addMetaTag("WT.z_gat","1923-1980"):addMetaTag("WT.z_gat","1851-1922"))}addMetaTag("WT.z_pua","free");var i=getMetaTag("byl");i=i.replace("&#8217;","'"),-1!=i.indexOf("By ")&&(i=i.substring(3),bylValInd=i.indexOf(" and "),-1!=bylValInd&&(i=i.substring(0,bylValInd)+";"+i.substring(bylValInd+5))),addMetaTag("WT.z_clmst",i),setXTS(i);var o=getQueryParameter("pagewanted");""==o?addMetaTag("WT.z_puv","Normal"):addMetaTag("WT.z_puv",o)}}function setPubDateInfo(t){setPubDateRange(t),addMetaTag("WT.z_pyr",t.substring(0,4))}function setPubDateRange(t){var e="No Pub Date",n=new Date,r=n.getTime(),i=new Date;if(8==t.length){var o=t.substring(0,4),s=t.substring(4,6),a=t.substring(6,8);i.setFullYear(o,s-1,a)}var l=i.getTime(),u=new Date;u.setYear(1851),u.setMonth(0),u.setDate(1);var c=u.getTime(),d=new Date;d.setYear(1923),d.setMonth(0),d.setDate(1);var h=d.getTime(),p=new Date;p.setYear(1986),p.setMonth(11),p.setDate(31);var f=p.getTime(),m=r-l;0>m?e="Tomorrow":m>=0&&864e5>m?e="Same Day":m>=864e5&&1728e5>m?e="1 Day":m>=1728e5&&2592e5>m?e="2 Day":m>=2592e5&&3456e5>m?e="3 Day":m>=3456e5&&432e6>m?e="4 Day":m>=432e6&&5184e5>m?e="5 Day":m>=5184e5&&6048e5>m?e="6 Day":m>=6048e5&&6912e5>m?e="7 Day":m>=6912e5&&26784e5>m?e="Month":m>=26784e5&&7776e6>m?e="90 Day":m>=7776e6&&31536e6>m?e="1 Year":m>=31536e6&&15768e7>m?e="5 Years":m>=15768e7&&31536e7>m?e="10 Years":m>=31536e7&&l>f?e="Post 86":m>=31536e7&&l>=h&&f>=l?e="Pay Archive":m>=31536e7&&l>=c&&h>=l&&(e="Public Domain"),addMetaTag("WT.z_pudr",e)}function setCommentOverflowInfo(t){addMetaTag("WT.z_aid",t),addMetaTag("WT.z_hdl",getMetaTag("hdl")),"Comments Overflow"==getMetaTag("WT.z_gpst")&&addMetaTag("WT.gcom","Com"),addMetaTag("WT.z_acpn",getMetaTag("ACPN")),addMetaTag("WT.z_acos",getMetaTag("ACOS"))}function getPubTypeFromDate(t){if(void 0!=t&&8==t.length){var e=new Date,n=new Date;return n.setDate(t.substring(6)),n.setMonth(t.substring(4,6)-1),n.setFullYear(t.substring(0,4)),e>n?"Archive":"web"}return"web"}function setXTS(t){(/DAVID BROOKS/.test(t)||/MAUREEN DOWD/.test(t)||/ROGER COHEN/.test(t)||/THOMAS L. FRIEDMAN/.test(t)||/BOB HERBERT/.test(t)||/NICHOLAS D. KRISTOF/.test(t)||/PAUL KRUGMAN/.test(t)||/FRANK RICH/.test(t)||/DAVE ANDERSON/.test(t)||/PETER APPLEBOME/.test(t)||/HARVEY ARATON/.test(t)||/DAN BARRY/.test(t)||/JIM DWYER/.test(t)||/CLYDE HABERMAN/.test(t)||/ADAM LIPTAK/.test(t)||/GRETCHEN MORGENSON/.test(t)||/JOE NOCERA/.test(t)||/JOSEPH NOCERA/.test(t)||/FLOYD NORRIS/.test(t)||/WILLIAM C. RHODEN/.test(t)||/SELENA ROBERTS/.test(t)||/GEORGE VECSEY/.test(t)||/JOHN VINOCUR/.test(t))&&addMetaTag("WT.z_gts","XTS")}function setSearchInfo(){var t,e="",n="",r="",i="",o="";if(/^\/search\/query/.test(nyt_path)&&(e=getQueryParameter("query"),t=document.getElementById("sortBy"),r=getQueryParameter("srchst"),i="WT.oss",o="WT.oss_r"),/\/gst\/technology\/techsearch.html/.test(nyt_path)&&(e=getQueryParameter("query"),t=getElementsByClass("div","result_summary"),i="WT.z_toss",o="WT.z_toss_r"),/\/gst\/movies\/msearch.html/.test(nyt_path)&&(e=getQueryParameter("query"),t=document.getElementById("resultsWell"),i="WT.z_moss",o="WT.z_moss_r"),/\/gst\/health\/healthsearch.html/.test(nyt_path)&&(e=getQueryParameter("query"),""==e&&(e=getQueryParameter("term")),t=document.getElementById("sortBy"),i="WT.z_hoss",o="WT.z_hoss_r"),null==t?n="0":(n="1",""==e&&(e="No Term")),""!=e&&(addMetaTag(i,e),addMetaTag(o,n)),""!=r){var s={nyt:"Search > Articles 1981-Present",p:"Search > Articles 1851-1980",g:"Search > Google Web Results",m:"Search > Multimedia",nycks:"Search > NYC Events & Venues",ref:"Search > Reference",blog:"Search > Blogs"},a=s[r];void 0==a&&(a=r),addMetaTag("WT.z_gosst",a)}}function setTrackEvents(){var t=getMetaTag("WT.cg_n"),e=getMetaTag("WT.cg_s"),n=getMetaTag("WT.z_gpt"),r=getMetaTag("WT.z_gpst");("Homepage"==n&&"Times Extra"!=r||"Politics"==t&&"Section Front"==n||"Opinion"==t&&"Section Front"==n||"Business"==t&&"Section Front"==n||"Dealbook"==e&&"Blog Main"==r)&&(gtrackevents=!0)}function addMetaTag(t,e){var n=getMetaTag(t);if(""==n&&(n=getQueryParameter(t)),""==n&&""!=e){var r=document.createElement("meta");r.id=t,r.name=t,r.content=e,document.getElementsByTagName("head").item(0).appendChild(r)}}function overwriteMetaTag(t,e){var n=document.createElement("meta");n.id=t,n.name=t,n.content=e,document.getElementsByTagName("head").item(0).appendChild(n)}function getMetaTag(t){var e="",n=document.getElementById(t);if(null==n||void 0==n)for(var r=document.getElementsByTagName("meta"),i=0;i<r.length;i++)r[i].name==t&&(e=r[i].content);else e=n.content;return e}function getQueryParameter(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+t+"=([^&#]*)",n=new RegExp(e),r=n.exec(window.location.href);return null==r?"":r[1]}function queryParameterExists(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e="[\\?&]"+t,n=new RegExp(e);return n.test(window.location.href)}function setDefaultTags(){""==getMetaTag("WT.z_gpt")&&addMetaTag("WT.z_gpt","Other")}function getElementsByClass(t,e){for(var n=new Array,r=new RegExp("\\b"+e+"\\b"),i=document.getElementsByTagName(t),o=0,s=i.length;s>o;o++)r.test(i[o].className)&&n.push(i[o]);return 0==n.length&&(n=null),n}function includeFile(t){var e=document.createElement("script");e.setAttribute("language","javascriptcontent"),e.setAttribute("type","text/javascript"),e.setAttribute("src",t),document.getElementsByTagName("head").item(0).appendChild(e)}var requirejs,require,define;!function(t){function e(t,e){return v.call(t,e)}function n(t,e){var n,r,i,o,s,a,l,u,c,d,h,p=e&&e.split("/"),f=m.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),t=t.split("/"),s=t.length-1,m.nodeIdCompat&&_.test(t[s])&&(t[s]=t[s].replace(_,"")),t=p.concat(t),c=0;c<t.length;c+=1)if(h=t[c],"."===h)t.splice(c,1),c-=1;else if(".."===h){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&f){for(n=t.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),p)for(d=p.length;d>0;d-=1)if(i=f[p.slice(0,d).join("/")],i&&(i=i[r])){o=i,a=c;break}if(o)break;!l&&g&&g[r]&&(l=g[r],u=c)}!o&&l&&(o=l,a=u),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function r(e,n){return function(){var r=y.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),c.apply(t,r.concat([e,n]))}}function i(t){return function(e){return n(e,t)}}function o(t){return function(e){p[t]=e}}function s(n){if(e(f,n)){var r=f[n];delete f[n],g[n]=!0,u.apply(t,r)}if(!e(p,n)&&!e(g,n))throw new Error("No "+n);return p[n]}function a(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function l(t){return function(){return m&&m.config&&m.config[t]||{}}}var u,c,d,h,p={},f={},m={},g={},v=Object.prototype.hasOwnProperty,y=[].slice,_=/\.js$/;d=function(t,e){var r,o=a(t),l=o[0];return t=o[1],l&&(l=n(l,e),r=s(l)),l?t=r&&r.normalize?r.normalize(t,i(e)):n(t,e):(t=n(t,e),o=a(t),l=o[0],t=o[1],l&&(r=s(l))),{f:l?l+"!"+t:t,n:t,pr:l,p:r}},h={require:function(t){return r(t)},exports:function(t){var e=p[t];return"undefined"!=typeof e?e:p[t]={}},module:function(t){return{id:t,uri:"",exports:p[t],config:l(t)}}},u=function(n,i,a,l){var u,c,m,v,y,_,b=[],w=typeof a;if(l=l||n,"undefined"===w||"function"===w){for(i=!i.length&&a.length?["require","exports","module"]:i,y=0;y<i.length;y+=1)if(v=d(i[y],l),c=v.f,"require"===c)b[y]=h.require(n);else if("exports"===c)b[y]=h.exports(n),_=!0;else if("module"===c)u=b[y]=h.module(n);else if(e(p,c)||e(f,c)||e(g,c))b[y]=s(c);else{if(!v.p)throw new Error(n+" missing "+c);v.p.load(v.n,r(l,!0),o(c),{}),b[y]=p[c]}m=a?a.apply(p[n],b):void 0,n&&(u&&u.exports!==t&&u.exports!==p[n]?p[n]=u.exports:m===t&&_||(p[n]=m))}else n&&(p[n]=a)},requirejs=require=c=function(e,n,r,i,o){if("string"==typeof e)return h[e]?h[e](n):s(d(e,n).f);if(!e.splice){if(m=e,m.deps&&c(m.deps,m.callback),!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},"function"==typeof r&&(r=i,i=o),i?u(t,e,n,r):setTimeout(function(){u(t,e,n,r)},4),c},c.config=function(t){return c(t)},requirejs._defined=p,define=function(t,n,r){n.splice||(r=n,n=[]),e(p,t)||e(f,t)||(f[t]=[t,n,r])},define.amd={jQuery:!0}}(),define("almond",function(){}),function(t,e){function n(t){var e=t.length,n=le.type(t);return le.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t){var e=xe[t]={};return le.each(t.match(ce)||[],function(t,n){e[n]=!0}),e}function i(t,n,r,i){if(le.acceptData(t)){var o,s,a=le.expando,l="string"==typeof n,u=t.nodeType,c=u?le.cache:t,d=u?t[a]:t[a]&&a;if(d&&c[d]&&(i||c[d].data)||!l||r!==e)return d||(u?t[a]=d=Z.pop()||le.guid++:d=a),c[d]||(c[d]={},u||(c[d].toJSON=le.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[d]=le.extend(c[d],n):c[d].data=le.extend(c[d].data,n)),o=c[d],i||(o.data||(o.data={}),o=o.data),r!==e&&(o[le.camelCase(n)]=r),l?(s=o[n],null==s&&(s=o[le.camelCase(n)])):s=o,s}}function o(t,e,n){if(le.acceptData(t)){var r,i,o,s=t.nodeType,l=s?le.cache:t,u=s?t[le.expando]:le.expando;if(l[u]){if(e&&(o=n?l[u]:l[u].data)){le.isArray(e)?e=e.concat(le.map(e,le.camelCase)):e in o?e=[e]:(e=le.camelCase(e),e=e in o?[e]:e.split(" "));for(r=0,i=e.length;i>r;r++)delete o[e[r]];if(!(n?a:le.isEmptyObject)(o))return}(n||(delete l[u].data,a(l[u])))&&(s?le.cleanData([t],!0):le.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}}function s(t,n,r){if(r===e&&1===t.nodeType){var i="data-"+n.replace(Se,"-$1").toLowerCase();if(r=t.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:ke.test(r)?le.parseJSON(r):r}catch(o){}le.data(t,n,r)}else r=e}return r}function a(t){var e;for(e in t)if(("data"!==e||!le.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function u(){return!1}function c(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,n){if(e=e||0,le.isFunction(e))return le.grep(t,function(t,r){var i=!!e.call(t,r,t);return i===n});if(e.nodeType)return le.grep(t,function(t){return t===e===n});if("string"==typeof e){var r=le.grep(t,function(t){return 1===t.nodeType});if(Ue.test(e))return le.filter(e,r,!n);e=le.filter(e,r)}return le.grep(t,function(t){return le.inArray(t,e)>=0===n})}function h(t){var e=Ve.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function f(t){var e=t.getAttributeNode("type");return t.type=(e&&e.specified)+"/"+t.type,t}function m(t){var e=on.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n,r=0;null!=(n=t[r]);r++)le._data(n,"globalEval",!e||le._data(e[r],"globalEval"))}function v(t,e){if(1===e.nodeType&&le.hasData(t)){var n,r,i,o=le._data(t),s=le._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(r=0,i=a[n].length;i>r;r++)le.event.add(e,n,a[n][r])}s.data&&(s.data=le.extend({},s.data))}}function y(t,e){var n,r,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!le.support.noCloneEvent&&e[le.expando]){i=le._data(e);for(r in i.events)le.removeEvent(e,r,i.handle);e.removeAttribute(le.expando)}"script"===n&&e.text!==t.text?(f(e).text=t.text,m(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),le.support.html5Clone&&t.innerHTML&&!le.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&en.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function _(t,n){var r,i,o=0,s=typeof t.getElementsByTagName!==q?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll!==q?t.querySelectorAll(n||"*"):e;if(!s)for(s=[],r=t.childNodes||t;null!=(i=r[o]);o++)!n||le.nodeName(i,n)?s.push(i):le.merge(s,_(i,n));return n===e||n&&le.nodeName(t,n)?le.merge([t],s):s}function b(t){en.test(t.type)&&(t.defaultChecked=t.checked)}function w(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=e,i=Sn.length;i--;)if(e=Sn[i]+n,e in t)return e;return r}function T(t,e){return t=e||t,"none"===le.css(t,"display")||!le.contains(t.ownerDocument,t)}function x(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)r=t[s],r.style&&(o[s]=le._data(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&T(r)&&(o[s]=le._data(r,"olddisplay",E(r.nodeName)))):o[s]||(i=T(r),(n&&"none"!==n||!i)&&le._data(r,"olddisplay",i?n:le.css(r,"display"))));for(s=0;a>s;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function k(t,e,n){var r=yn.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function S(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=le.css(t,n+kn[o],!0,i)),r?("content"===n&&(s-=le.css(t,"padding"+kn[o],!0,i)),"margin"!==n&&(s-=le.css(t,"border"+kn[o]+"Width",!0,i))):(s+=le.css(t,"padding"+kn[o],!0,i),"padding"!==n&&(s+=le.css(t,"border"+kn[o]+"Width",!0,i)));return s}function C(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=dn(t),s=le.support.boxSizing&&"border-box"===le.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=hn(t,e,o),(0>i||null==i)&&(i=t.style[e]),_n.test(i))return i;r=s&&(le.support.boxSizingReliable||i===t.style[e]),i=parseFloat(i)||0}return i+S(t,e,n||(s?"border":"content"),r,o)+"px"}function E(t){var e=G,n=wn[t];return n||(n=$(t,e),"none"!==n&&n||(cn=(cn||le("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(cn[0].contentWindow||cn[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=$(t,e),cn.detach()),wn[t]=n),n}function $(t,e){var n=le(e.createElement(t)).appendTo(e.body),r=le.css(n[0],"display");return n.remove(),r}function D(t,e,n,r){var i;if(le.isArray(e))le.each(e,function(e,i){n||En.test(t)?r(t,i):D(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==le.type(e))r(t,e);else for(i in e)D(t+"["+i+"]",e[i],n,r)}function P(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(ce)||[];if(le.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function N(t,n,r,i){function o(l){var u;return s[l]=!0,le.each(t[l]||[],function(t,l){var c=l(n,r,i);return"string"!=typeof c||a||s[c]?a?!(u=c):e:(n.dataTypes.unshift(c),o(c),!1)}),u}var s={},a=t===Yn;return o(n.dataTypes[0])||!s["*"]&&o("*")}function A(t,n){var r,i,o=le.ajaxSettings.flatOptions||{};for(i in n)n[i]!==e&&((o[i]?t:r||(r={}))[i]=n[i]);return r&&le.extend(!0,t,r),t}function M(t,n,r){var i,o,s,a,l=t.contents,u=t.dataTypes,c=t.responseFields;for(a in c)a in r&&(n[c[a]]=r[a]);for(;"*"===u[0];)u.shift(),o===e&&(o=t.mimeType||n.getResponseHeader("Content-Type"));if(o)for(a in l)if(l[a]&&l[a].test(o)){u.unshift(a);break}if(u[0]in r)s=u[0];else{for(a in r){if(!u[0]||t.converters[a+" "+u[0]]){s=a;break}i||(i=a)}s=s||i}return s?(s!==u[0]&&u.unshift(s),r[s]):e}function O(t,e){var n,r,i,o,s={},a=0,l=t.dataTypes.slice(),u=l[0];if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l[1])for(i in t.converters)s[i.toLowerCase()]=t.converters[i];for(;r=l[++a];)if("*"!==r){if("*"!==u&&u!==r){if(i=s[u+" "+r]||s["* "+r],!i)for(n in s)if(o=n.split(" "),o[1]===r&&(i=s[u+" "+o[0]]||s["* "+o[0]])){i===!0?i=s[n]:s[n]!==!0&&(r=o[0],l.splice(a--,0,r));break}if(i!==!0)if(i&&t["throws"])e=i(e);else try{e=i(e)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+u+" to "+r}}}u=r}return{state:"success",data:e}}function L(){try{return new t.XMLHttpRequest}catch(e){}}function I(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function R(){return setTimeout(function(){Zn=e}),Zn=le.now()}function j(t,e){le.each(e,function(e,n){for(var r=(or[e]||[]).concat(or["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(t,e,n))return})}function H(t,e,n){var r,i,o=0,s=ir.length,a=le.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=Zn||R(),n=Math.max(0,u.startTime+u.duration-e),r=n/u.duration||0,o=1-r,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),1>o&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:le.extend({},e),opts:le.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Zn||R(),duration:n.duration,tweens:[],createTween:function(e,n){var r=le.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),c=u.props;for(F(c,u.opts.specialEasing);s>o;o++)if(r=ir[o].call(u,t,c,u.opts))return r;return j(u,c),le.isFunction(u.opts.start)&&u.opts.start.call(t,u),le.fx.timer(le.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function F(t,e){var n,r,i,o,s;for(i in t)if(r=le.camelCase(i),o=e[r],n=t[i],le.isArray(n)&&(o=n[1],n=t[i]=n[0]),i!==r&&(t[r]=n,delete t[i]),s=le.cssHooks[r],s&&"expand"in s){n=s.expand(n),delete t[r];for(i in n)i in t||(t[i]=n[i],e[i]=o)}else e[r]=o}function W(t,e,n){var r,i,o,s,a,l,u,c,d,h=this,p=t.style,f={},m=[],g=t.nodeType&&T(t);n.queue||(c=le._queueHooks(t,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,h.always(function(){h.always(function(){c.unqueued--,le.queue(t,"fx").length||c.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===le.css(t,"display")&&"none"===le.css(t,"float")&&(le.support.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",le.support.shrinkWrapBlocks||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));
for(i in e)if(s=e[i],er.exec(s)){if(delete e[i],l=l||"toggle"===s,s===(g?"hide":"show"))continue;m.push(i)}if(o=m.length){a=le._data(t,"fxshow")||le._data(t,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?le(t).show():h.done(function(){le(t).hide()}),h.done(function(){var e;le._removeData(t,"fxshow");for(e in f)le.style(t,e,f[e])});for(i=0;o>i;i++)r=m[i],u=h.createTween(r,g?a[r]:0),f[r]=a[r]||le.style(t,r),r in a||(a[r]=u.start,g&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function B(t,e,n,r,i){return new B.prototype.init(t,e,n,r,i)}function U(t,e){var n,r={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=kn[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Y(t){return le.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var z,V,q=typeof e,G=t.document,X=t.location,J=t.jQuery,K=t.$,Q={},Z=[],te="1.9.1",ee=Z.concat,ne=Z.push,re=Z.slice,ie=Z.indexOf,oe=Q.toString,se=Q.hasOwnProperty,ae=te.trim,le=function(t,e){return new le.fn.init(t,e,V)},ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ce=/\S+/g,de=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^[\],:{}\s]*$/,me=/(?:^|:|,)(?:\s*\[)+/g,ge=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ve=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ye=/^-ms-/,_e=/-([\da-z])/gi,be=function(t,e){return e.toUpperCase()},we=function(t){(G.addEventListener||"load"===t.type||"complete"===G.readyState)&&(Te(),le.ready())},Te=function(){G.addEventListener?(G.removeEventListener("DOMContentLoaded",we,!1),t.removeEventListener("load",we,!1)):(G.detachEvent("onreadystatechange",we),t.detachEvent("onload",we))};le.fn=le.prototype={jquery:te,constructor:le,init:function(t,n,r){var i,o;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:he.exec(t),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(t):this.constructor(n).find(t);if(i[1]){if(n=n instanceof le?n[0]:n,le.merge(this,le.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:G,!0)),pe.test(i[1])&&le.isPlainObject(n))for(i in n)le.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=G.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(t);this.length=1,this[0]=o}return this.context=G,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):le.isFunction(t)?r.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),le.makeArray(t,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return re.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=le.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return le.each(this,t,e)},ready:function(t){return le.ready.promise().done(t),this},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(le.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:ne,sort:[].sort,splice:[].splice},le.fn.init.prototype=le.fn,le.extend=le.fn.extend=function(){var t,n,r,i,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||le.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)t=a[i],r=o[i],a!==r&&(c&&r&&(le.isPlainObject(r)||(n=le.isArray(r)))?(n?(n=!1,s=t&&le.isArray(t)?t:[]):s=t&&le.isPlainObject(t)?t:{},a[i]=le.extend(c,s,r)):r!==e&&(a[i]=r));return a},le.extend({noConflict:function(e){return t.$===le&&(t.$=K),e&&t.jQuery===le&&(t.jQuery=J),le},isReady:!1,readyWait:1,holdReady:function(t){t?le.readyWait++:le.ready(!0)},ready:function(t){if(t===!0?!--le.readyWait:!le.isReady){if(!G.body)return setTimeout(le.ready);le.isReady=!0,t!==!0&&--le.readyWait>0||(z.resolveWith(G,[le]),le.fn.trigger&&le(G).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===le.type(t)},isArray:Array.isArray||function(t){return"array"===le.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Q[oe.call(t)]||"object":typeof t},isPlainObject:function(t){if(!t||"object"!==le.type(t)||t.nodeType||le.isWindow(t))return!1;try{if(t.constructor&&!se.call(t,"constructor")&&!se.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in t);return r===e||se.call(t,r)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||G;var r=pe.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=le.buildFragment([t],e,i),i&&le(i).remove(),le.merge([],r.childNodes))},parseJSON:function(n){return t.JSON&&t.JSON.parse?t.JSON.parse(n):null===n?n:"string"==typeof n&&(n=le.trim(n),n&&fe.test(n.replace(ge,"@").replace(ve,"]").replace(me,"")))?Function("return "+n)():(le.error("Invalid JSON: "+n),e)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=e}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||le.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(e){e&&le.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ye,"ms-").replace(_e,be)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,s=t.length,a=n(t);if(r){if(a)for(;s>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(a)for(;s>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:ae&&!ae.call("﻿ ")?function(t){return null==t?"":ae.call(t)}:function(t){return null==t?"":(t+"").replace(de,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?le.merge(r,"string"==typeof t?[t]:t):ne.call(r,t)),r},inArray:function(t,e,n){var r;if(e){if(ie)return ie.call(e,t,n);for(r=e.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var r=n.length,i=t.length,o=0;if("number"==typeof r)for(;r>o;o++)t[i++]=n[o];else for(;n[o]!==e;)t[i++]=n[o++];return t.length=i,t},grep:function(t,e,n){var r,i=[],o=0,s=t.length;for(n=!!n;s>o;o++)r=!!e(t[o],o),n!==r&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,s=t.length,a=n(t),l=[];if(a)for(;s>o;o++)i=e(t[o],o,r),null!=i&&(l[l.length]=i);else for(o in t)i=e(t[o],o,r),null!=i&&(l[l.length]=i);return ee.apply([],l)},guid:1,proxy:function(t,n){var r,i,o;return"string"==typeof n&&(o=t[n],n=t,t=o),le.isFunction(t)?(r=re.call(arguments,2),i=function(){return t.apply(n||this,r.concat(re.call(arguments)))},i.guid=t.guid=t.guid||le.guid++,i):e},access:function(t,n,r,i,o,s,a){var l=0,u=t.length,c=null==r;if("object"===le.type(r)){o=!0;for(l in r)le.access(t,n,l,r[l],!0,s,a)}else if(i!==e&&(o=!0,le.isFunction(i)||(a=!0),c&&(a?(n.call(t,i),n=null):(c=n,n=function(t,e,n){return c.call(le(t),n)})),n))for(;u>l;l++)n(t[l],r,a?i:i.call(t[l],l,n(t[l],r)));return o?t:c?n.call(t):u?n(t[0],r):s},now:function(){return(new Date).getTime()}}),le.ready.promise=function(e){if(!z)if(z=le.Deferred(),"complete"===G.readyState)setTimeout(le.ready);else if(G.addEventListener)G.addEventListener("DOMContentLoaded",we,!1),t.addEventListener("load",we,!1);else{G.attachEvent("onreadystatechange",we),t.attachEvent("onload",we);var n=!1;try{n=null==t.frameElement&&G.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!le.isReady){try{n.doScroll("left")}catch(t){return setTimeout(i,50)}Te(),le.ready()}}()}return z.promise(e)},le.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Q["[object "+e+"]"]=e.toLowerCase()}),V=le(G);var xe={};le.Callbacks=function(t){t="string"==typeof t?xe[t]||r(t):le.extend({},t);var n,i,o,s,a,l,u=[],c=!t.once&&[],d=function(e){for(i=t.memory&&e,o=!0,a=l||0,l=0,s=u.length,n=!0;u&&s>a;a++)if(u[a].apply(e[0],e[1])===!1&&t.stopOnFalse){i=!1;break}n=!1,u&&(c?c.length&&d(c.shift()):i?u=[]:h.disable())},h={add:function(){if(u){var e=u.length;!function r(e){le.each(e,function(e,n){var i=le.type(n);"function"===i?t.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),n?s=u.length:i&&(l=e,d(i))}return this},remove:function(){return u&&le.each(arguments,function(t,e){for(var r;(r=le.inArray(e,u,r))>-1;)u.splice(r,1),n&&(s>=r&&s--,a>=r&&a--)}),this},has:function(t){return t?le.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=c=i=e,this},disabled:function(){return!u},lock:function(){return c=e,i||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!u||o&&!c||(n?c.push(e):d(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},le.extend({Deferred:function(t){var e=[["resolve","done",le.Callbacks("once memory"),"resolved"],["reject","fail",le.Callbacks("once memory"),"rejected"],["notify","progress",le.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return le.Deferred(function(n){le.each(e,function(e,o){var s=o[0],a=le.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&le.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?le.extend(t,r):r}},i={};return r.pipe=r.then,le.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=re.call(arguments),s=o.length,a=1!==s||t&&le.isFunction(t.promise)?s:0,l=1===a?t:le.Deferred(),u=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?re.call(arguments):i,r===e?l.notifyWith(n,r):--a||l.resolveWith(n,r)}};if(s>1)for(e=Array(s),n=Array(s),r=Array(s);s>i;i++)o[i]&&le.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,e)):--a;return a||l.resolveWith(r,o),l.promise()}}),le.support=function(){var e,n,r,i,o,s,a,l,u,c,d=G.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length)return{};o=G.createElement("select"),a=o.appendChild(G.createElement("option")),i=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",e={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!i.value,optSelected:a.selected,enctype:!!G.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==G.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===G.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,e.noCloneChecked=i.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!a.disabled;try{delete d.test}catch(h){e.deleteExpando=!1}i=G.createElement("input"),i.setAttribute("value",""),e.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),e.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),s=G.createDocumentFragment(),s.appendChild(i),e.appendChecked=i.checked,e.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+c,"t"),e[c+"Bubbles"]=l in t||d.attributes[l].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===d.style.backgroundClip,le(function(){var n,r,i,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=G.getElementsByTagName("body")[0];s&&(n=G.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=d.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",e.reliableHiddenOffsets=u&&0===i[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===d.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(d,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(G.createElement("div")),r.style.cssText=d.style.cssText=o,r.style.marginRight=r.style.width="0",d.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==q&&(d.innerHTML="",d.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==d.offsetWidth,e.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(n),n=d=i=r=null)}),n=o=s=a=r=i=null,e}();var ke=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Se=/([A-Z])/g;le.extend({cache:{},expando:"jQuery"+(te+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?le.cache[t[le.expando]]:t[le.expando],!!t&&!a(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return o(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return o(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&le.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),le.fn.extend({data:function(t,n){var r,i,o=this[0],a=0,l=null;if(t===e){if(this.length&&(l=le.data(o),1===o.nodeType&&!le._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++)i=r[a].name,i.indexOf("data-")||(i=le.camelCase(i.slice(5)),s(o,i,l[i]));le._data(o,"parsedAttrs",!0)}return l}return"object"==typeof t?this.each(function(){le.data(this,t)}):le.access(this,function(n){return n===e?o?s(o,t,le.data(o,t)):null:(this.each(function(){le.data(this,t,n)}),e)},null,n,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){le.removeData(this,t)})}}),le.extend({queue:function(t,n,r){var i;return t?(n=(n||"fx")+"queue",i=le._data(t,n),r&&(!i||le.isArray(r)?i=le._data(t,n,le.makeArray(r)):i.push(r)),i||[]):e},dequeue:function(t,e){e=e||"fx";var n=le.queue(t,e),r=n.length,i=n.shift(),o=le._queueHooks(t,e),s=function(){le.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return le._data(t,n)||le._data(t,n,{empty:le.Callbacks("once memory").add(function(){le._removeData(t,e+"queue"),le._removeData(t,n)})})}}),le.fn.extend({queue:function(t,n){var r=2;return"string"!=typeof t&&(n=t,t="fx",r--),r>arguments.length?le.queue(this[0],t):n===e?this:this.each(function(){var e=le.queue(this,t,n);le._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&le.dequeue(this,t)})},dequeue:function(t){return this.each(function(){le.dequeue(this,t)})},delay:function(t,e){return t=le.fx?le.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var r,i=1,o=le.Deferred(),s=this,a=this.length,l=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)r=le._data(s[a],t+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var Ce,Ee,$e=/[\t\r\n]/g,De=/\r/g,Pe=/^(?:input|select|textarea|button|object)$/i,Ne=/^(?:a|area)$/i,Ae=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Me=/^(?:checked|selected)$/i,Oe=le.support.getSetAttribute,Le=le.support.input;le.fn.extend({attr:function(t,e){return le.access(this,le.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){le.removeAttr(this,t)})},prop:function(t,e){return le.access(this,le.prop,t,e,arguments.length>1)},removeProp:function(t){return t=le.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,r,i,o,s=0,a=this.length,l="string"==typeof t&&t;if(le.isFunction(t))return this.each(function(e){le(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ce)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace($e," "):" ")){for(o=0;i=e[o++];)0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=le.trim(r)}return this},removeClass:function(t){var e,n,r,i,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(le.isFunction(t))return this.each(function(e){le(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ce)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace($e," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=t?le.trim(r):""}return this},toggleClass:function(t,e){var n=typeof t,r="boolean"==typeof e;return this.each(le.isFunction(t)?function(n){le(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var i,o=0,s=le(this),a=e,l=t.match(ce)||[];i=l[o++];)a=r?a:!s.hasClass(i),s[a?"addClass":"removeClass"](i);else(n===q||"boolean"===n)&&(this.className&&le._data(this,"__className__",this.className),this.className=this.className||t===!1?"":le._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace($e," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,r,i,o=this[0];return arguments.length?(i=le.isFunction(t),this.each(function(n){var o,s=le(this);1===this.nodeType&&(o=i?t.call(this,n,s.val()):t,null==o?o="":"number"==typeof o?o+="":le.isArray(o)&&(o=le.map(o,function(t){return null==t?"":t+""})),r=le.valHooks[this.type]||le.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==e||(this.value=o))})):o?(r=le.valHooks[o.type]||le.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==e?n:(n=o.value,"string"==typeof n?n.replace(De,""):null==n?"":n)):void 0}}),le.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,l=0>i?a:o?i:0;a>l;l++)if(n=r[l],!(!n.selected&&l!==i||(le.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&le.nodeName(n.parentNode,"optgroup"))){if(e=le(n).val(),o)return e;s.push(e)}return s},set:function(t,e){var n=le.makeArray(e);return le(t).find("option").each(function(){this.selected=le.inArray(le(this).val(),n)>=0}),n.length||(t.selectedIndex=-1),n}}},attr:function(t,n,r){var i,o,s,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?typeof t.getAttribute===q?le.prop(t,n,r):(o=1!==a||!le.isXMLDoc(t),o&&(n=n.toLowerCase(),i=le.attrHooks[n]||(Ae.test(n)?Ee:Ce)),r===e?i&&o&&"get"in i&&null!==(s=i.get(t,n))?s:(typeof t.getAttribute!==q&&(s=t.getAttribute(n)),null==s?e:s):null!==r?i&&o&&"set"in i&&(s=i.set(t,r,n))!==e?s:(t.setAttribute(n,r+""),r):(le.removeAttr(t,n),e)):void 0},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(ce);if(o&&1===t.nodeType)for(;n=o[i++];)r=le.propFix[n]||n,Ae.test(n)?!Oe&&Me.test(n)?t[le.camelCase("default-"+n)]=t[r]=!1:t[r]=!1:le.attr(t,n,""),t.removeAttribute(Oe?n:r)},attrHooks:{type:{set:function(t,e){if(!le.support.radioValue&&"radio"===e&&le.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,n,r){var i,o,s,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?(s=1!==a||!le.isXMLDoc(t),s&&(n=le.propFix[n]||n,o=le.propHooks[n]),r!==e?o&&"set"in o&&(i=o.set(t,r,n))!==e?i:t[n]=r:o&&"get"in o&&null!==(i=o.get(t,n))?i:t[n]):void 0},propHooks:{tabIndex:{get:function(t){var n=t.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Pe.test(t.nodeName)||Ne.test(t.nodeName)&&t.href?0:e}}}}),Ee={get:function(t,n){var r=le.prop(t,n),i="boolean"==typeof r&&t.getAttribute(n),o="boolean"==typeof r?Le&&Oe?null!=i:Me.test(n)?t[le.camelCase("default-"+n)]:!!i:t.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():e},set:function(t,e,n){return e===!1?le.removeAttr(t,n):Le&&Oe||!Me.test(n)?t.setAttribute(!Oe&&le.propFix[n]||n,n):t[le.camelCase("default-"+n)]=t[n]=!0,n}},Le&&Oe||(le.attrHooks.value={get:function(t,n){var r=t.getAttributeNode(n);return le.nodeName(t,"input")?t.defaultValue:r&&r.specified?r.value:e},set:function(t,n,r){return le.nodeName(t,"input")?(t.defaultValue=n,e):Ce&&Ce.set(t,n,r)}}),Oe||(Ce=le.valHooks.button={get:function(t,n){var r=t.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:e},set:function(t,n,r){var i=t.getAttributeNode(r);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===t.getAttribute(r)?n:e}},le.attrHooks.contenteditable={get:Ce.get,set:function(t,e,n){Ce.set(t,""===e?!1:e,n)}},le.each(["width","height"],function(t,n){le.attrHooks[n]=le.extend(le.attrHooks[n],{set:function(t,r){return""===r?(t.setAttribute(n,"auto"),r):e}})})),le.support.hrefNormalized||(le.each(["href","src","width","height"],function(t,n){le.attrHooks[n]=le.extend(le.attrHooks[n],{get:function(t){var r=t.getAttribute(n,2);return null==r?e:r}})}),le.each(["href","src"],function(t,e){le.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),le.support.style||(le.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),le.support.optSelected||(le.propHooks.selected=le.extend(le.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),le.support.enctype||(le.propFix.enctype="encoding"),le.support.checkOn||le.each(["radio","checkbox"],function(){le.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),le.each(["radio","checkbox"],function(){le.valHooks[this]=le.extend(le.valHooks[this],{set:function(t,n){return le.isArray(n)?t.checked=le.inArray(le(t).val(),n)>=0:e}})});var Ie=/^(?:input|select|textarea)$/i,Re=/^key/,je=/^(?:mouse|contextmenu)|click/,He=/^(?:focusinfocus|focusoutblur)$/,Fe=/^([^.]*)(?:\.(.+)|)$/;le.event={global:{},add:function(t,n,r,i,o){var s,a,l,u,c,d,h,p,f,m,g,v=le._data(t);if(v){for(r.handler&&(u=r,r=u.handler,o=u.selector),r.guid||(r.guid=le.guid++),(a=v.events)||(a=v.events={}),(d=v.handle)||(d=v.handle=function(t){return typeof le===q||t&&le.event.triggered===t.type?e:le.event.dispatch.apply(d.elem,arguments)},d.elem=t),n=(n||"").match(ce)||[""],l=n.length;l--;)s=Fe.exec(n[l])||[],f=g=s[1],m=(s[2]||"").split(".").sort(),c=le.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=le.event.special[f]||{},h=le.extend({type:f,origType:g,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&le.expr.match.needsContext.test(o),namespace:m.join(".")},u),(p=a[f])||(p=a[f]=[],p.delegateCount=0,c.setup&&c.setup.call(t,i,m,d)!==!1||(t.addEventListener?t.addEventListener(f,d,!1):t.attachEvent&&t.attachEvent("on"+f,d))),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=r.guid)),o?p.splice(p.delegateCount++,0,h):p.push(h),le.event.global[f]=!0;t=null}},remove:function(t,e,n,r,i){var o,s,a,l,u,c,d,h,p,f,m,g=le.hasData(t)&&le._data(t);if(g&&(c=g.events)){for(e=(e||"").match(ce)||[""],u=e.length;u--;)if(a=Fe.exec(e[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=le.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,h=c[p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)s=h[o],!i&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||r&&r!==s.selector&&("**"!==r||!s.selector)||(h.splice(o,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(t,s));l&&!h.length&&(d.teardown&&d.teardown.call(t,f,g.handle)!==!1||le.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)le.event.remove(t,p+e[u],n,r,!0);le.isEmptyObject(c)&&(delete g.handle,le._removeData(t,"events"))}},trigger:function(n,r,i,o){var s,a,l,u,c,d,h,p=[i||G],f=se.call(n,"type")?n.type:n,m=se.call(n,"namespace")?n.namespace.split("."):[];if(l=d=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!He.test(f+le.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=0>f.indexOf(":")&&"on"+f,n=n[le.expando]?n:new le.Event(f,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=i),r=null==r?[n]:le.makeArray(r,[n]),c=le.event.special[f]||{},o||!c.trigger||c.trigger.apply(i,r)!==!1)){if(!o&&!c.noBubble&&!le.isWindow(i)){for(u=c.delegateType||f,He.test(u+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(i.ownerDocument||G)&&p.push(d.defaultView||d.parentWindow||t)}for(h=0;(l=p[h++])&&!n.isPropagationStopped();)n.type=h>1?u:c.bindType||f,s=(le._data(l,"events")||{})[n.type]&&le._data(l,"handle"),s&&s.apply(l,r),s=a&&l[a],s&&le.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault();if(n.type=f,!(o||n.isDefaultPrevented()||c._default&&c._default.apply(i.ownerDocument,r)!==!1||"click"===f&&le.nodeName(i,"a")||!le.acceptData(i)||!a||!i[f]||le.isWindow(i))){d=i[a],d&&(i[a]=null),le.event.triggered=f;try{i[f]()}catch(g){}le.event.triggered=e,d&&(i[a]=d)}return n.result}},dispatch:function(t){t=le.event.fix(t);var n,r,i,o,s,a=[],l=re.call(arguments),u=(le._data(this,"events")||{})[t.type]||[],c=le.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=le.event.handlers.call(this,t,u),n=0;(o=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,s=0;(i=o.handlers[s++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,r=((le.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==e&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,n){var r,i,o,s,a=[],l=n.delegateCount,u=t.target;if(l&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(o=[],s=0;l>s;s++)i=n[s],r=i.selector+" ",o[r]===e&&(o[r]=i.needsContext?le(r,this).index(u)>=0:le.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return n.length>l&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(t){if(t[le.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=je.test(i)?this.mouseHooks:Re.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new le.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=o.srcElement||G),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var r,i,o,s=n.button,a=n.fromElement;return null==t.pageX&&null!=n.clientX&&(i=t.target.ownerDocument||G,o=i.documentElement,r=i.body,t.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?n.toElement:a),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},click:{trigger:function(){return le.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):e}},focus:{trigger:function(){if(this!==G.activeElement&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===G.activeElement&&this.blur?(this.blur(),!1):e},delegateType:"focusout"},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=le.extend(new le.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?le.event.trigger(i,null,e):le.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},le.removeEvent=G.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var r="on"+e;t.detachEvent&&(typeof t[r]===q&&(t[r]=null),t.detachEvent(r,n))},le.Event=function(t,n){return this instanceof le.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:u):this.type=t,n&&le.extend(this,n),this.timeStamp=t&&t.timeStamp||le.now(),this[le.expando]=!0,e):new le.Event(t,n)},le.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},le.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){le.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!le.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),le.support.submitBubbles||(le.event.special.submit={setup:function(){return le.nodeName(this,"form")?!1:(le.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,r=le.nodeName(n,"input")||le.nodeName(n,"button")?n.form:e;r&&!le._data(r,"submitBubbles")&&(le.event.add(r,"submit._submit",function(t){t._submit_bubble=!0
}),le._data(r,"submitBubbles",!0))}),e)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&le.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return le.nodeName(this,"form")?!1:(le.event.remove(this,"._submit"),e)}}),le.support.changeBubbles||(le.event.special.change={setup:function(){return Ie.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(le.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),le.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),le.event.simulate("change",this,t,!0)})),!1):(le.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ie.test(e.nodeName)&&!le._data(e,"changeBubbles")&&(le.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||le.event.simulate("change",this.parentNode,t,!0)}),le._data(e,"changeBubbles",!0))}),e)},handle:function(t){var n=t.target;return this!==n||t.isSimulated||t.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?t.handleObj.handler.apply(this,arguments):e},teardown:function(){return le.event.remove(this,"._change"),!Ie.test(this.nodeName)}}),le.support.focusinBubbles||le.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,r=function(t){le.event.simulate(e,t.target,le.event.fix(t),!0)};le.event.special[e]={setup:function(){0===n++&&G.addEventListener(t,r,!0)},teardown:function(){0===--n&&G.removeEventListener(t,r,!0)}}}),le.fn.extend({on:function(t,n,r,i,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=e);for(s in t)this.on(s,n,r,t[s],o);return this}if(null==r&&null==i?(i=n,r=n=e):null==i&&("string"==typeof n?(i=r,r=e):(i=r,r=n,n=e)),i===!1)i=u;else if(!i)return this;return 1===o&&(a=i,i=function(t){return le().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=le.guid++)),this.each(function(){le.event.add(this,t,i,r,n)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,n,r){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,le(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=e),r===!1&&(r=u),this.each(function(){le.event.remove(this,t,r,n)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},trigger:function(t,e){return this.each(function(){le.event.trigger(t,e,this)})},triggerHandler:function(t,n){var r=this[0];return r?le.event.trigger(t,n,r,!0):e}}),function(t,e){function n(t){return fe.test(t+"")}function r(){var t,e=[];return t=function(n,r){return e.push(n+=" ")>k.cacheLength&&delete t[e.shift()],t[n]=r}}function i(t){return t[H]=!0,t}function o(t){var e=N.createElement("div");try{return t(e)}catch(n){return!1}finally{e=null}}function s(t,e,n,r){var i,o,s,a,l,u,c,p,f,m;if((e?e.ownerDocument||e:F)!==N&&P(e),e=e||N,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(!M&&!r){if(i=me.exec(t))if(s=i[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&R(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return K.apply(n,Q.call(e.getElementsByTagName(t),0)),n;if((s=i[3])&&W.getByClassName&&e.getElementsByClassName)return K.apply(n,Q.call(e.getElementsByClassName(s),0)),n}if(W.qsa&&!O.test(t)){if(c=!0,p=H,f=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=d(t),(c=e.getAttribute("id"))?p=c.replace(ye,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=pe.test(t)&&e.parentNode||e,m=u.join(",")}if(m)try{return K.apply(n,Q.call(f.querySelectorAll(m),0)),n}catch(g){}finally{c||e.removeAttribute("id")}}}return b(t.replace(se,"$1"),e,n,r)}function a(t,e){var n=e&&t,r=n&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function d(t,e){var n,r,i,o,a,l,u,c=z[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=k.preFilter;a;){(!n||(r=ae.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(i=[])),n=!1,(r=ue.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(se," ")}),a=a.slice(n.length));for(o in k.filter)!(r=he[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?s.error(t):z(t,l).slice(0)}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=U++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,l,u,c=B+" "+o;if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i)if(u=e[H]||(e[H]={}),(l=u[r])&&l[0]===c){if((a=l[1])===!0||a===x)return a===!0}else if(l=u[r]=[c],l[1]=t(e,n,s)||x,l[1]===!0)return!0}}function f(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function m(t,e,n,r,i){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),u&&e.push(a));return s}function g(t,e,n,r,o,s){return r&&!r[H]&&(r=g(r)),o&&!o[H]&&(o=g(o,s)),i(function(i,s,a,l){var u,c,d,h=[],p=[],f=s.length,g=i||_(e||"*",a.nodeType?[a]:a,[]),v=!t||!i&&e?g:m(g,h,t,a,l),y=n?o||(i?t:f||r)?[]:s:v;if(n&&n(v,y,a,l),r)for(u=m(y,p),r(u,[],a,l),c=u.length;c--;)(d=u[c])&&(y[p[c]]=!(v[p[c]]=d));if(i){if(o||t){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?Z.call(i,d):h[c])>-1&&(i[u]=!(s[u]=d))}}else y=m(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):K.apply(s,y)})}function v(t){for(var e,n,r,i=t.length,o=k.relative[t[0].type],s=o||k.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return Z.call(e,t)>-1},s,!0),c=[function(t,n,r){return!o&&(r||n!==D)||((e=n).nodeType?l(t,n,r):u(t,n,r))}];i>a;a++)if(n=k.relative[t[a].type])c=[p(f(c),n)];else{if(n=k.filter[t[a].type].apply(null,t[a].matches),n[H]){for(r=++a;i>r&&!k.relative[t[r].type];r++);return g(a>1&&f(c),a>1&&h(t.slice(0,a-1)).replace(se,"$1"),n,r>a&&v(t.slice(a,r)),i>r&&v(t=t.slice(r)),i>r&&h(t))}c.push(n)}return f(c)}function y(t,e){var n=0,r=e.length>0,o=t.length>0,a=function(i,a,l,u,c){var d,h,p,f=[],g=0,v="0",y=i&&[],_=null!=c,b=D,w=i||o&&k.find.TAG("*",c&&a.parentNode||a),T=B+=null==b?1:Math.random()||.1;for(_&&(D=a!==N&&a,x=n);null!=(d=w[v]);v++){if(o&&d){for(h=0;p=t[h++];)if(p(d,a,l)){u.push(d);break}_&&(B=T,x=++n)}r&&((d=!p&&d)&&g--,i&&y.push(d))}if(g+=v,r&&v!==g){for(h=0;p=e[h++];)p(y,f,a,l);if(i){if(g>0)for(;v--;)y[v]||f[v]||(f[v]=J.call(u));f=m(f)}K.apply(u,f),_&&!i&&f.length>0&&g+e.length>1&&s.uniqueSort(u)}return _&&(B=T,D=b),y};return r?i(a):a}function _(t,e,n){for(var r=0,i=e.length;i>r;r++)s(t,e[r],n);return n}function b(t,e,n,r){var i,o,s,a,l,u=d(t);if(!r&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&!M&&k.relative[o[1].type]){if(e=k.find.ID(s.matches[0].replace(be,we),e)[0],!e)return n;t=t.slice(o.shift().value.length)}for(i=he.needsContext.test(t)?0:o.length;i--&&(s=o[i],!k.relative[a=s.type]);)if((l=k.find[a])&&(r=l(s.matches[0].replace(be,we),pe.test(o[0].type)&&e.parentNode||e))){if(o.splice(i,1),t=r.length&&h(o),!t)return K.apply(n,Q.call(r,0)),n;break}}return E(t,u)(r,e,M,n,pe.test(t)),n}function w(){}var T,x,k,S,C,E,$,D,P,N,A,M,O,L,I,R,j,H="sizzle"+-new Date,F=t.document,W={},B=0,U=0,Y=r(),z=r(),V=r(),q=typeof e,G=1<<31,X=[],J=X.pop,K=X.push,Q=X.slice,Z=X.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},te="[\\x20\\t\\r\\n\\f]",ee="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=ee.replace("w","w#"),re="([*^$|!~]?=)",ie="\\["+te+"*("+ee+")"+te+"*(?:"+re+te+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ne+")|)|)"+te+"*\\]",oe=":("+ee+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ie.replace(3,8)+")*)|.*)\\)|)",se=RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),ae=RegExp("^"+te+"*,"+te+"*"),ue=RegExp("^"+te+"*([\\x20\\t\\r\\n\\f>+~])"+te+"*"),ce=RegExp(oe),de=RegExp("^"+ne+"$"),he={ID:RegExp("^#("+ee+")"),CLASS:RegExp("^\\.("+ee+")"),NAME:RegExp("^\\[name=['\"]?("+ee+")['\"]?\\]"),TAG:RegExp("^("+ee.replace("w","w*")+")"),ATTR:RegExp("^"+ie),PSEUDO:RegExp("^"+oe),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),needsContext:RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},pe=/[\x20\t\r\n\f]*[+~]/,fe=/^[^{]+\{\s*\[native code/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,ye=/'|\\/g,_e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,be=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,we=function(t,e){var n="0x"+e-65536;return n!==n?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{Q.call(F.documentElement.childNodes,0)[0].nodeType}catch(Te){Q=function(t){for(var e,n=[];e=this[t++];)n.push(e);return n}}C=s.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},P=s.setDocument=function(t){var r=t?t.ownerDocument||t:F;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,A=r.documentElement,M=C(r),W.tagNameNoComments=o(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),W.attributes=o(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),W.getByClassName=o(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),W.getByName=o(function(t){t.id=H+0,t.innerHTML="<a name='"+H+"'></a><div name='"+H+"'></div>",A.insertBefore(t,A.firstChild);var e=r.getElementsByName&&r.getElementsByName(H).length===2+r.getElementsByName(H+0).length;return W.getIdNotName=!r.getElementById(H),A.removeChild(t),e}),k.attrHandle=o(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==q&&"#"===t.firstChild.getAttribute("href")})?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},W.getIdNotName?(k.find.ID=function(t,e){if(typeof e.getElementById!==q&&!M){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(t){var e=t.replace(be,we);return function(t){return t.getAttribute("id")===e}}):(k.find.ID=function(t,n){if(typeof n.getElementById!==q&&!M){var r=n.getElementById(t);return r?r.id===t||typeof r.getAttributeNode!==q&&r.getAttributeNode("id").value===t?[r]:e:[]}},k.filter.ID=function(t){var e=t.replace(be,we);return function(t){var n=typeof t.getAttributeNode!==q&&t.getAttributeNode("id");return n&&n.value===e}}),k.find.TAG=W.tagNameNoComments?function(t,n){return typeof n.getElementsByTagName!==q?n.getElementsByTagName(t):e}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.NAME=W.getByName&&function(t,n){return typeof n.getElementsByName!==q?n.getElementsByName(name):e},k.find.CLASS=W.getByClassName&&function(t,n){return typeof n.getElementsByClassName===q||M?e:n.getElementsByClassName(t)},L=[],O=[":focus"],(W.qsa=n(r.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||O.push("\\["+te+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||O.push(":checked")}),o(function(t){t.innerHTML="<input type='hidden' i=''/>",t.querySelectorAll("[i^='']").length&&O.push("[*^$]="+te+"*(?:\"\"|'')"),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(W.matchesSelector=n(I=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(t){W.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),L.push("!=",oe)}),O=RegExp(O.join("|")),L=RegExp(L.join("|")),R=n(A.contains)||A.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},j=A.compareDocumentPosition?function(t,e){var n;return t===e?($=!0,0):(n=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e))?1&n||t.parentNode&&11===t.parentNode.nodeType?t===r||R(F,t)?-1:e===r||R(F,e)?1:0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var n,i=0,o=t.parentNode,s=e.parentNode,l=[t],u=[e];if(t===e)return $=!0,0;if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===F?-1:u[i]===F?1:0},$=!1,[0,0].sort(j),W.detectDuplicates=$,N):N},s.matches=function(t,e){return s(t,null,null,e)},s.matchesSelector=function(t,e){if((t.ownerDocument||t)!==N&&P(t),e=e.replace(_e,"='$1']"),!(!W.matchesSelector||M||L&&L.test(e)||O.test(e)))try{var n=I.call(t,e);if(n||W.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return s(e,N,null,[t]).length>0},s.contains=function(t,e){return(t.ownerDocument||t)!==N&&P(t),R(t,e)},s.attr=function(t,e){var n;return(t.ownerDocument||t)!==N&&P(t),M||(e=e.toLowerCase()),(n=k.attrHandle[e])?n(t):M||W.attributes?t.getAttribute(e):((n=t.getAttributeNode(e))||t.getAttribute(e))&&t[e]===!0?e:n&&n.specified?n.value:null},s.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},s.uniqueSort=function(t){var e,n=[],r=1,i=0;if($=!W.detectDuplicates,t.sort(j),$){for(;e=t[r];r++)e===t[r-1]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return t},S=s.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r];r++)n+=S(e);return n},k=s.selectors={cacheLength:50,createPseudo:i,match:he,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(be,we),t[3]=(t[4]||t[5]||"").replace(be,we),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||s.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&s.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return he.CHILD.test(t[0])?null:(t[4]?t[2]=t[4]:n&&ce.test(n)&&(e=d(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(be,we).toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=Y[t+" "];return e||(e=RegExp("(^|"+te+")"+t+"("+te+"|$)"))&&Y(t,function(t){return e.test(t.className||typeof t.getAttribute!==q&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=s.attr(r,t);return null==i?"!="===e:e?(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i+" ").indexOf(n)>-1:"|="===e?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,p,f,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(c=g[H]||(g[H]={}),u=c[t]||[],p=u[0]===B&&u[1],h=u[0]===B&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[B,p,h];break}}else if(y&&(u=(e[H]||(e[H]={}))[t])&&u[0]===B)h=u[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[t]=[B,h]),d!==e)););return h-=i,h===r||0===h%r&&h/r>=0}}},PSEUDO:function(t,e){var n,r=k.pseudos[t]||k.setFilters[t.toLowerCase()]||s.error("unsupported pseudo: "+t);return r[H]?r(e):r.length>1?(n=[t,t,"",e],k.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)i=Z.call(t,o[s]),t[i]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:i(function(t){var e=[],n=[],r=E(t.replace(se,"$1"));return r[H]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(t){return function(e){return s(t,e).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:i(function(t){return de.test(t||"")||s.error("unsupported lang: "+t),t=t.replace(be,we).toLowerCase(),function(e){var n;do if(n=M?e.getAttribute("xml:lang")||e.getAttribute("lang"):e.lang)return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return ve.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=0>n?n+e:n;e>++r;)t.push(r);return t})}};for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[T]=l(T);for(T in{submit:!0,reset:!0})k.pseudos[T]=u(T);E=s.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=d(t)),n=e.length;n--;)o=v(e[n]),o[H]?r.push(o):i.push(o);o=V(t,y(i,r))}return o},k.pseudos.nth=k.pseudos.eq,k.filters=w.prototype=k.pseudos,k.setFilters=new w,P(),s.attr=le.attr,le.find=s,le.expr=s.selectors,le.expr[":"]=le.expr.pseudos,le.unique=s.uniqueSort,le.text=s.getText,le.isXMLDoc=s.isXML,le.contains=s.contains}(t);var We=/Until$/,Be=/^(?:parents|prev(?:Until|All))/,Ue=/^.[^:#\[\.,]*$/,Ye=le.expr.match.needsContext,ze={children:!0,contents:!0,next:!0,prev:!0};le.fn.extend({find:function(t){var e,n,r,i=this.length;if("string"!=typeof t)return r=this,this.pushStack(le(t).filter(function(){for(e=0;i>e;e++)if(le.contains(r[e],this))return!0}));for(n=[],e=0;i>e;e++)le.find(t,this[e],n);return n=this.pushStack(i>1?le.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+t,n},has:function(t){var e,n=le(t,this),r=n.length;return this.filter(function(){for(e=0;r>e;e++)if(le.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(d(this,t,!1))},filter:function(t){return this.pushStack(d(this,t,!0))},is:function(t){return!!t&&("string"==typeof t?Ye.test(t)?le(t,this.context).index(this[0])>=0:le.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=Ye.test(t)||"string"!=typeof t?le(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==e&&11!==n.nodeType;){if(s?s.index(n)>-1:le.find.matchesSelector(n,t)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?le.unique(o):o)},index:function(t){return t?"string"==typeof t?le.inArray(this[0],le(t)):le.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?le(t,e):le.makeArray(t&&t.nodeType?[t]:t),r=le.merge(this.get(),n);return this.pushStack(le.unique(r))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),le.fn.andSelf=le.fn.addBack,le.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return le.dir(t,"parentNode")},parentsUntil:function(t,e,n){return le.dir(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return le.dir(t,"nextSibling")},prevAll:function(t){return le.dir(t,"previousSibling")},nextUntil:function(t,e,n){return le.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return le.dir(t,"previousSibling",n)},siblings:function(t){return le.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return le.sibling(t.firstChild)},contents:function(t){return le.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:le.merge([],t.childNodes)}},function(t,e){le.fn[t]=function(n,r){var i=le.map(this,e,n);return We.test(t)||(r=n),r&&"string"==typeof r&&(i=le.filter(r,i)),i=this.length>1&&!ze[t]?le.unique(i):i,this.length>1&&Be.test(t)&&(i=i.reverse()),this.pushStack(i)}}),le.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?le.find.matchesSelector(e[0],t)?[e[0]]:[]:le.find.matches(t,e)},dir:function(t,n,r){for(var i=[],o=t[n];o&&9!==o.nodeType&&(r===e||1!==o.nodeType||!le(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ve="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qe=/ jQuery\d+="(?:null|\d+)"/g,Ge=RegExp("<(?:"+Ve+")[\\s/>]","i"),Xe=/^\s+/,Je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ke=/<([\w:]+)/,Qe=/<tbody/i,Ze=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,en=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:le.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=h(G),un=ln.appendChild(G.createElement("div"));an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,le.fn.extend({text:function(t){return le.access(this,function(t){return t===e?le.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(le.isFunction(t))return this.each(function(e){le(this).wrapAll(t.call(this,e))});if(this[0]){var e=le(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(le.isFunction(t)?function(e){le(this).wrapInner(t.call(this,e))}:function(){var e=le(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=le.isFunction(t);return this.each(function(n){le(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){le.nodeName(this,"body")||le(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=0;null!=(n=this[r]);r++)(!t||le.filter(t,[n]).length>0)&&(e||1!==n.nodeType||le.cleanData(_(n)),n.parentNode&&(e&&le.contains(n.ownerDocument,n)&&g(_(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&le.cleanData(_(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&le.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return le.clone(this,t,e)})},html:function(t){return le.access(this,function(t){var n=this[0]||{},r=0,i=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(qe,""):e;if(!("string"!=typeof t||tn.test(t)||!le.support.htmlSerialize&&Ge.test(t)||!le.support.leadingWhitespace&&Xe.test(t)||an[(Ke.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Je,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(le.cleanData(_(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){var e=le.isFunction(t);return e||"string"==typeof t||(t=le(t).not(this).detach()),this.domManip([t],!0,function(t){var e=this.nextSibling,n=this.parentNode;n&&(le(this).remove(),n.insertBefore(t,e))})},detach:function(t){return this.remove(t,!0)},domManip:function(t,n,r){t=ee.apply([],t);var i,o,s,a,l,u,c=0,d=this.length,h=this,g=d-1,v=t[0],y=le.isFunction(v);if(y||!(1>=d||"string"!=typeof v||le.support.checkClone)&&nn.test(v))return this.each(function(i){var o=h.eq(i);y&&(t[0]=v.call(this,i,n?o.html():e)),o.domManip(t,n,r)});if(d&&(u=le.buildFragment(t,this[0].ownerDocument,!1,this),i=u.firstChild,1===u.childNodes.length&&(u=i),i)){for(n=n&&le.nodeName(i,"tr"),a=le.map(_(u,"script"),f),s=a.length;d>c;c++)o=u,c!==g&&(o=le.clone(o,!0,!0),s&&le.merge(a,_(o,"script"))),r.call(n&&le.nodeName(this[c],"table")?p(this[c],"tbody"):this[c],o,c);if(s)for(l=a[a.length-1].ownerDocument,le.map(a,m),c=0;s>c;c++)o=a[c],rn.test(o.type||"")&&!le._data(o,"globalEval")&&le.contains(l,o)&&(o.src?le.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):le.globalEval((o.text||o.textContent||o.innerHTML||"").replace(sn,"")));u=i=null}return this}}),le.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){le.fn[t]=function(t){for(var n,r=0,i=[],o=le(t),s=o.length-1;s>=r;r++)n=r===s?this:this.clone(!0),le(o[r])[e](n),ne.apply(i,n.get());return this.pushStack(i)}}),le.extend({clone:function(t,e,n){var r,i,o,s,a,l=le.contains(t.ownerDocument,t);if(le.support.html5Clone||le.isXMLDoc(t)||!Ge.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(un.innerHTML=t.outerHTML,un.removeChild(o=un.firstChild)),!(le.support.noCloneEvent&&le.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||le.isXMLDoc(t)))for(r=_(o),a=_(t),s=0;null!=(i=a[s]);++s)r[s]&&y(i,r[s]);if(e)if(n)for(a=a||_(t),r=r||_(o),s=0;null!=(i=a[s]);s++)v(i,r[s]);else v(t,o);return r=_(o,"script"),r.length>0&&g(r,!l&&_(t,"script")),r=a=i=null,o},buildFragment:function(t,e,n,r){for(var i,o,s,a,l,u,c,d=t.length,p=h(e),f=[],m=0;d>m;m++)if(o=t[m],o||0===o)if("object"===le.type(o))le.merge(f,o.nodeType?[o]:o);else if(Ze.test(o)){for(a=a||p.appendChild(e.createElement("div")),l=(Ke.exec(o)||["",""])[1].toLowerCase(),c=an[l]||an._default,a.innerHTML=c[1]+o.replace(Je,"<$1></$2>")+c[2],i=c[0];i--;)a=a.lastChild;if(!le.support.leadingWhitespace&&Xe.test(o)&&f.push(e.createTextNode(Xe.exec(o)[0])),!le.support.tbody)for(o="table"!==l||Qe.test(o)?"<table>"!==c[1]||Qe.test(o)?0:a:a.firstChild,i=o&&o.childNodes.length;i--;)le.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(le.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else f.push(e.createTextNode(o));for(a&&p.removeChild(a),le.support.appendChecked||le.grep(_(f,"input"),b),m=0;o=f[m++];)if((!r||-1===le.inArray(o,r))&&(s=le.contains(o.ownerDocument,o),a=_(p.appendChild(o),"script"),s&&g(a),n))for(i=0;o=a[i++];)rn.test(o.type||"")&&n.push(o);return a=null,p},cleanData:function(t,e){for(var n,r,i,o,s=0,a=le.expando,l=le.cache,u=le.support.deleteExpando,c=le.event.special;null!=(n=t[s]);s++)if((e||le.acceptData(n))&&(i=n[a],o=i&&l[i])){if(o.events)for(r in o.events)c[r]?le.event.remove(n,r):le.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[a]:typeof n.removeAttribute!==q?n.removeAttribute(a):n[a]=null,Z.push(i))}}});var cn,dn,hn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=RegExp("^("+ue+")(.*)$","i"),_n=RegExp("^("+ue+")(?!px)[a-z%]+$","i"),bn=RegExp("^([+-])=("+ue+")","i"),wn={BODY:"block"},Tn={position:"absolute",visibility:"hidden",display:"block"},xn={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],Sn=["Webkit","O","Moz","ms"];le.fn.extend({css:function(t,n){return le.access(this,function(t,n,r){var i,o,s={},a=0;if(le.isArray(n)){for(o=dn(t),i=n.length;i>a;a++)s[n[a]]=le.css(t,n[a],!1,o);return s}return r!==e?le.style(t,n,r):le.css(t,n)},t,n,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:T(this))?le(this).show():le(this).hide()})}}),le.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=hn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":le.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,r,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,l=le.camelCase(n),u=t.style;if(n=le.cssProps[l]||(le.cssProps[l]=w(u,l)),a=le.cssHooks[n]||le.cssHooks[l],r===e)return a&&"get"in a&&(o=a.get(t,!1,i))!==e?o:u[n];if(s=typeof r,"string"===s&&(o=bn.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(le.css(t,n)),s="number"),!(null==r||"number"===s&&isNaN(r)||("number"!==s||le.cssNumber[l]||(r+="px"),le.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),a&&"set"in a&&(r=a.set(t,r,i))===e)))try{u[n]=r}catch(c){}}},css:function(t,n,r,i){var o,s,a,l=le.camelCase(n);return n=le.cssProps[l]||(le.cssProps[l]=w(t.style,l)),a=le.cssHooks[n]||le.cssHooks[l],a&&"get"in a&&(s=a.get(t,!0,r)),s===e&&(s=hn(t,n,i)),"normal"===s&&n in xn&&(s=xn[n]),""===r||r?(o=parseFloat(s),r===!0||le.isNumeric(o)?o||0:s):s
},swap:function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i}}),t.getComputedStyle?(dn=function(e){return t.getComputedStyle(e,null)},hn=function(t,n,r){var i,o,s,a=r||dn(t),l=a?a.getPropertyValue(n)||a[n]:e,u=t.style;return a&&(""!==l||le.contains(t.ownerDocument,t)||(l=le.style(t,n)),_n.test(l)&&vn.test(n)&&(i=u.width,o=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=a.width,u.width=i,u.minWidth=o,u.maxWidth=s)),l}):G.documentElement.currentStyle&&(dn=function(t){return t.currentStyle},hn=function(t,n,r){var i,o,s,a=r||dn(t),l=a?a[n]:e,u=t.style;return null==l&&u&&u[n]&&(l=u[n]),_n.test(l)&&!mn.test(n)&&(i=u.left,o=t.runtimeStyle,s=o&&o.left,s&&(o.left=t.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,s&&(o.left=s)),""===l?"auto":l}),le.each(["height","width"],function(t,n){le.cssHooks[n]={get:function(t,r,i){return r?0===t.offsetWidth&&gn.test(le.css(t,"display"))?le.swap(t,Tn,function(){return C(t,n,i)}):C(t,n,i):e},set:function(t,e,r){var i=r&&dn(t);return k(t,e,r?S(t,n,r,le.support.boxSizing&&"border-box"===le.css(t,"boxSizing",!1,i),i):0)}}}),le.support.opacity||(le.cssHooks.opacity={get:function(t,e){return fn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,r=t.currentStyle,i=le.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===le.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||r&&!r.filter)||(n.filter=pn.test(o)?o.replace(pn,i):o+" "+i)}}),le(function(){le.support.reliableMarginRight||(le.cssHooks.marginRight={get:function(t,n){return n?le.swap(t,{display:"inline-block"},hn,[t,"marginRight"]):e}}),!le.support.pixelPosition&&le.fn.position&&le.each(["top","left"],function(t,n){le.cssHooks[n]={get:function(t,r){return r?(r=hn(t,n),_n.test(r)?le(t).position()[n]+"px":r):e}}})}),le.expr&&le.expr.filters&&(le.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight||!le.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||le.css(t,"display"))},le.expr.filters.visible=function(t){return!le.expr.filters.hidden(t)}),le.each({margin:"",padding:"",border:"Width"},function(t,e){le.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+kn[r]+e]=o[r]||o[r-2]||o[0];return i}},vn.test(t)||(le.cssHooks[t+e].set=k)});var Cn=/%20/g,En=/\[\]$/,$n=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,Pn=/^(?:input|select|textarea|keygen)/i;le.fn.extend({serialize:function(){return le.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=le.prop(this,"elements");return t?le.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!le(this).is(":disabled")&&Pn.test(this.nodeName)&&!Dn.test(t)&&(this.checked||!en.test(t))}).map(function(t,e){var n=le(this).val();return null==n?null:le.isArray(n)?le.map(n,function(t){return{name:e.name,value:t.replace($n,"\r\n")}}):{name:e.name,value:n.replace($n,"\r\n")}}).get()}}),le.param=function(t,n){var r,i=[],o=function(t,e){e=le.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=le.ajaxSettings&&le.ajaxSettings.traditional),le.isArray(t)||t.jquery&&!le.isPlainObject(t))le.each(t,function(){o(this.name,this.value)});else for(r in t)D(r,t[r],n,o);return i.join("&").replace(Cn,"+")},le.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){le.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),le.fn.hover=function(t,e){return this.mouseenter(t).mouseleave(e||t)};var Nn,An,Mn=le.now(),On=/\?/,Ln=/#.*$/,In=/([?&])_=[^&]*/,Rn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hn=/^(?:GET|HEAD)$/,Fn=/^\/\//,Wn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Bn=le.fn.load,Un={},Yn={},zn="*/".concat("*");try{An=X.href}catch(Vn){An=G.createElement("a"),An.href="",An=An.href}Nn=Wn.exec(An.toLowerCase())||[],le.fn.load=function(t,n,r){if("string"!=typeof t&&Bn)return Bn.apply(this,arguments);var i,o,s,a=this,l=t.indexOf(" ");return l>=0&&(i=t.slice(l,t.length),t=t.slice(0,l)),le.isFunction(n)?(r=n,n=e):n&&"object"==typeof n&&(s="POST"),a.length>0&&le.ajax({url:t,type:s,dataType:"html",data:n}).done(function(t){o=arguments,a.html(i?le("<div>").append(le.parseHTML(t)).find(i):t)}).complete(r&&function(t,e){a.each(r,o||[t.responseText,e,t])}),this},le.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){le.fn[e]=function(t){return this.on(e,t)}}),le.each(["get","post"],function(t,n){le[n]=function(t,r,i,o){return le.isFunction(r)&&(o=o||i,i=r,r=e),le.ajax({url:t,type:n,dataType:o,data:r,success:i})}}),le.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:An,type:"GET",isLocal:jn.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":le.parseJSON,"text xml":le.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?A(A(t,le.ajaxSettings),e):A(le.ajaxSettings,t)},ajaxPrefilter:P(Un),ajaxTransport:P(Yn),ajax:function(t,n){function r(t,n,r,i){var o,d,y,_,w,x=n;2!==b&&(b=2,l&&clearTimeout(l),c=e,a=i||"",T.readyState=t>0?4:0,r&&(_=M(h,T,r)),t>=200&&300>t||304===t?(h.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(le.lastModified[s]=w),w=T.getResponseHeader("etag"),w&&(le.etag[s]=w)),204===t?(o=!0,x="nocontent"):304===t?(o=!0,x="notmodified"):(o=O(h,_),x=o.state,d=o.data,y=o.error,o=!y)):(y=x,(t||!x)&&(x="error",0>t&&(t=0))),T.status=t,T.statusText=(n||x)+"",o?m.resolveWith(p,[d,x,T]):m.rejectWith(p,[T,x,y]),T.statusCode(v),v=e,u&&f.trigger(o?"ajaxSuccess":"ajaxError",[T,h,o?d:y]),g.fireWith(p,[T,x]),u&&(f.trigger("ajaxComplete",[T,h]),--le.active||le.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var i,o,s,a,l,u,c,d,h=le.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?le(p):le.event,m=le.Deferred(),g=le.Callbacks("once memory"),v=h.statusCode||{},y={},_={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!d)for(d={};e=Rn.exec(a);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=_[n]=_[n]||t,y[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else T.always(t[T.status]);return this},abort:function(t){var e=t||w;return c&&c.abort(e),r(0,e),this}};if(m.promise(T).complete=g.add,T.success=T.done,T.error=T.fail,h.url=((t||h.url||An)+"").replace(Ln,"").replace(Fn,Nn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=le.trim(h.dataType||"*").toLowerCase().match(ce)||[""],null==h.crossDomain&&(i=Wn.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===Nn[1]&&i[2]===Nn[2]&&(i[3]||("http:"===i[1]?80:443))==(Nn[3]||("http:"===Nn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=le.param(h.data,h.traditional)),N(Un,h,n,T),2===b)return T;u=h.global,u&&0===le.active++&&le.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Hn.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(On.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=In.test(s)?s.replace(In,"$1_="+Mn++):s+(On.test(s)?"&":"?")+"_="+Mn++)),h.ifModified&&(le.lastModified[s]&&T.setRequestHeader("If-Modified-Since",le.lastModified[s]),le.etag[s]&&T.setRequestHeader("If-None-Match",le.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",h.contentType),T.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+zn+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)T.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(p,T,h)===!1||2===b))return T.abort();w="abort";for(o in{success:1,error:1,complete:1})T[o](h[o]);if(c=N(Yn,h,n,T)){T.readyState=1,u&&f.trigger("ajaxSend",[T,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){T.abort("timeout")},h.timeout));try{b=1,c.send(y,r)}catch(x){if(!(2>b))throw x;r(-1,x)}}else r(-1,"No Transport");return T},getScript:function(t,n){return le.get(t,e,n,"script")},getJSON:function(t,e,n){return le.get(t,e,n,"json")}}),le.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return le.globalEval(t),t}}}),le.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),le.ajaxTransport("script",function(t){if(t.crossDomain){var n,r=G.head||le("head")[0]||G.documentElement;return{send:function(e,i){n=G.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,e){(e||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,e||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(e,!0)}}}});var qn=[],Gn=/(=)\?(?=&|$)|\?\?/;le.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qn.pop()||le.expando+"_"+Mn++;return this[t]=!0,t}}),le.ajaxPrefilter("json jsonp",function(n,r,i){var o,s,a,l=n.jsonp!==!1&&(Gn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=le.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Gn,"$1"+o):n.jsonp!==!1&&(n.url+=(On.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||le.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=t[o],t[o]=function(){a=arguments},i.always(function(){t[o]=s,n[o]&&(n.jsonpCallback=r.jsonpCallback,qn.push(o)),a&&le.isFunction(s)&&s(a[0]),a=s=e}),"script"):e});var Xn,Jn,Kn=0,Qn=t.ActiveXObject&&function(){var t;for(t in Xn)Xn[t](e,!0)};le.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&L()||I()}:L,Jn=le.ajaxSettings.xhr(),le.support.cors=!!Jn&&"withCredentials"in Jn,Jn=le.support.ajax=!!Jn,Jn&&le.ajaxTransport(function(n){if(!n.crossDomain||le.support.cors){var r;return{send:function(i,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(a in i)l.setRequestHeader(a,i[a])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(t,i){var a,u,c,d;try{if(r&&(i||4===l.readyState))if(r=e,s&&(l.onreadystatechange=le.noop,Qn&&delete Xn[s]),i)4!==l.readyState&&l.abort();else{d={},a=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{c=l.statusText}catch(h){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(p){i||o(-1,p)}d&&o(a,c,d,u)},n.async?4===l.readyState?setTimeout(r):(s=++Kn,Qn&&(Xn||(Xn={},le(t).unload(Qn)),Xn[s]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(e,!0)}}}});var Zn,tr,er=/^(?:toggle|show|hide)$/,nr=RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),rr=/queueHooks$/,ir=[W],or={"*":[function(t,e){var n,r,i=this.createTween(t,e),o=nr.exec(e),s=i.cur(),a=+s||0,l=1,u=20;if(o){if(n=+o[2],r=o[3]||(le.cssNumber[t]?"":"px"),"px"!==r&&a){a=le.css(i.elem,t,!0)||n||1;do l=l||".5",a/=l,le.style(i.elem,t,a+r);while(l!==(l=i.cur()/s)&&1!==l&&--u)}i.unit=r,i.start=a,i.end=o[1]?a+(o[1]+1)*n:n}return i}]};le.Animation=le.extend(H,{tweener:function(t,e){le.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],or[n]=or[n]||[],or[n].unshift(e)},prefilter:function(t,e){e?ir.unshift(t):ir.push(t)}}),le.Tween=B,B.prototype={constructor:B,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(le.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.pos=e=this.options.duration?le.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=le.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){le.fx.step[t.prop]?le.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[le.cssProps[t.prop]]||le.cssHooks[t.prop])?le.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},le.each(["toggle","show","hide"],function(t,e){var n=le.fn[e];le.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(U(e,!0),t,r,i)}}),le.fn.extend({fadeTo:function(t,e,n,r){return this.filter(T).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=le.isEmptyObject(t),o=le.speed(e,n,r),s=function(){var e=H(this,le.extend({},t),o);s.finish=function(){e.stop(!0)},(i||le._data(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,n,r){var i=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=le.timers,s=le._data(this);if(n)s[n]&&s[n].stop&&i(s[n]);else for(n in s)s[n]&&s[n].stop&&rr.test(n)&&i(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(r),e=!1,o.splice(n,1));(e||!r)&&le.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=le._data(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=le.timers,s=r?r.length:0;for(n.finish=!0,le.queue(this,t,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),le.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){le.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),le.speed=function(t,e,n){var r=t&&"object"==typeof t?le.extend({},t):{complete:n||!n&&e||le.isFunction(t)&&t,duration:t,easing:n&&e||e&&!le.isFunction(e)&&e};return r.duration=le.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in le.fx.speeds?le.fx.speeds[r.duration]:le.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){le.isFunction(r.old)&&r.old.call(this),r.queue&&le.dequeue(this,r.queue)},r},le.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},le.timers=[],le.fx=B.prototype.init,le.fx.tick=function(){var t,n=le.timers,r=0;for(Zn=le.now();n.length>r;r++)t=n[r],t()||n[r]!==t||n.splice(r--,1);n.length||le.fx.stop(),Zn=e},le.fx.timer=function(t){t()&&le.timers.push(t)&&le.fx.start()},le.fx.interval=13,le.fx.start=function(){tr||(tr=setInterval(le.fx.tick,le.fx.interval))},le.fx.stop=function(){clearInterval(tr),tr=null},le.fx.speeds={slow:600,fast:200,_default:400},le.fx.step={},le.expr&&le.expr.filters&&(le.expr.filters.animated=function(t){return le.grep(le.timers,function(e){return t===e.elem}).length}),le.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){le.offset.setOffset(this,t,e)});var n,r,i={top:0,left:0},o=this[0],s=o&&o.ownerDocument;return s?(n=s.documentElement,le.contains(n,o)?(typeof o.getBoundingClientRect!==q&&(i=o.getBoundingClientRect()),r=Y(s),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i):void 0},le.offset={setOffset:function(t,e,n){var r=le.css(t,"position");"static"===r&&(t.style.position="relative");var i,o,s=le(t),a=s.offset(),l=le.css(t,"top"),u=le.css(t,"left"),c=("absolute"===r||"fixed"===r)&&le.inArray("auto",[l,u])>-1,d={},h={};c?(h=s.position(),i=h.top,o=h.left):(i=parseFloat(l)||0,o=parseFloat(u)||0),le.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+i),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):s.css(d)}},le.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},r=this[0];return"fixed"===le.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),le.nodeName(t[0],"html")||(n=t.offset()),n.top+=le.css(t[0],"borderTopWidth",!0),n.left+=le.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-le.css(r,"marginTop",!0),left:e.left-n.left-le.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||G.documentElement;t&&!le.nodeName(t,"html")&&"static"===le.css(t,"position");)t=t.offsetParent;return t||G.documentElement})}}),le.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r=/Y/.test(n);le.fn[t]=function(i){return le.access(this,function(t,i,o){var s=Y(t);return o===e?s?n in s?s[n]:s.document.documentElement[i]:t[i]:(s?s.scrollTo(r?le(s).scrollLeft():o,r?o:le(s).scrollTop()):t[i]=o,e)},t,i,arguments.length,null)}}),le.each({Height:"height",Width:"width"},function(t,n){le.each({padding:"inner"+t,content:n,"":"outer"+t},function(r,i){le.fn[i]=function(i,o){var s=arguments.length&&(r||"boolean"!=typeof i),a=r||(i===!0||o===!0?"margin":"border");return le.access(this,function(n,r,i){var o;return le.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):i===e?le.css(n,r,a):le.style(n,r,i,a)},n,s?i:e,s,null)}})}),t.jQuery=t.$=le,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return le})}(window),define("utils/events",[],function(){var t=/\s+/,e=0,n=Object.prototype.hasOwnProperty,r=Array.prototype.slice,i={once:function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},uniqueId:function(t){var n=""+ ++e;return t?t+n:n},keys:Object.keys||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var r in t)n.call(t,r)&&(e[e.length]=r);return e}},o=function(e,n,r,i){if(!r)return!0;if("object"==typeof r)for(var o in r)e[n].apply(e,[o,r[o]].concat(i));else{if(!t.test(r))return!0;for(var s=r.split(t),a=0,l=s.length;l>a;a++)e[n].apply(e,[s[a]].concat(i))}},s=function(t,e){var n,r=-1,i=t.length;switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,e[0]);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,e[0],e[1]);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,e[0],e[1],e[2]);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e)}};return{on:function(t,e,n){if(!o(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!o(this,"once",t,[e,n])||!e)return this;var r=this,s=i.once(function(){r.off(t,s),e.apply(this,arguments)});return s._callback=e,this.on(t,s,n),this},off:function(t,e,n){var r,s,a,l,u,c,d,h;if(!this._events||!o(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(l=t?[t]:i.keys(this._events),u=0,c=l.length;c>u;u++)if(t=l[u],r=this._events[t]){if(a=[],e||n)for(d=0,h=r.length;h>d;d++)s=r[d],(e&&e!==s.callback&&e!==s.callback._callback||n&&n!==s.context)&&a.push(s);this._events[t]=a}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!o(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&s(n,e),i&&s(i,arguments),this},listenTo:function(t,e,n){var r=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=i.uniqueId("l"));return r[o]=t,t.on(e,"object"==typeof e?this:n,this),this},stopListening:function(t,e,n){var r=this._listeners;if(r){if(t)t.off(e,"object"==typeof e?this:n,this),e||n||delete r[t._listenerId];else{"object"==typeof e&&(n=this);for(var i in r)r[i].off(e,n,this);this._listeners={}}return this}}}});var __slice=[].slice;define("utils/extend",[],function(){return function(){var t,e,n,r,i,o;for(n=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],i=0,o=e.length;o>i;i++){t=e[i];for(r in t)n[r]=t[r]}return n}}),define("utils/dispatcher",["utils/events","utils/extend"],function(t,e){var n;return n=function(){function t(){}return t}(),e(n.prototype,t),new n}),define("frontend/nyt",["utils/dispatcher"],function(t){return{events:t}});var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{},jaaulde.utils.cookies=function(){var t,e,n,r,i={expiresAt:null,path:"/",domain:null,secure:!1};return t=function(t){var e,n;return"object"!=typeof t||null===t?e=i:(e={expiresAt:i.expiresAt,path:i.path,domain:i.domain,secure:i.secure},"object"==typeof t.expiresAt&&t.expiresAt instanceof Date?e.expiresAt=t.expiresAt:"number"==typeof t.hoursToLive&&0!==t.hoursToLive&&(n=new Date,n.setTime(n.getTime()+60*t.hoursToLive*60*1e3),e.expiresAt=n),"string"==typeof t.path&&""!==t.path&&(e.path=t.path),"string"==typeof t.domain&&""!==t.domain&&(e.domain=t.domain),t.secure===!0&&(e.secure=t.secure)),e},e=function(e){return e=t(e),("object"==typeof e.expiresAt&&e.expiresAt instanceof Date?"; expires="+e.expiresAt.toGMTString():"")+"; path="+e.path+("string"==typeof e.domain?"; domain="+e.domain:"")+(e.secure===!0?"; secure":"")},n=function(){var t,e,n,r,i,o={},s=document.cookie.split(";");for(t=0;t<s.length;t+=1){e=s[t].split("="),n=e[0].replace(/^\s*/,"").replace(/\s*$/,"");try{r=decodeURIComponent(e[1])}catch(a){r=e[1]}if("object"==typeof JSON&&null!==JSON&&"function"==typeof JSON.parse)try{i=r,r=JSON.parse(r)}catch(l){r=i}o[n]=r}return o},r=function(){},r.prototype.get=function(t){var e,r,i=n();if("string"==typeof t)e="undefined"!=typeof i[t]?i[t]:null;else if("object"==typeof t&&null!==t){e={};for(r in t)e[t[r]]="undefined"!=typeof i[t[r]]?i[t[r]]:null}else e=i;return e},r.prototype.filter=function(t){var e,r={},i=n();"string"==typeof t&&(t=new RegExp(t));for(e in i)e.match(t)&&(r[e]=i[e]);return r},r.prototype.set=function(t,n,r){if(("object"!=typeof r||null===r)&&(r={}),"undefined"==typeof n||null===n)n="",r.hoursToLive=-8760;else if("string"!=typeof n){if("object"!=typeof JSON||null===JSON||"function"!=typeof JSON.stringify)throw new Error("cookies.set() received non-string value and could not serialize.");n=JSON.stringify(n)}var i=e(r);document.cookie=t+"="+encodeURIComponent(n)+i},r.prototype.del=function(t,e){var n,r={};("object"!=typeof e||null===e)&&(e={}),"boolean"==typeof t&&t===!0?r=this.get():"string"==typeof t&&(r[t]=!0);for(n in r)"string"==typeof n&&""!==n&&this.set(n,null,e)},r.prototype.test=function(){var t=!1,e="cT",n="data";return this.set(e,n),this.get(e)===n&&(this.del(e),t=!0),t},r.prototype.setOptions=function(e){"object"!=typeof e&&(e=null),i=t(e)},new r}(),function(){window.jQuery&&!function(t){t.cookies=jaaulde.utils.cookies;var e={cookify:function(e){return this.each(function(){var n,r,i,o=["name","id"],s=t(this);for(n in o)if(!isNaN(n)&&(r=s.attr(o[n]),"string"==typeof r&&""!==r)){s.is(":checkbox, :radio")?s.attr("checked")&&(i=s.val()):i=s.is(":input")?s.val():s.html(),("string"!=typeof i||""===i)&&(i=null),t.cookies.set(r,i,e);break}})},cookieFill:function(){return this.each(function(){var e,n,r,i,o=["name","id"],s=t(this);for(n=function(){return e=o.pop(),!!e};n();)if(r=s.attr(e),"string"==typeof r&&""!==r){i=t.cookies.get(r),null!==i&&(s.is(":checkbox, :radio")?s.val()===i?s.attr("checked","checked"):s.removeAttr("checked"):s.is(":input")?s.val(i):s.html(i));break}})},cookieBind:function(e){return this.each(function(){var n=t(this);n.cookieFill().change(function(){n.cookify(e)})})}};t.each(e,function(e){t.fn[e]=this})}(window.jQuery)}(),define("jquery.cookies",["jquery"],function(t){return function(){var e;return e||t.$.cookies}}(this));var __indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("frontend/user-details",["frontend/nyt","jquery.cookies"],function(t){return function(){var e,n;return e=$.cookies.get("loginTime"),n=!1,$.ajax({url:"/svc/web-products/userinfo-v2.json"+(e?"?lt="+e:""),dataType:"json",success:function(e){var r,i;return(null!=e?e.data:void 0)&&"0"!==e.data.id?(n=__indexOf.call(e.data.subscription,"web")>=0||__indexOf.call(e.data.subscription,"MOW")>=0,n?(r=2,overwriteMetaTag("WT.rv",1)):(r=1,overwriteMetaTag("WT.rv",0)),$.cookies.set("subLevel",r)):$.cookies.del("subLevel"),null!=(null!=e?e.data:void 0)?t.events.trigger("fetch:user-details",n,e.data.name,e.data):t.events.trigger("fetch:user-details-nologin",null),"function"==typeof window.loginCheck&&window.loginCheck(),(null!=e&&null!=(i=e.data)?i.id:void 0)&&overwriteMetaTag("WT.dcsvid",e.data.id),NYTD.Tracker.init()},error:function(){return t.events.trigger("fetch:user-details"),overwriteMetaTag("WT.rv",0),NYTD.Tracker.init()}})}}),define("views/base.view",["utils/extend","utils/events","frontend/nyt","jquery"],function(t,e,n,r){var i,o,s,a,l,u,c,d;return o=/^data-view-.+/,s=/^data-view-/,c=/^[0-9]+$/g,l=/^(\S+)\s*(.*)$/,a=".bindEvents",u=0,d=function(){return++u},i=function(){function e(t){this.opts=null!=t?t:{},this.cid=d(),this._cachedChildren={},this.opts.model&&(this.model=this.opts.model),this.data={},this.setEl(this.opts.el)._setData().bindEvents().init.apply(this,arguments)}return e.prototype.ASSETS=("undefined"!=typeof MWR&&null!==MWR?MWR.assets:void 0)||"",e.prototype.$html=r("html"),e.prototype.$window=r(window),e.prototype.$body=r("body"),e.prototype.tagName="div",e.prototype.setEl=function(t){if(t){if(this.$el=t instanceof r?t:r("body"===t?"body":"[data-view-el="+t+"]"),!this.$el.length)throw new Error("No element found in DOM for "+t);this.tagName=this.$el[0].nodeName.toLowerCase()}else this.$el=r("<"+this.tagName+">");return this.el=this.$el[0],this.id&&this.$el.attr("id",this.id),this.className&&this.$el.addClass(this.className),this},e.prototype._setData=function(){var t,e,n,r,i,a,l;for(e=this.el.attributes,n=a=0,l=e.length-1;l>=0?l>=a:a>=l;n=l>=0?++a:--a)e.item(n)&&(t=e.item(n).nodeName.toLowerCase(),o.test(t)&&(r=t.replace(s,""),null==this.data[r]&&(i=e.item(n).value,this.data[r]=c.test(i)?parseInt(i,10):i)));return this},e.prototype.bindEvents=function(){var t,e,n,r,i,o;if(!this.events)return this;this.unbindEvents(),o=this.events;for(e in o){if(r=o[e],"string"==typeof r&&(r=this[r]),!r)throw new Error("Method "+r+" does not exist");n=e.match(l),t=""+n[1]+a+this.cid,i=n[2],r=r.bind(this),""===i?this.$el.on(t,r):this.$el.on(t,i,r)}return this},e.prototype.unbindEvents=function(){return this.$el.off(""+a+this.cid),this},e.prototype.init=function(){},e.prototype.load=function(e){if(null==e&&(e={}),!this.url)throw new Error("No url is set on view");return t(e,{url:this.url,dataType:"html",success:function(t){return function(n,i,o){return 200===o.status||304===o.status?(t.constructor({el:r(n)}),e.success&&e.success.call(t,arguments),t.trigger("load",t)):e.error?e.error.call(t,arguments):void 0}}(this)}),r.ajax(e)},e.prototype.$=function(t){return this._cachedChildren[t]||(this._cachedChildren[t]=this.$el.find(t))},e.prototype.remove=function(){return this.$el.remove(),this},e.prototype.destroy=function(){return this.preDestroy(),this.remove().unbindEvents(),this.stopListening(),this.$el.remove(),this.trigger("destroy",this),this.postDestroy(),this},e.prototype.preDestroy=function(){return this},e.prototype.postDestroy=function(){return this},e.prototype.globalEvents=n.events,e.isSupported=function(){return!0},e}(),t(i.prototype,e),i}),define("utils/hasFixedSupport",[],function(){return function(){var t,e,n,r,i,o;return t=document.body,document.createElement&&t&&t.appendChild&&t.removeChild?(e=document.createElement("div"),e.getBoundingClientRect?(e.innerHTML="x",e.style.cssText="position:fixedtop:100px",t.appendChild(e),i=t.style.height,o=t.scrollTop,t.style.height="3000px",t.scrollTop=500,n=e.getBoundingClientRect().top,t.style.height=i,r=100===n,t.removeChild(e),t.scrollTop=o,!r):null):null}}),define("utils/getScrollPos",[],function(){var t;return t=navigator.userAgent.match(/(iPhone|iPod)/g)?!0:!1,function(){var e;return e=window.scrollY||window.pageYOffset,t?e+60:e}}),function(t){function e(t,e){return function(n){return l(t.call(this,n),e)}}function n(t){return function(e){return this.lang().ordinal(t.call(this,e))}}function r(){}function i(t){s(this,t)}function o(t){var e=this._data={},n=t.years||t.year||t.y||0,r=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,o=t.days||t.day||t.d||0,s=t.hours||t.hour||t.h||0,l=t.minutes||t.minute||t.m||0,u=t.seconds||t.second||t.s||0,c=t.milliseconds||t.millisecond||t.ms||0;this._milliseconds=c+1e3*u+6e4*l+36e5*s,this._days=o+7*i,this._months=r+12*n,e.milliseconds=c%1e3,u+=a(c/1e3),e.seconds=u%60,l+=a(u/60),e.minutes=l%60,s+=a(l/60),e.hours=s%24,o+=a(s/24),o+=7*i,e.days=o%30,r+=a(o/30),e.months=r%12,n+=a(r/12),e.years=n}function s(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function a(t){return 0>t?Math.ceil(t):Math.floor(t)}function l(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function u(t,e,n){var r,i=e._milliseconds,o=e._days,s=e._months;i&&t._d.setTime(+t+i*n),o&&t.date(t.date()+o*n),s&&(r=t.date(),t.date(1).month(t.month()+s*n).date(Math.min(r,t.daysInMonth())))}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t,e){var n,r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0;for(n=0;r>n;n++)~~t[n]!==~~e[n]&&o++;return o+i}function h(t,e){return e.abbr=t,L[t]||(L[t]=new r),L[t].set(e),L[t]}function p(t){return t?(!L[t]&&I&&require("./lang/"+t),L[t]):N.fn._lang}function f(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function m(t){var e,n,r=t.match(j);for(e=0,n=r.length;n>e;e++)r[e]=ie[r[e]]?ie[r[e]]:f(r[e]);return function(i){var o="";for(e=0;n>e;e++)o+="function"==typeof r[e].call?r[e].call(i,t):r[e];return o}}function g(t,e){function n(e){return t.lang().longDateFormat(e)||e}for(var r=5;r--&&H.test(e);)e=e.replace(H,n);return ee[e]||(ee[e]=m(e)),ee[e](t)}function v(t){switch(t){case"DDDD":return B;case"YYYY":return U;case"YYYYY":return Y;case"S":case"SS":case"SSS":case"DDD":return W;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return z;case"X":return G;case"Z":case"ZZ":return V;case"T":return q;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return F;default:return new RegExp(t.replace("\\",""))}}function y(t,e,n){var r,i=n._a;switch(t){case"M":case"MM":i[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":r=p(n._l).monthsParse(e),null!=r?i[1]=r:n._isValid=!1;
break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(i[2]=~~e);break;case"YY":i[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~e;break;case"a":case"A":n._isPm="pm"===(e+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":i[3]=~~e;break;case"m":case"mm":i[4]=~~e;break;case"s":case"ss":i[5]=~~e;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,r=(e+"").match(Q),r&&r[1]&&(n._tzh=~~r[1]),r&&r[2]&&(n._tzm=~~r[2]),r&&"+"===r[0]&&(n._tzh=-n._tzh,n._tzm=-n._tzm)}null==e&&(n._isValid=!1)}function _(t){var e,n,r=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];r[3]+=t._tzh||0,r[4]+=t._tzm||0,n=new Date(0),t._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),t._d=n}}function b(t){var e,n,r=t._f.match(j),i=t._i;for(t._a=[],e=0;e<r.length;e++)n=(v(r[e]).exec(i)||[])[0],n&&(i=i.slice(i.indexOf(n)+n.length)),ie[r[e]]&&y(r[e],n,t);t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),_(t)}function w(t){for(var e,n,r,o,a=99;t._f.length;){if(e=s({},t),e._f=t._f.pop(),b(e),n=new i(e),n.isValid()){r=n;break}o=d(e._a,n.toArray()),a>o&&(a=o,r=n)}s(t,r)}function T(t){var e,n=t._i;if(X.exec(n)){for(t._f="YYYY-MM-DDT",e=0;4>e;e++)if(K[e][1].exec(n)){t._f+=K[e][0];break}V.exec(n)&&(t._f+=" Z"),b(t)}else t._d=new Date(n)}function x(e){var n=e._i,r=R.exec(n);n===t?e._d=new Date:r?e._d=new Date(+r[1]):"string"==typeof n?T(e):c(n)?(e._a=n.slice(0),_(e)):e._d=new Date(n instanceof Date?+n:n)}function k(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function S(t,e,n){var r=O(Math.abs(t)/1e3),i=O(r/60),o=O(i/60),s=O(o/24),a=O(s/365),l=45>r&&["s",r]||1===i&&["m"]||45>i&&["mm",i]||1===o&&["h"]||22>o&&["hh",o]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",O(s/30)]||1===a&&["y"]||["yy",a];return l[2]=e,l[3]=t>0,l[4]=n,k.apply({},l)}function C(t,e,n){var r=n-e,i=n-t.day();return i>r&&(i-=7),r-7>i&&(i+=7),Math.ceil(N(t).add("d",i).dayOfYear()/7)}function E(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=p().preparse(e)),N.isMoment(e)?(t=s({},e),t._d=new Date(+e._d)):n?c(n)?w(t):b(t):x(t),new i(t))}function $(t,e){N.fn[t]=N.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),this):this._d["get"+n+e]()}}function D(t){N.duration.fn[t]=function(){return this._data[t]}}function P(t,e){N.duration.fn["as"+t]=function(){return+this/e}}for(var N,A,M="2.0.0",O=Math.round,L={},I="undefined"!=typeof module&&module.exports,R=/^\/?Date\((\-?\d+)/i,j=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,F=/\d\d?/,W=/\d{1,3}/,B=/\d{3}/,U=/\d{1,4}/,Y=/[+\-]?\d{1,6}/,z=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,V=/Z|[\+\-]\d\d:?\d\d/i,q=/T/i,G=/[\+\-]?\d+(\.\d{1,3})?/,X=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,J="YYYY-MM-DDTHH:mm:ssZ",K=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Q=/([\+\-]|\d\d)/gi,Z="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),te={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ee={},ne="DDD w W M D d".split(" "),re="M D H h m s w W".split(" "),ie={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(t/60),2)+":"+l(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(10*t/6),4)},X:function(){return this.unix()}};ne.length;)A=ne.pop(),ie[A+"o"]=n(ie[A]);for(;re.length;)A=re.pop(),ie[A+A]=e(ie[A],2);for(ie.DDDD=e(ie.DDD,3),r.prototype={set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,r;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=N([2e3,e]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(r.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return C(t,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},N=function(t,e,n){return E({_i:t,_f:e,_l:n,_isUTC:!1})},N.utc=function(t,e,n){return E({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},N.unix=function(t){return N(1e3*t)},N.duration=function(t,e){var n,r=N.isDuration(t),i="number"==typeof t,s=r?t._data:i?{}:t;return i&&(e?s[e]=t:s.milliseconds=t),n=new o(s),r&&t.hasOwnProperty("_lang")&&(n._lang=t._lang),n},N.version=M,N.defaultFormat=J,N.lang=function(t,e){return t?(e?h(t,e):L[t]||p(t),void(N.duration.fn._lang=N.fn._lang=p(t))):N.fn._lang._abbr},N.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),p(t)},N.isMoment=function(t){return t instanceof i},N.isDuration=function(t){return t instanceof o},N.fn=i.prototype={clone:function(){return N(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return N.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?N.utc(this._a):N(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(t){var e=g(this,t||N.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?N.duration(+e,t):N.duration(t,e),u(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?N.duration(+e,t):N.duration(t,e),u(this,n,-1),this},diff:function(t,e,n){var r,i,o=this._isUTC?N(t).utc():N(t).local(),s=6e4*(this.zone()-o.zone());return e&&(e=e.replace(/s$/,"")),"year"===e||"month"===e?(r=432e5*(this.daysInMonth()+o.daysInMonth()),i=12*(this.year()-o.year())+(this.month()-o.month()),i+=(this-N(this).startOf("month")-(o-N(o).startOf("month")))/r,"year"===e&&(i/=12)):(r=this-o-s,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?r/864e5:"week"===e?r/6048e5:r),n?i:a(i)},from:function(t,e){return N.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(N(),t)},calendar:function(){var t=this.diff(N().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4===0&&t%100!==0||t%400===0},isDST:function(){return this.zone()<N([this.year()]).zone()||this.zone()<N([this.year(),5]).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:this.add({d:t-e})},startOf:function(t){switch(t=t.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.day(0),this},endOf:function(t){return this.startOf(t).add(t.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+N(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+N(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+N(t).startOf(e)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return N.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=O((N(this).startOf("day")-N(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},isoWeek:function(t){var e=C(this,1,4);return null==t?e:this.add("d",7*(t-e))},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},lang:function(e){return e===t?this._lang:(this._lang=p(e),this)}},A=0;A<Z.length;A++)$(Z[A].toLowerCase().replace(/s$/,""),Z[A]);$("year","FullYear"),N.fn.days=N.fn.day,N.fn.weeks=N.fn.week,N.fn.isoWeeks=N.fn.isoWeek,N.duration.fn=o.prototype={weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(t){var e=+this,n=S(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},lang:N.fn.lang};for(A in te)te.hasOwnProperty(A)&&(P(A,te[A]),D(A.toLowerCase()));P("Weeks",6048e5),N.lang("en",{ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),I&&(module.exports=N),"undefined"==typeof ender&&(this.moment=N),"function"==typeof define&&define.amd&&define("moment",[],function(){return N})}.call(this),define("text",["module"],function(t){var e,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,o=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,s="undefined"!=typeof location&&location.href,a=s&&location.protocol&&location.protocol.replace(/\:/,""),l=s&&location.hostname,u=s&&(location.port||void 0),c=[],d=t.config&&t.config()||{};return e={version:"2.0.5",strip:function(t){if(t){t=t.replace(i,"");var e=t.match(o);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var t,e,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){n=r[e];try{t=new ActiveXObject(n)}catch(i){}if(t){r=[n];break}}return t},parseName:function(t){var e,n,r,i=!1,o=t.indexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!s||o>1)?(e=t.substring(0,o),n=t.substring(o+1,t.length)):e=t,r=n||e,o=r.indexOf("!"),-1!==o&&(i="strip"===r.substring(o+1),r=r.substring(0,o),n?n=r:e=r),{moduleName:e,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,n,r,i){var o,s,a,l=e.xdRegExp.exec(t);return l?(o=l[2],s=l[3],s=s.split(":"),a=s[1],s=s[0],!(o&&o!==n||s&&s.toLowerCase()!==r.toLowerCase()||(a||s)&&a!==i)):!0},finishLoad:function(t,n,r,i){r=n?e.strip(r):r,d.isBuild&&(c[t]=r),i(r)},load:function(t,n,r,i){if(i.isBuild&&!i.inlineText)return void r();d.isBuild=i.isBuild;var o=e.parseName(t),c=o.moduleName+(o.ext?"."+o.ext:""),h=n.toUrl(c),p=d.useXhr||e.useXhr;!s||p(h,a,l,u)?e.get(h,function(n){e.finishLoad(t,o.strip,n,r)},function(t){r.error&&r.error(t)}):n([c],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,r)})},write:function(t,n,r){if(c.hasOwnProperty(n)){var i=e.jsEscape(c[n]);r.asModule(t+"!"+n,"define(function () { return '"+i+"';});\n")}},writeFile:function(t,n,r,i,o){var s=e.parseName(n),a=s.ext?"."+s.ext:"",l=s.moduleName+a,u=r.toUrl(s.moduleName+a)+".js";e.load(l,r,function(){var n=function(t){return i(u,t)};n.asModule=function(t,e){return i.asModule(t,u,e)},e.write(t,l,n,o)},o)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(n=require.nodeRequire("fs"),e.get=function(t,e){var r=n.readFileSync(t,"utf8");0===r.indexOf("﻿")&&(r=r.substring(1)),e(r)}):"xhr"===d.env||!d.env&&e.createXhr()?e.get=function(t,n,r,i){var o,s=e.createXhr();if(s.open("GET",t,!0),i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,t),s.onreadystatechange=function(){var e,i;4===s.readyState&&(e=s.status,e>399&&600>e?(i=new Error(t+" HTTP status: "+e),i.xhr=s,r(i)):n(s.responseText))},s.send(null)}:("rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(e.get=function(t,e){var n,r,i="utf-8",o=new java.io.File(t),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),i)),l="";try{for(n=new java.lang.StringBuffer,r=a.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),n.append(r);null!==(r=a.readLine());)n.append(s),n.append(r);l=String(n.toString())}finally{a.close()}e(l)}),e}),define("text!html/growl.html",[],function(){return'<div class="close" data-button="close"><i class="icon icon-close"></i></div>\n<ul>\n	<li class="message">You are reading <span data-view="count">5</span> of 10 free articles this month.</li>\n	<li class="nonsubscriber"><a href="#"><span class="marketing-text">Try unlimited Times Access for just 99&cent; &raquo;</span></a></li>\n</ul>\n'}),define("text!html/growl_v1.html",[],function(){return'<ul>\n<li><i class="icon icon-logo"></i><div class="close" data-button="close"><i class="icon icon-close-light"></i></div>\n<li>You have read <strong><span data-view="count">5</span> of 10 free articles</strong> this month.\n<li class="nonsubscriber"><a href="#">Subscribe today &raquo;</a>\n<li class="subscriber"><a href="#">Already a subscriber? Log in here.</a>\n</ul>\n'}),define("utils/sha1rand",[],function(){function t(t,e){return t<<e|t>>>32-e}return function(e){var n,r,i=1732584193,o=4023233417,s=2562383102,a=271733878,l=3285377520,u=4294967295,c=new Array(80),d=e.length,h=new Array;for(e+=String.fromCharCode(128);e.length%4;)e+=String.fromCharCode(0);for(n=0;n<e.length;n+=4)h.push(e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3));for(;h.length%16!=14;)h.push(0);h.push(d>>>29),h.push(d<<3&u);for(var p=0;p<h.length;p+=16){for(n=0;16>n;n++)c[n]=h[p+n];for(n=16;79>=n;n++)c[n]=t(c[n-3]^c[n-8]^c[n-14]^c[n-16],1);var f=i,m=o,g=s,v=a,y=l;for(n=0;19>=n;n++)r=t(f,5)+(m&g|~m&v)+y+c[n]+1518500249&u,y=v,v=g,g=t(m,30),m=f,f=r;for(n=20;39>=n;n++)r=t(f,5)+(m^g^v)+y+c[n]+1859775393&u,y=v,v=g,g=t(m,30),m=f,f=r;for(n=40;59>=n;n++)r=t(f,5)+(m&g|m&v|g&v)+y+c[n]+2400959708&u,y=v,v=g,g=t(m,30),m=f,f=r;for(n=60;79>=n;n++)r=t(f,5)+(m^g^v)+y+c[n]+3395469782&u,y=v,v=g,g=t(m,30),m=f,f=r;i=i+f&u,o=o+m&u,s=s+g&u,a=a+v&u,l=l+y&u}return i>>>0}});var __bind=function(t,e){return function(){return t.apply(e,arguments)}};define("utils/eventtracker-wrapper",["jquery"],function(t){var e,n,r,i,o,s,a,l,u,c,d,h,p,f,m;if(e=t("meta[name=canonicalURL]").attr("content"),i=document.referrer,n=function(){function t(t){var e;this._name=t,this._list=function(){try{if(e=localStorage.getItem(this._name))return JSON.parse(e)}catch(t){return[]}}.call(this)||[]}return t.prototype.enqueue=function(t){this._list.push(t);try{return localStorage.setItem(this._name,JSON.stringify(this._list))}catch(e){}},t.prototype.dequeue=function(){var t;t=this._list.shift();try{this._list.length?localStorage.setItem(this._name,JSON.stringify(this._list)):localStorage.removeItem(this._name)}catch(e){}return t},t.prototype.peek=function(){return this._list[0]},t}(),r=function(){function t(t,e){this._next=__bind(this._next,this),this._queue=t,this._cbProcess=e,this._isFlushing=!1,this._failCount=0,this.flush()}return t.prototype.flush=function(){return this._isFlushing?void 0:(this._isFlushing=!0,this._process())},t.prototype.post=function(t){return this._queue.enqueue(t),this.flush()},t.prototype._process=function(){return this._queue.peek()?this._cbProcess(this._queue.peek(),this._next):this._isFlushing=!1},t.prototype._next=function(t){return t?(this._failCount+=1,this._failCount>=5&&(this._failCount=0,this._queue.dequeue())):(this._failCount=0,this._queue.dequeue()),this._process()},t}(),a=null,l=function(t){var e,n;return null==a&&(a=null!=(e=window.NYTD)&&"function"==typeof e.EventTracker?new e.EventTracker:void 0),a&&(null!=(n=navigator.onLine)?n:!0)?t(a):setTimeout(function(){return l(t)},1e3)},u=new n("_etQ"),c=new r(u,function(t,e){return l(function(n){var r;return r=setTimeout(function(){return"function"==typeof e?e(new Error("likely ajax error from ET")):void 0,e=null},1e4),n.track(t,{callback:function(t){return clearTimeout(r),t?setTimeout(function(){return"function"==typeof e?e(new Error("ajax error or something from ET")):void 0,e=null},1e4):("function"==typeof e?e():void 0,e=null)}})})}),d=function(){var t,e,n,r,i,o,s,a,l,u,c;if(n=[],"function"==typeof("undefined"!=typeof crypto&&null!==crypto?crypto.getRandomValues:void 0)&&"function"==typeof Uint8Array)try{for(e=new Uint8Array(11),crypto.getRandomValues(e),s=0,u=e.length;u>s;s++)o=e[s],n.push(63&o)}catch(d){}for(;n.length<11;)n.push(Math.floor(64*Math.random()));for(i=(new Date).getTime(),t=a=0;8>=a;t=++a)n[t]^=Math.floor(i/Math.pow(64,t))%64;for(r="",l=0,c=n.length;c>l;l++)t=n[l],r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t);return r},s={track:function(t){var n,r,o,s;for(n in t)o=t[n],void 0===o&&delete t[n];return null==t.uniqid&&(t.uniqid=d()),null==t.instant&&(t.instant=1),e&&null==t.assetUrl&&(t.assetUrl=e),i&&null==t.referrer&&(t.referrer=i),"module-interactions"===t.subject&&(r=null!=(s=t.moduleData)?s:{},"string"==typeof r&&(r=JSON.parse(r)),null==r.contentcollection&&(r.contentcollection=t.uniqid),t.moduleData=JSON.stringify(r)),c.post(t)}},null!=(f=window.NYTD)?f.etw:void 0)for(m=NYTD.etw,h=0,p=m.length;p>h;h++)o=m[h],s.track(o);return(window.NYTD||(window.NYTD={})).etw={push:function(){return s.track.apply(s,arguments)}},s});var __hasProp={}.hasOwnProperty;define("utils/abtest",["jquery","utils/sha1rand","jquery.cookies","utils/eventtracker-wrapper"],function(t,e,n,r){var i,o,s,a,l,u,c;return l=4294967295,s="undefined"!=typeof window&&null!==window&&null!=(c=window.ABTEST_CONFIG)?c.v2:void 0,o=t.cookies.get("RMID"),a=function(){var e,n,r,i,o;for(n=t.cookies.get("abtest-force"),o=/([^&=]+)=?([^&]*)/g,e=function(t){return decodeURIComponent(t.replace(/\+/g," "))},r={};i=o.exec(n||"");)r[e(i[1])]=e(i[2]);return r}(),u={},i=function(){function n(t){var e,r,i,o,l;return this instanceof n?u[t]?u[t]:(u[t]=this,this._testName=t,this._config=null!=s?s[t]:void 0,void(a[t]?(this._expressedVariant=a[t],this._reportedVariant=null):(this._reportedVariant=this._computeVariant(),this._expressedVariant=null!=(r=null!=(i=null!=(o=this._reportedVariant)?o:null!=(l=this._config)?l.defaultVariant:void 0)?i:function(){var t,n,r,i;r=null!=(t=this._config)&&null!=(n=t.weights)?n[0]:void 0,i=[];for(e in r)__hasProp.call(r,e)&&i.push(e);return i}.call(this)[0])?r:null))):null!=u[t]?u[t]:u[t]=new n(t)}return n.prototype.getVariant=function(){return this._expressedVariant},n.prototype.recordView=function(e){var n,i,o,s,a,l,u,c,d;if(this._config&&null!=this._reportedVariant){if(null!=(l=null!=(u=this._config.viewCookies)?u[this._reportedVariant]:void 0))for(s in l)__hasProp.call(l,s)&&(a=l[s],o=new Date,o.setFullYear(o.getFullYear()+1),t.cookies.set(s,a,{domain:".nytimes.com",expiresAt:o}));i={subject:"module-interactions",moduleData:{module:"mobileweb-abtest",eventname:"view",contentid:this._testName,version:this._reportedVariant}},e&&(i.moduleData.mdata=e),r.track(i),null!=this._config.adxName&&(n={subject:"adx-ab-allocation",action:"impression",testName:this._config.adxName,treatment:null!=(c=null!=(d=this._config.adxTreatments)?d[this._reportedVariant]:void 0)?c:this._reportedVariant},this._config.adxAction&&(n.action=this._config.adxAction),this._config.adxModule&&(n.module=this._config.adxModule),null!=e&&(n.abdata=JSON.stringify(e)),r.track(n))}},n.prototype.recordGoal=function(t,e){var n;"object"==typeof t&&(t=null,e=arguments[0]),this._config&&null!=this._reportedVariant&&(n={subject:"module-interactions",moduleData:{module:"mobileweb-abtest",eventname:"goal",contentid:this._testName,version:this._reportedVariant}},t&&(n.moduleData.action=t),e&&(n.moduleData.mdata=e),r.track(n))},n.prototype._computeVariant=function(){var t,n,r,i,s,a,u,c,d,h,p,f;if(!this._config||!o)return null;if(null!=this._config.population&&this._config.population<100&&(r=e(""+o+"-"+this._testName+"-population"),!(r<this._config.population*(l+1)/100)))return null;if(c=null!=(p=this._config)?p.weights:void 0,!(null!=c?c.length:void 0))return null;for(r=e(""+o+"-"+this._testName),n=0,d=0,h=c.length;h>d;d++){if(u=c[d],u=function(){var e;e=[];for(t in u)__hasProp.call(u,t)&&(i=u[t],e.push([t,i]));return e}(),1!==u.length)return null;if(f=u[0],s=f[0],a=f[1],n+=a,n*(l+1)/100>r)return s}return null},n}()});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/growl.view",["views/base.view","utils/hasFixedSupport","utils/getScrollPos","moment","text!html/growl.html","text!html/growl_v1.html","utils/abtest"],function(t,e,n,r,i,o,s){var a;return a=function(t){function a(){return this._onTouchstart=__bind(this._onTouchstart,this),this._onScroll=__bind(this._onScroll,this),a.__super__.constructor.apply(this,arguments)}return __extends(a,t),a.prototype.tagName="div",a.prototype.id="growl",a.prototype.className="down",a._saleConfig=function(){return{ElectionDay:{startTime:"2014-11-03 9:00 -0500",endTime:"2014-11-07 9:00 -0500",text:"Limited Time Offer: 50% off 16 Weeks of Unlimited Access"},Thanksgiving:{startTime:"2014-11-24 9:00 -0500",endTime:"2014-12-03 9:00 -0500",text:"Limited Time Offer: 50% off 26 Weeks of Unlimited Access"}}},a.prototype.events={"tap [data-button=close]":function(t){t.preventDefault(),this._isClosed||(this._isClosed=!0,this.$el.addClass(this.className),setTimeout(function(t){return function(){return s("GrowlDesign").recordGoal("DismissGrowl",{numviews:t.numViews}),s("ZeroGrowl").recordGoal("DismissGrowl",{numviews:t.numViews}),t.destroy()}}(this),500))}},a.prototype.init=function(t){var r,i,o,a;if(this.abTestOldDesign="oldDesign"===s("GrowlDesign").getVariant()?!0:!1,this.numViews=t.numViews,this.isLoggedin=t.loggedIn,this.render().append(),this.$closeBtn=this.$("[data-button=close]"),$("body").on("touchstart",this._onTouchstart),this.hasFixedSupport=e(),!this.hasFixedSupport){for(this.$el.css("position","absolute").css("bottom",-n()),a=["","-webkit","-o","-moz"],i=0,o=a.length;o>i;i++)r=a[i],""===r?this.$el.css("transition",""):this.$el.css(""+r+"-transition","");return this.$window=$(window),this.$window.on("scroll",this._onScroll)}},a.prototype.render=function(){var t,e;return this.abTestOldDesign?(this.$el.addClass("growl-v1"),this.el.innerHTML=o):(this.$el.addClass("growl"),this.el.innerHTML=i),this.$nonSubscriberLink=this.$(".nonsubscriber"),this.$subscriberLink=this.$(".subscriber"),this.$marketingText=this.$(".marketing-text"),t=encodeURIComponent(location.origin+"/loginReturn?url="+encodeURIComponent(location.pathname+location.search)),e="http://www.nytimes.com/mowweb/"+(function(){if(this.abTestOldDesign)switch(this.numViews){case 2:return"grwl2";case 5:return"grwl5";case 9:return"grwl9";case 10:return"grwl10"}else switch(this.numViews){case 2:return"grwl2abt";case 5:return"grwl5abt";case 9:return"grwl9abt";case 10:return"grwl10abt"}}.call(this)||(this.isLoggedIn?"gllog":"glnotlog"))+("?EXIT_URI="+t),this.$nonSubscriberLink.find("a").attr("href",e),this.$nonSubscriberLink.find("a").on("click",function(t){return function(){return s("GrowlDesign").recordGoal("SubscribeLink",{numviews:t.numViews}),s("ZeroGrowl").recordGoal("SubscribeLink",{numviews:t.numViews})}}(this)),this.$subscriberLink.find("a").attr("href","https://myaccount.nytimes.com/mobile/login/smart/index.html?EXIT_URI="+t),this.$("[data-view=count]").text(this.numViews),this.updateSaleText(),s("GrowlDesign").recordGoal("ShowGrowl",{numviews:this.numViews}),s("ZeroGrowl").recordGoal("ShowGrowl",{numviews:this.numViews}),this},a._getUserDate=function(){return r()},a.prototype.updateSaleText=function(){var t,e,n,i,o,s,l;l=a._getUserDate(),o=a._saleConfig();for(e in o)if(i=o[e],s=r(i.startTime,"YYYY-MM-DD HH:mm Z"),t=r(i.endTime,"YYYY-MM-DD HH:mm Z"),l.isAfter(s)&&l.isBefore(t)){n=i.text;break}return n?this.$marketingText.text(n+" >>"):void 0},a.prototype.append=function(){return $("body").append(this.el),setTimeout(function(t){return function(){return t.$el.removeClass(t.className)}}(this),200),this},a.prototype._onScroll=function(){return clearTimeout(this._timer),this._timer=setTimeout(function(t){return function(){return t.isHidden=!1,t.$el.css("bottom",-n()).fadeIn(250)}}(this),500)},a.prototype._onTouchstart=function(t){if(!this.isHidden)if(t.target===this.el||this.$el.find(t.target).length){if(t.target===this.$closeBtn[0]||$(t.target).parent().attr("data-button")===$(this.$closeBtn[0]).attr("data-button"))return this.$closeBtn.trigger("tap"),t.preventDefault();if("A"!==t.target.nodeName)return t.preventDefault()}else if(!this.hasFixedSupport)return this.$el.hide(),this.isHidden=!0},a.prototype.postDestroy=function(){return null!=this.$window&&this.$window.off("scroll",this._onScroll),$("body").off("touchstart",this._onTouchstart)},a}(t)}),define("utils/check-meter",["jquery","jquery.cookies","views/growl.view","utils/abtest"],function(t,e,n,r){var i,o,s,a,l;return i={server_side_meter:!1,premier:!0},o=function(){var t,e,n;return t=document.cookie,n=t.substr(t.indexOf("nyt-m")),e=n.substr(n.indexOf("v=")),parseInt(e.substr(4,e.indexOf("&")-1),10)},s=function(t,e){var i,s,a;if(a=function(t){var e,r;return e=new n({loggedIn:r=document.cookie.indexOf("subLevel=")>-1?!0:!1,numViews:t})},i=function(){return document.cookie.indexOf("subLevel=2")>-1},s=o(),/\bForceGrowl\b/i.test(location.hash))return a(s);if((null!=t?t.gateway:void 0)&&(null!=t?t.counted:void 0)&&!i()&&s>e){if(2===s&&r("ZeroGrowl").recordView(),"on"===r("ZeroGrowl").getVariant())return;(2===s||5===s||9===s||10===s)&&a(s)}},l=function(t){var e;return(null!=t?t.hitPaywall:void 0)&&"inside_story"===(null!=t?t.assetType:void 0)?(e=encodeURIComponent("http://"+window.location.host+"/loginReturn?url="+encodeURIComponent(window.location.pathname)),window.location="/premier/gateway?EXIT_URI="+e):void 0},a=function(t){var e,n;return(null!=t?t.hitPaywall:void 0)?(e=encodeURIComponent("http://"+window.location.host+"/loginReturn?url="+encodeURIComponent(window.location.pathname)),n="https://myaccount.nytimes.com/mobile/wall/smart/index.html?EXIT_URI=",window.location=n+e):void 0},function(){var e,n,r,u,c,d,h;return n="meter-svc.nytimes.com",u=document.referrer||"",t.cookies.get("redirect-refer")&&(u=t.cookies.get("redirect-refer"),t.cookies.del("redirect-refer")),r="http://mobile.nytimes.com"+window.location.pathname,c="//"+n+"/meter.js?url="+r+"&referer="+u,(null!=(d=t("meta[name=channels]"))&&null!=(h=d.attr("content"))?h.match(/(NytNow)/g):void 0)&&(c+="&channels=NytNow"),e=o(),t.ajax({url:c,dataType:"jsonp",success:function(t){i.server_side_meter===!1&&a(t),i.premier===!0&&l(t),s(t,e)}})}}),define("utils/url",[],function(){return{parse:function(t,e){var n,r,i,o,s,a;if(null==e&&(e=!1),n=document.createElement("a"),n.href=t,i=n.search.substr(1).split("&"),o={},e)for(s=0,a=i.length;a>s;s++)r=i[s],r=r.split("="),o[r[0]]=r[1]||null;return{protocol:n.protocol,port:n.port,host:n.host,hostname:n.hostname,pathname:n.pathname,hash:n.hash,search:e?o:n.search}},addQuery:function(t,e,n){var r,i,o;return o=this.parse(t),i=t.indexOf("?")>-1,r=o.search.length>2,i||(t+="?"),r&&(t+="&"),t+=""+e+"="+n},format:function(t){var e,n,r,i,o;if(r=""+t.protocol+"//"+t.hostname+t.pathname,"object"==typeof t.search){n=[],o=t.search;for(e in o)i=o[e],n.push(e+"="+i);r+="?"+n.join("&")}else"string"==typeof t.search&&(r+=t.search);return t.hash&&(r+=t.hash),r},removeParams:function(t){var e,n,r,i,o,s;if(window.location.search){for(i=window.location.search,r=i,o=0,s=t.length;s>o;o++)n=t[o],r=r.replace(n,"");if(r=r.replace(/&+/,"&"),r=r.replace(/&$/,""),r=r.replace(/^[?]&/,"?"),"?"===r&&(r=""),r!==i)return e=[location.protocol,"//",location.host,location.pathname,r,location.hash].join(""),window.history.replaceState({},document.title,e)}}}}),function(){var t;return t=function(t,e,n){var r,i,o;return null==n&&(n={}),r="http://mobile.nytimes.com",i=new RegExp(r),o={fixPathName:function(t){return"/"!==t.charAt(0)&&(t="/"+t),t},isNYTUrl:function(e){var n;return n=t.parse(e),n.hostname.indexOf("nytimes.com")>-1?!0:!1},isGlassUrl:function(e){var n,r,i;return i=t.parse(e),i.pathname=this.fixPathName(i.pathname),r=new RegExp(o.isBlogUrl(e)?"^/(\\d{4})/(\\d{2})/(\\d{2})/([\\w\\d-]+)/$":"^/(\\d{4})/(\\d{2})/(\\d{2})/([\\w\\d-/]+)/([\\d\\w-]+\\.html)"),n=i.pathname.match(r),null!=n?!0:!1},isArticleOrBlog:function(t){return/^\/(blogs\/(.*))?(\d{4})\/(\d{2})\/(\d{2})/.test(t)||/^\/(times-insider)\/(\d{4})\/(\d{2})\/(\d{2})/.test(t)?!0:!1},isBlogUrl:function(e){var n;return n=t.parse(e),n.hostname.indexOf("blogs.nytimes.com")>-1||n.hostname.indexOf("blogs5.stg.nytimes.com")>-1||n.hostname.indexOf("dealbook.nytimes.com")>-1||0===n.path.indexOf("/news/")||0===n.path.indexOf("/times-insider/")?!0:!1
},isGatewayUrl:function(t){return t&&t.indexOf("EXIT_URI")>-1?!0:!1},stripGateway:function(e){var n;return o.isGatewayUrl(e)?n=t.parse(e,!0).query.EXIT_URI:e},isDesktopOnly:function(e){var n;return e&&"0"===(null!=(n=t.parse(e,!0).query)?n.nytmobile:void 0)?!0:!1},getBreakingNewsAlertUrl:function(t){return(o.isNYTUrl(t)||o.isBlogUrl(t))&&o.isGlassUrl(t)?o.getMobileUrl(t):t},getRelativeUrl:function(t){var e;return e=o.getMobileUrl(t),e.replace(i,"")},_mobileExceptions:function(n){var r,i;return"http://markets.on.nytimes.com/research/markets/overview/overview.asp"===n.beforeQuery?"/business/markets/":n.pathname.indexOf("/pages/weekinreview/")>-1||n.pathname.indexOf("/pages/todayspaper/")>-1||n.pathname.indexOf("/projects/")>-1||n.pathname.indexOf("/first-draft/")>-1?"http://"+n.hostname+n.pathname+"?nytmobile=0":"query.nytimes.com"===n.hostname?n.query?n.href+"&nytmobile=0":n.href+"?nytmobile=0":-1===n.hostname.indexOf(".stg.nytimes.com")?!1:(r=t.format({hostname:n.hostname.replace(".stg.nytimes.com",".nytimes.com"),pathname:n.pathname,protocol:n.protocol}),e&&(i=e.getByWebUrl(r))?"/"+i.path:null)},_mobileUrlSection:function(t){var n;return e?(n=e.getByWebUrl(t.beforeQuery),n?r+"/"+n.path+"/":null):!1},getMobilePrefix:function(){return r},_mobileUrlArticle:function(t,e){var n,i,o,s;return s=r,"comments"===e&&(s+="/comments"),t.hostname.indexOf("blogs.nytimes.com")>-1||t.hostname.indexOf("blogs.stg.nytimes.com")>-1||t.hostname.indexOf("blogs5.stg.nytimes.com")>-1?(n=t.hostname.substring(0,t.hostname.indexOf(".")),""+s+"/blogs/"+n+t.pathname):t.hostname.indexOf("dealbook.nytimes.com")>-1?(n="dealbook",""+s+"/blogs/"+n+t.pathname):(o=/^(travel|tv|theater|movies)\.nytimes\.com$/,i=o.exec(t.hostname),i?s+"/"+i[1]+t.pathname:s+t.pathname)},getMobileUrl:function(e,n,i){var o,s,a,l,u,c;if(null==n&&(n=!1),l=t.parse(e),l.pathname=this.fixPathName(l.pathname),"international.nytimes.com"===l.hostname&&"/"===l.pathname)return r+"/international/";if("international.nytimes.com"===l.hostname&&(l.hostname="www.nytimes.com"),l.beforeQuery=l.protocol+"//"+l.hostname+l.pathname,"www.nytimes.com"===l.hostname&&"/"===l.pathname)return r;for(a=[this._mobileExceptions,this._mobileUrlSection],n||a.push(this._mobileUrlArticle),u=0,c=a.length;c>u;u++)if(o=a[u],s=o(l,i))return s;return null},_desktopExceptions:function(t){return/^\/business\/markets/.test(t.pathname)?"http://markets.on.nytimes.com/research/markets/overview/overview.asp":/^\/books\/bestsellers/.test(t.pathname)?"http://www.nytimes.com/best-sellers-books/overview.html":/^\/search\/recipe\b/.test(t.pathname)?"http://query.nytimes.com/search/sitesearch/?vertical=recipes/#/":void 0},_desktopUrlSubSection:function(t){var n,r;return e?(r=/^\/([\w|-]+)\/([\w|-]+)(?:\/)?$/.exec(t.pathname),r&&(n=e.getByPath("/"+r[1]+"/"+r[2]),null!=n?n.wwwUrl:void 0)?n.wwwUrl:void 0):!1},_desktopUrlSection:function(t){var n,r,i;return e?(n=/^\/blogs\/([\w|-]+)(?:\/)?$/.exec(t.pathname),n&&(r=e.getByPath("/blogs/"+n[1]),null!=r?r.wwwUrl:void 0)?r.wwwUrl:(i=/^\/([\w|-]+)(?:\/)?$/.exec(t.pathname),i&&(r=e.getByPath("/"+i[1]),null!=r?r.wwwUrl:void 0)?r.wwwUrl:null)):!1},_desktopUrlArticle:function(t){var e,r,i,o,s,a;return t.pathname=t.pathname.replace("/comments/","/"),i=new RegExp("^/blogs/(.*)?/(\\d{4})/(\\d{2})/(\\d{2})/([\\w\\d-]+)/$"),r=t.pathname.match(i),null!=r?(e=n.useStagingFeeds?"blogs5.stg.nytimes.com":"blogs.nytimes.com","dealbook"===r[1]?"http://dealbook.nytimes.com/"+r[2]+"/"+r[3]+"/"+r[4]+"/"+r[5]+"/":"http://"+r[1]+"."+e+"/"+r[2]+"/"+r[3]+"/"+r[4]+"/"+r[5]+"/"):(o=n.useStagingFeeds?"http://www.stg.nytimes.com":"http://www.nytimes.com",a=/^\/(travel|tv|theater|movies)\/(.+)$/,s=a.exec(t.pathname),s?"http://"+s[1]+".nytimes.com/"+s[2]:o+t.pathname)},getDesktopUrl:function(e){var n,r,i,o,s,a;if(r=t.parse(e),"/"===r.pathname)return"http://www.nytimes.com";for(o=[this._desktopExceptions,this._desktopUrlSection,this._desktopUrlSubSection,this._desktopUrlArticle],s=0,a=o.length;a>s;s++)if(n=o[s],i=n(r))return i;return null}}},"undefined"!=typeof module?module.exports=t:"undefined"!=typeof define?define("shared/url-mapper-shared",[],function(){return t}):void 0}(),define("utils/url-mapper",["utils/url","shared/url-mapper-shared"],function(t,e){return e(t,null)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/advert-dfp.view",["views/base.view","jquery","jquery.cookies","utils/eventtracker-wrapper"],function(t,e,n,r){var i,o;return o=!1,i=function(t){function i(){return this.onShowModalSharetools=__bind(this.onShowModalSharetools,this),this.onScroll=__bind(this.onScroll,this),this.loadAdSlot=__bind(this.loadAdSlot,this),i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.id="advert-dfp",i.prototype.init=function(){var t,n,r,o,s;if("undefined"!=typeof MWR&&null!==MWR?!MWR.advertisingSensitivity:!0){if(i.initPageLevelTargeting(),this.adPosition=this.$el.attr("data-position"),this.adSize=function(){switch(this.adPosition){case"mobilebanner":return[[320,50]];case"mobilebanner2":return[[320,50],[300,250]];case"mobilesharetools":return[[236,63]];case"mobileinterstitial":return[[1,1]];case"mobilepromo":return[[220,133]];default:if(this.adPosition.indexOf("mobilearticle")>-1)return[[300,250]]}}.call(this),!this.adSize)return void("undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("no size for ad position "+this.adPosition));if(this.dfpUnitPath=null!=(r=window.MWR)?r.dfpAdUnitPath:void 0,!this.dfpUnitPath)return void("undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("DFP path missing, aborting ad render"));switch(this.$el.attr("id","dfp-ad-"+this.adPosition),this.slotName="dfp-ad-"+this.adPosition,this.adPosition){case"mobilebanner":if(n=e("body").hasClass("isArticle"),t="undefined"!=typeof NYTD&&null!==NYTD&&null!=(o=NYTD.ABTest)?o.variantFor("AokWave1"):void 0,("undefined"!=typeof NYTD&&null!==NYTD&&null!=(s=NYTD.AdConfig[t])?s.topBanner:void 0)===!1&&n)break;return this.loadAdSlot();case"mobilebanner2":return this.$window.on("scroll",this.onScroll);case"mobilepromo":return this.$window.on("scroll",this.onScroll);case"mobilesharetools":return e("#modal-sharetools").on("show.bs.modal",this.onShowModalSharetools);default:return this.adPosition.indexOf("mobilearticle")>-1?this.$window.on("scroll",this.onScroll):this.loadAdSlot()}}},i.prototype.loadAdSlot=function(){return googletag.cmd.push(function(t){return function(){var n,i,o,s,a,l,u;return l=googletag.defineSlot(t.dfpUnitPath,t.adSize,t.slotName).setCollapseEmptyDiv(!0),"mobilepromo"===t.adPosition&&l.setTargeting("ispromo","true"),t.adPosition.indexOf("mobilearticle")>-1&&(n=e("#dfp-ad-"+t.adPosition),o=t.adPosition.match(/^mobilearticle(\d+)/)[1],a=n.attr("data-p-location"),l.setTargeting("mobilearticle-ad-number",o),l.setTargeting("mobilearticle-paragraph-location",a),i="undefined"!=typeof NYTD&&null!==NYTD&&null!=(u=NYTD.ABTest)?u.variantFor("AokWave1"):void 0,i&&l.setTargeting("mobilearticle-variant",i),s={subject:"module-interactions",moduleData:{module:"ad",mdata:{"mobilearticle-ad-number":o,"mobilearticle-paragraph-location":a}}},r.track(s)),l.addService(googletag.pubads()),googletag.display(t.slotName),googletag.pubads().refresh([l])}}(this))},i.prototype.onScroll=function(t){var e;return e=t.currentTarget,this.$el.removeClass("hidden"),this.$window.scrollTop()+this.$window.height()>=this.$el.offset().top-100?(this.$window.off("scroll",this.onScroll),this.loadAdSlot()):void 0},i.prototype.onShowModalSharetools=function(t){return this.$el.removeClass("hidden"),this.loadAdSlot(),e(t.target).off("show.bs.modal",this.onShowModalSharetools)},i.initPageLevelTargeting=function(){return o?void 0:(o=!0,googletag.cmd.push(function(){var t,r,i,o;return googletag.pubads().setTargeting("plat","mweb"),googletag.pubads().setTargeting("prop","mnyt"),o=n.get("subLevel"),o=parseInt(o,10)||0,o=function(){switch(o){case 0:return"anon";case 1:return"reg";case 2:return"sub"}}(),null!=o&&googletag.pubads().setTargeting("sub",o),r=/^\/slideshow\//.test(location.pathname)?"ss":/^\/blogs\//.test(location.pathname)?"bl":function(){switch(e("meta[name=PT]").attr("content")){case"article":return"art";case"blog":return"bl";case"Section Front":return"sf";case"Homepage":return"sf"}}(),null!=r&&googletag.pubads().setTargeting("typ",r),i=e(document.body).hasClass("global")?"intl":"us",googletag.pubads().setTargeting("edn",i),t=e("meta[name=articleid]").attr("content"),null!=t?googletag.pubads().setTargeting("id",t):void 0}))},i}(t)});var __indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("utils/show-interstitial",["jquery","jquery.cookies","utils/url","utils/url-mapper","views/advert-dfp.view"],function(t,e,n,r,i){var o;return o=[1],function(){var s,a,l,u,c,d;if(l=r.isArticleOrBlog(location.pathname))if(u=0,null!=e.get("mobile_av"))try{u=parseInt(e.get("mobile_av"),10),e.set("mobile_av",""+(u+1))}catch(h){a=h,e.set("mobile_av","1")}else e.set("mobile_av","1");return l&&t("[data-view=advert-dfp]").length>0&&(location.href.indexOf("mobile_av")>-1&&(u=parseInt(null!=(d=n.parse(location.href,!0).search)?d.mobile_av:void 0,10)),__indexOf.call(o,u)>=0)?(s=t('<div class="ad mobileinterstitial"\ndata-view="advert-dfp"\ndata-position="mobileinterstitial"></div>'),t("body").append(s),c=new i({el:s})):void 0}}),define("utils/es5",[],function(){return Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),{}}),define("utils/generateIframe",[],function(){return{init:function(t,e){var n,r;return n=$(r=document.createElement("iframe")),(null!=e?e.prepend:void 0)?t.prepend(n):t.append(n),r.src=null!=(null!=e?e.src:void 0)?e.src:/\bMSIE\b/i.test(navigator.userAgent)?'javascript:document.write("<head><script>document.domain='+('\\"'+document.domain+'\\";</script></head><body></body>")'):"about:blank",n}}});var __hasProp={}.hasOwnProperty,__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};!function(t){return"object"==typeof exports?module.exports=t():"function"==typeof define&&null!=define.amd?define("shared/helpers",t):void 0}(function(){return{clone:function(t){var e,n,r;r={};for(e in t)__hasProp.call(t,e)&&(n=t[e],r[e]=n);return r},sum:function(t,e){var n;return n=0,t.forEach(function(t){return n+=e(t)}),n},count:function(t,e){return t.filter(e).length},values:function(t){return Object.keys(t).map(function(e){return t[e]})},numberWithCommas:function(t){var e;return e=t.toString().split("."),e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")},surroundSlashWithWhitespace:function(t){return"string"==typeof t?t.replace(/\//g," / "):void 0},stripHtml:function(t){return"string"==typeof t?t.replace(/(<([^>]+)>)/g,""):""},fuseHyphens:function(){var t,e,n,r,i,o,s;return i=/\S-\S/,n=/</,r=/<[^>]*\s[^>]*>/,e=/<[^>]*-[^>]*>/,o=/\S+-\S+/g,t=/\s(?=\S)/g,s=/([\w>])-(?=[\w<])/g,function(a){return i.test(a)?n.test(a)?r.test(a)?e.test(a)?a:a.replace(s,"$1&#8209;"):'<span class="nobr">'+a.replace(t,"$&<wbr>")+"</span>":a.replace(o,'<span class="nobr">$&</span>'):a}}(),getCookieString:function(t,e){var n,r;return r=new Date,r.setTime(r.getTime()+31536e6),n=""+t+"="+e+"; expires="+r.toGMTString()+"; path=/; domain=.nytimes.com"},getAdxPage:function(t){var e,n,r,i;return n=["greathomesanddestinations"],r={greathomesanddestinations:"realestate"},i=t.search("global"),-1!==i&&(0===i&&(t=t.split("global.")[1]),t=t.substring(0,t.indexOf(".global"))),__indexOf.call(n,t)>=0&&(e=!0),e?r[t]:t}}}),define("utils/timezone",["moment"],function(t){return{getTimezoneString:function(t){var e,n,r,i;return e=t.toString(),i=/[(](.+)[)]$/,r=i.exec(e),(null!=r?r[1]:void 0)?r[1]:(i=/\d+:\d+:\d+[ ](.+)[ ]\d+$/,r=i.exec(e),(null!=r?r[1]:void 0)&&(n=/UTC[+]\d+/,n.test(r[1])===!1)?r[1]:"")},generateLocalTimeStamp:function(){var e,n,r,i,o,s,a;if(e=$(this),o=e.attr("data-raw"),a=e.attr("data-localize"),i=e.attr("data-format"),o&&a){switch(s=new Date(o).getTimezoneOffset(),n=t(o).add("minutes",s),n=n.subtract("minutes",window.timezoneOffset),a){case"time":case"time-updated":case"time-last-update":r=n.format("h:mm A"),window.timezoneString&&(r+=" "+window.timezoneString);break;case"date":r=""+n.nytMonth()+" "+n.format("D, YYYY")}if(r)return i&&(r=i.replace("%s",r)),e.html(r),e.removeAttr("data-localize")}}}}),define("utils/ua-detect",[],function(){var t,e,n,r,i,o,s,a,l,u,c,d,h,p,f,m,g,v,y,_,b,w;return _=navigator.userAgent,n=null,r=null,t="Android",s=null,e=null,o=_.indexOf(t)>=0?!0:!1,o&&(n="android",s=_.toLowerCase().indexOf("chrome")>=0?!0:!1,e=parseFloat(_.slice(_.indexOf(t)+8)),r=e),p=/(iPad|iPhone|iPod)/,g=/iPad/g,v=/(iPhone|iPod)/,c=null,d=null,u=p.test(_),u&&(n="ios",b=navigator.appVersion.match(/OS (\d+)_(\d+)/),i=parseFloat(b[1]+"."+b[2],10),r=i,v.test(_)?d=!0:g.test(_)&&(c=!0)),f=/(BB10|BlackBerry|PlayBook)/,m=/BB10/,a=null,l=f.test(_),l&&(n="blackberry",a=m.test(_)),y=/Windows Phone/,h=y.test(_),w=null,h&&(n="windows",_.indexOf("Windows Phone")>-1&&(w=_.indexOf("Windows Phone OS")>-1?parseFloat(_.slice(_.indexOf("Windows Phone OS")+16).split(";")[0],10):parseFloat(_.slice(_.indexOf("Windows Phone")+13).split(";")[0],10)),r=w),{device_os:n,device_os_version:r,isAndroid:o,androidVer:e,isAndroidChrome:s,isIOS:u,isIPad:c,isIPhone:d,iosVer:i,isBB10:a,isBlackberry:l,isMobileWin:h,windowsVer:w}}),define("utils/post-render-headlines",[],function(){return function(){var t,e,n,r,i,o,s,a,l,u,c,d,h;for(l=$(".highlighted"),h=[],s=0,a=l.length;a>s;s++)r=l[s],e=$(r).find(".title"),t=e.parent(),o=e.text().split(" "),null!=(null!=e&&null!=(u=e.position())?u.top:void 0)&&null!=(null!=t&&null!=(c=t.position())?c.top:void 0)&&(n=e.position().top-t.position().top,n>100&&!(null!=t&&null!=(d=t.parent())?d.hasClass("ledeWide"):void 0)&&t.find("img").css("display","none")),h.push($("body").hasClass("text-large")?function(){var e,n,r;for(r=[],e=0,n=o.length;n>e;e++)i=o[e],r.push(i.length>13?t.find("img").css("display","none"):void 0);return r}():$("body").hasClass("text-medium")?function(){var e,n,r;for(r=[],e=0,n=o.length;n>e;e++)i=o[e],r.push(i.length>17?t.find("img").css("display","none"):void 0);return r}():void 0);return h}});var NYTD=NYTD||{};NYTD.hideaddrbar=function(){console.log("hideaddrbar called");var t=window,e=t.document;if(!location.hash&&t.addEventListener){t.scrollTo(0,1);var n=1,r=function(){return t.pageYOffset||"CSS1Compat"===e.compatMode&&e.documentElement.scrollTop||e.body.scrollTop||0},i=setInterval(function(){e.body&&(clearInterval(i),n=r(),t.scrollTo(0,1===n?0:1))},15);t.addEventListener("load",function(){setTimeout(function(){r()<20&&t.scrollTo(0,1===n?0:1)},0)},!1)}},define("hideaddrbar",function(){});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/list.view",["views/base.view"],function(t){var e;return e=function(t){function e(){if(null==this.ChildView)throw new Error("Expected a `ChildView` property to be set for "+this.name);e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.tagName="ul",e.prototype.beforeRender=function(){},e.prototype.afterRender=function(){},e.prototype.render=function(t){var e,n,r,i,o,s,a;if(!Array.isArray(t))throw new Error("Expected `data` to be an array");for(this.beforeRender(),n=document.createDocumentFragment(),e=0,s=0,a=t.length;a>s;s++)r=t[s],i=new this.ChildView(this.childViewOpts||{}),i.render(r,function(){return e++}),n.appendChild(i.el);return setTimeout(o=function(r){return function(){return e!==t.length?setTimeout(o,0):(r.el.appendChild(n),r.afterRender())}}(this),0)},e}(t)});var dust={};!function(dust){function Context(t,e,n){this.stack=t,this.global=e,this.blocks=n}function Stack(t,e,n,r){this.tail=e,this.isObject=!dust.isArray(t)&&t&&"object"==typeof t,this.head=t,this.index=n,this.of=r}function Stub(t){this.head=new Chunk(this),this.callback=t,this.out=""}function Stream(){this.head=new Chunk(this)}function Chunk(t,e,n){this.root=t,this.next=e,this.data=[],this.flushable=!1,this.taps=n}function Tap(t,e){this.head=t,this.tail=e}dust.helpers={},dust.cache={},dust.register=function(t,e){t&&(dust.cache[t]=e)},dust.render=function(t,e,n){var r=new Stub(n).head;dust.load(t,r,Context.wrap(e)).end()},dust.stream=function(t,e){var n=new Stream;return dust.nextTick(function(){dust.load(t,n.head,Context.wrap(e)).end()}),n},dust.renderSource=function(t,e,n){return dust.compileFn(t)(e,n)},dust.compileFn=function(t,e){var n=dust.loadSource(dust.compile(t,e));return function(t,e){var r=e?new Stub(e):new Stream;return dust.nextTick(function(){n(r.head,Context.wrap(t)).end()}),r}},dust.load=function(t,e,n){var r=dust.cache[t];return r?r(e,n):dust.onLoad?e.map(function(e){dust.onLoad(t,function(r,i){return r?e.setError(r):(dust.cache[t]||dust.loadSource(dust.compile(i,t)),void dust.cache[t](e,n).end())})}):e.setError(new Error("Template Not Found: "+t))},dust.loadSource=function(source,path){return eval(source)},dust.isArray=Array.isArray?Array.isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},dust.nextTick=function(){return"undefined"!=typeof process?process.nextTick:function(t){setTimeout(t,0)}}(),dust.isEmpty=function(t){return dust.isArray(t)&&!t.length?!0:0===t?!1:!t},dust.filter=function(t,e,n){if(n)for(var r=0,i=n.length;i>r;r++){var o=n[r];"s"===o?e=null:"function"==typeof dust.filters[o]&&(t=dust.filters[o](t))}return e&&(t=dust.filters[e](t)),t},dust.filters={h:function(t){return dust.escapeHtml(t)},j:function(t){return dust.escapeJs(t)},u:encodeURI,uc:encodeURIComponent,js:function(t){return JSON?JSON.stringify(t):t},jp:function(t){return JSON?JSON.parse(t):t}},dust.makeBase=function(t){return new Context(new Stack,t)},Context.wrap=function(t){return t instanceof Context?t:new Context(new Stack(t))},Context.prototype.get=function(t){for(var e,n=this.stack;n;){if(n.isObject&&(e=n.head[t],void 0!==e))return e;n=n.tail}return this.global?this.global[t]:void 0},Context.prototype.getPath=function(t,e){var n=this.stack,r=e.length;if(t&&0===r)return n.head;n=n.head;for(var i=0;n&&r>i;)n=n[e[i]],i++;return n},Context.prototype.push=function(t,e,n){return new Context(new Stack(t,this.stack,e,n),this.global,this.blocks)},Context.prototype.rebase=function(t){return new Context(new Stack(t),this.global,this.blocks)},Context.prototype.current=function(){return this.stack.head},Context.prototype.getBlock=function(t,e,n){"function"==typeof t&&(t=t(e,n).data.join(""),e.data=[]);var r=this.blocks;if(r)for(var i,o=r.length;o--;)if(i=r[o][t])return i},Context.prototype.shiftBlocks=function(t){var e,n=this.blocks;return t?(e=n?n.concat([t]):[t],new Context(this.stack,this.global,e)):this},Stub.prototype.flush=function(){for(var t=this.head;t;){if(!t.flushable){if(t.error)return this.callback(t.error),void(this.flush=function(){});return}this.out+=t.data.join(""),t=t.next,this.head=t}this.callback(null,this.out)},Stream.prototype.flush=function(){for(var t=this.head;t;){if(!t.flushable){if(t.error)return this.emit("error",t.error),void(this.flush=function(){});return}this.emit("data",t.data.join("")),t=t.next,this.head=t}this.emit("end")},Stream.prototype.emit=function(t,e){if(!this.events)return!1;var n=this.events[t];if(!n)return!1;if("function"==typeof n)n(e);else for(var r=n.slice(0),i=0,o=r.length;o>i;i++)r[i](e)},Stream.prototype.on=function(t,e){return this.events||(this.events={}),this.events[t]?"function"==typeof this.events[t]?this.events[t]=[this.events[t],e]:this.events[t].push(e):this.events[t]=e,this},Stream.prototype.pipe=function(t){return this.on("data",function(e){t.write(e,"utf8")}).on("end",function(){t.end()}).on("error",function(e){t.error(e)}),this},Chunk.prototype.write=function(t){var e=this.taps;return e&&(t=e.go(t)),this.data.push(t),this},Chunk.prototype.end=function(t){return t&&this.write(t),this.flushable=!0,this.root.flush(),this},Chunk.prototype.map=function(t){var e=new Chunk(this.root,this.next,this.taps),n=new Chunk(this.root,e,this.taps);return this.next=n,this.flushable=!0,t(n),e},Chunk.prototype.tap=function(t){var e=this.taps;return this.taps=e?e.push(t):new Tap(t),this},Chunk.prototype.untap=function(){return this.taps=this.taps.tail,this},Chunk.prototype.render=function(t,e){return t(this,e)},Chunk.prototype.reference=function(t,e,n,r){return"function"==typeof t&&(t.isFunction=!0,t=t.apply(e.current(),[this,e,null,{auto:n,filters:r}]),t instanceof Chunk)?t:dust.isEmpty(t)?this:this.write(dust.filter(t,n,r))},Chunk.prototype.section=function(t,e,n,r){if("function"==typeof t&&(t=t.apply(e.current(),[this,e,n,r]),t instanceof Chunk))return t;var i=n.block,o=n["else"];if(r&&(e=e.push(r)),dust.isArray(t)){if(i){var s=t.length,a=this;if(s>0){e.stack.head&&(e.stack.head.$len=s);for(var l=0;s>l;l++)e.stack.head&&(e.stack.head.$idx=l),a=i(a,e.push(t[l],l,s));return e.stack.head&&(e.stack.head.$idx=void 0,e.stack.head.$len=void 0),a}if(o)return o(this,e)}}else if(t===!0){if(i)return i(this,e)}else if(t||0===t){if(i)return i(this,e.push(t))}else if(o)return o(this,e);return this},Chunk.prototype.exists=function(t,e,n){var r=n.block,i=n["else"];if(dust.isEmpty(t)){if(i)return i(this,e)}else if(r)return r(this,e);return this},Chunk.prototype.notexists=function(t,e,n){var r=n.block,i=n["else"];if(dust.isEmpty(t)){if(r)return r(this,e)}else if(i)return i(this,e);return this},Chunk.prototype.block=function(t,e,n){var r=n.block;return t&&(r=t),r?r(this,e):this},Chunk.prototype.partial=function(t,e,n){var r;return n?(r=dust.makeBase(e.global),r.blocks=e.blocks,e.stack&&e.stack.tail&&(r.stack=e.stack.tail),r=r.push(n),r=r.push(e.stack.head)):r=e,"function"==typeof t?this.capture(t,r,function(t,e){dust.load(t,e,r).end()}):dust.load(t,this,r)},Chunk.prototype.helper=function(t,e,n,r){return dust.helpers[t]?dust.helpers[t](this,e,n,r):this},Chunk.prototype.capture=function(t,e,n){return this.map(function(r){var i=new Stub(function(t,e){t?r.setError(t):n(e,r)});t(i.head,e).end()})},Chunk.prototype.setError=function(t){return this.error=t,this.root.flush(),this},Tap.prototype.push=function(t){return new Tap(t,this)},Tap.prototype.go=function(t){for(var e=this;e;)t=e.head(t),e=e.tail;return t};var HCHARS=new RegExp(/[&<>\"\']/),AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g,SQUOT=/\'/g;dust.escapeHtml=function(t){return"string"==typeof t&&HCHARS.test(t)?t.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;").replace(SQUOT,"&#39;"):t};var BS=/\\/g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g;dust.escapeJs=function(t){return"string"==typeof t?t.replace(BS,"\\\\").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t"):t}}(dust),"undefined"!=typeof exports&&("undefined"!=typeof process&&require("./server")(dust),module.exports=dust),define("dustjs",function(t){return function(){var e;return e||t.dust}}(this));var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/template.view",["views/base.view","utils/extend","dustjs"],function(t,e,n){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype._makeTemplate=function(){if(!this.template)throw new Error("No template was provided for class `"+this.constructor.name+"`");return n.loadSource(this.template),this},r.prototype.render=function(t,e){return this._render(t,e),this},r.prototype.prerender=function(){return this},r.prototype.postrender=function(){return this},r.prototype._render=function(t,r){return null!=this.tmplVars&&(t=e(this.tmplVars,t)),this._makeTemplate(),this.prerender(),n.render(this.templateName,t,function(t){return function(e,n){if(e)throw e;return t.$el.html(n),"function"==typeof r&&r(n),t.postrender()}}(this)),this},r}(t)}),define("text!dust/list-article.dust",[],function(){return'(function(){dust.register("public/js/dust/list-article",body_0);function body_0(chk,ctx){return chk.write("<a href=\\"").reference(ctx.get(["url"], false),ctx,"h").write("\\">").exists(ctx.get(["headlineOnly"], false),ctx,{"else":body_1,"block":body_5},null).write("</a>");}function body_1(chk,ctx){return chk.section(ctx.get(["thumbnail"], false),ctx,{"block":body_2},null).write("<div class=\\"kicker\\">").reference(ctx.get(["kicker"], false),ctx,"h",["s"]).write("</div><span class=\\"title\\">").reference(ctx.get(["title"], false),ctx,"h",["s"]).write("</span>").exists(ctx.get(["itemTypeVideo"], false),ctx,{"block":body_3},null).exists(ctx.get(["itemTypeSlideShow"], false),ctx,{"block":body_4},null).write("<p>").reference(ctx.get(["abstract"], false),ctx,"h").write("</p>");}function body_2(chk,ctx){return chk.write("<img src=\\"").reference(ctx.get(["url"], false),ctx,"h").write("\\" class=\\"highlighted-thumb\\" width=\\"").reference(ctx.get(["width"], false),ctx,"h").write("\\" height=\\"").reference(ctx.get(["height"], false),ctx,"h").write("\\"/>");}function body_3(chk,ctx){return chk.write("<p><i class=\\"icon item-type-icon item-type-video\\"></i><span class=\\"item-type-title\\">Video</span></p>");}function body_4(chk,ctx){return chk.write("<p><i class=\\"icon item-type-icon item-type-slideshow\\"></i><span class=\\"item-type-title\\">Slide Show</span></p>");}function body_5(chk,ctx){return chk.write("<span class=\\"title\\">").reference(ctx.get(["title"], false),ctx,"h",["s"]).write("</span>");}return body_0;})();'});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/list-article.view",["views/template.view","text!dust/list-article.dust"],function(t,e){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.tagName="li",n.prototype.template=e,n.prototype.templateName="public/js/dust/list-article",n.prototype.className="border-b",n.prototype.init=function(t){var e;return e=t.isHighlighted,this.tmplVars=t.tmplVars,e?this.$el.addClass("highlighted"):void 0},n}(t)}),define("utils/mostemailed",["utils/url-mapper","shared/helpers"],function(t,e){return function(n){return $.ajax({url:"/svc/mostpopular/emailed",dataType:"json",success:function(r,i,o){var s,a,l,u,c,d,h,p,f;switch(s=$("<div/>"),o.status){case 200:case 304:if(Array.isArray(r.results)){for(c=r.results,l=0,u=c.length;u>l;l++)a=c[l],a.url=t.getRelativeUrl(a.url),a.title=s.html(a.title).text(),a.title=e.fuseHyphens(a.title),a.abstract=s.html(a.abstract).text(),"image"===(null!=(d=a.media)&&null!=(h=d[0])?h.type:void 0)&&"Standard Thumbnail"===(null!=(p=a.media[0]["media-metadata"])?p[0].format:void 0)&&(a.thumbnail=null!=(f=a.media[0]["media-metadata"])?f[0]:void 0);return"function"==typeof n?n(null,r.results):void 0}return"function"==typeof n?n(new Error("No data found")):void 0;default:return"function"==typeof n?n(new Error("Status of "+o.status+" received")):void 0}},error:function(t,e,r){return"function"==typeof n?n(r):void 0}})}});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/homepage/frontend/mostemailed.view",["views/list.view","views/base.view","views/list-article.view","utils/mostemailed"],function(t,e,n,r){var i,o;return i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.ChildView=n,e.prototype.childViewOpts={dontShowThumbnail:!0,tmplVars:{headlineOnly:!0}},e.prototype.init=function(){return r(function(t){return function(e,n){return e?t.destroy():(n=n.splice(0,3),t.render(n))}}(this))},e.prototype.afterRender=function(){return this.trigger("render",this)},e}(t),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="most-emailed-home",e.prototype.generateMostEmailedView=function(){var t,e,n;return e=$("[data-view-el=most-emailed-list]"),t=$("[data-view=most-emailed-home]"),n=new i,n.once("destroy",function(t){return function(){return t.destroy()}}(this)),n.on("render",function(){return function(){return e.append(n.el.innerHTML),t.removeClass("hidden")}}(this))},e}(e)}),define("utils/recommendations",["utils/url-mapper","shared/helpers"],function(t,e){return function(n){var r;return r=$.cookies.get("RMID")||"",$.ajax({url:"/recommendations/svc/personalized.json",data:{_c:r},dataType:"json",success:function(r,i,o){var s,a,l,u,c;switch(s=$("<div/>"),o.status){case 200:case 304:if(Array.isArray(r.suggestions)){for(c=r.suggestions,l=0,u=c.length;u>l;l++)switch(a=c[l],a.url=t.getRelativeUrl(a.url),a.title=s.html(a.title).text(),a.title=e.fuseHyphens(a.title),a.abstract=s.html(a.abstract).text(),a.item_type){case"Video":a.itemTypeVideo=!0;break;case"ImageSlideShow":a.itemTypeSlideShow=!0}return"function"==typeof n?n(null,r.suggestions):void 0}return"function"==typeof n?n(new Error("No data found")):void 0;default:return"function"==typeof n?n(new Error("Status of "+o.status+" received")):void 0}},error:function(t,e,r){return"function"==typeof n?n(r||new Error("error "+e+" from recs xhr")):void 0}})}});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/homepage/frontend/recommend.view",["views/list.view","views/base.view","views/list-article.view","utils/recommendations","controllers/homepage/frontend/mostemailed.view"],function(t,e,n,r,i){var o,s;return o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.ChildView=n,e.prototype.childViewOpts={dontShowThumbnail:!0,tmplVars:{headlineOnly:!0}},e.prototype.init=function(){return r(function(t){return function(e,n){return e?t.destroy():(n=n.splice(0,3),t.render(n))}}(this))},e.prototype.afterRender=function(){return this.trigger("render",this)},e}(t),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="rec-home",e.prototype.init=function(){var t,e;return t=this.$el.find("ol"),e=new o,e.on("render",function(n){return function(){return t.append(e.el.innerHTML),n.$el.removeClass("hidden")}}(this)),e.once("destroy",function(t){return function(){var e;return e=new i,e.generateMostEmailedView(),t.destroy()}}(this))},e}(e)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/homepage/frontend/all-sections.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="all-sections",e.prototype.events={click:function(){return"opened"!==$("#navLinks").attr("class")?$("button[data-button=header-nav]").click():void 0
}},e.prototype.init=function(){return $(".hasjs.all-sects").attr("href","#top")},e}(t)});var __indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("utils/adx-caller",["frontend/nyt","views/ad.view","utils/url","utils/url-mapper"],function(t,e,n,r){return{init:function(){var t,i,o,s,a,l;return i=0,o=[1],s=!1,location.href.indexOf("mobile_av")>-1?i=parseInt(n.parse(location.href,!0).search.mobile_av,10):null!=$.cookies.get("mobile_av")&&(i=$.cookies.get("mobile_av")),__indexOf.call(o,i)>=0&&(s=!0),a=r.isArticleOrBlog(location.pathname),a&&s?(e||(e=require("views/ad.view")),t=$("<div>").attr("data-ad","").attr("data-view","banner-ad").attr("data-view-position","mobileinterstitial"),l=new e({el:t}),$("body").append(l.el)):void 0},get:function(t,e){var r,i,o,s;if(o="undefined"!=typeof MWR&&null!==MWR?MWR.adxPage:void 0,!o)throw new Error("No adxPage available.");return window.WMDevice?void 0:(s=$.cookies.get("subLevel"),i=null===s?"adxsubstatus_anonymous":1===s?"adxsubstatus_registered":"adxsubstatus_subscribed",t.length?(location.href.indexOf("adxPage")>-1&&(o=n.parse(location.href,!0).search.adxPage),location.href.indexOf("keywords")>-1&&(r=n.parse(location.href,!0).search.keywords,r&&(i+=","+r)),i+=$("body").hasClass("global")?",adxedition_international":",adxedition_us",$.ajax({url:MWR.adXurl+"/bin/adxrun.html?v=3&positions="+t.join(",")+("&page="+o)+("&keywords="+i),dataType:"jsonp",jsonp:"jsonp",success:function(n){var r,i,o,s,a;if(null!=(null!=n?n.ads:void 0)){for(r=[],o=[],s=0,a=t.length;a>s;s++)i=t[s],null!=n.ads[i]&&(r.push({el:i,data:n.ads[i]}),o.push(i));if(e(o,r),null!=n.ads.ADX_CLIENTSIDE)return $(n.ads.ADX_CLIENTSIDE.creative).appendTo(document.body)}},error:function(t,e,n){return console.error("An error occured trying to get ads: "+n)}})):void 0)}}});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/ad.view",["views/base.view","utils/adx-caller","utils/generateIframe"],function(t,e,n){var r,i;return i=[],r=function(t){function r(){return this.onScroll=__bind(this.onScroll,this),this.onShowModalSharetools=__bind(this.onShowModalSharetools,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.id="advert",r.prototype.className="ad",r.prototype.init=function(){return i.push(this)},r.prototype.render=function(t){var e,r,i,o,s,a,l,u;if(u=null!=t?t:{},i=u.creative,l=u.width,a=u.height,i){if(l=+l||320,a=+a||50,(640===l&&100===a||600===l&&500===a)&&(l/=2,a/=2),e=n.init(this.$el),e.attr("id","preview-iframe").attr("frameborder",0).attr("scrolling","no").css({display:"block",height:a,width:l,maxWidth:"100%",border:"none",overflow:"hidden",margin:"0 auto"}),o=e[0].contentWindow.document,o.open(),o.write('<html><head><base target="_blank"></head>\n<body style="padding:0;margin:0;border:0;text-align:center;overflow:hidden">\n'+i+"\n</body></html>"),o.close(),"mobilepromo"===this.data.position){r=this.$el.parent(),r.removeClass("hide"),$("body").addClass("hasPaidPromo");try{return window.sessionStorage.setItem("promo-"+window.location.pathname,(new Date).valueOf())}catch(c){s=c}}}else if(this.$el.addClass("hidden"),"mobilebanner"===this.data.position&&this.$body.addClass("hasNoAds"),"mobilepromo"===this.data.position)return r=this.$el.parent(),r.remove()},r.prototype.addEvent=function(t){switch(t){case"scroll":return this.$window.on("scroll",this.onScroll);case"showModalSharetools":return $("#modal-sharetools").on("show.bs.modal",this.onShowModalSharetools)}},r.prototype.onShowModalSharetools=function(t){return this.$el.removeClass("hidden"),r.render(this.data.position),$(t.target).off("show.bs.modal",this.onShowModalSharetools)},r.prototype.onScroll=function(t){var e;return e=t.currentTarget,this.$el.removeClass("hidden"),this.$window.scrollTop()+this.$window.height()>=this.$el.offset().top-100?(this.$window.off("scroll",this.onScroll),r.render(this.data.position)):void 0},r.after=function(){var t,n,r,o,s,a,l;for(e.init(),r={mobilebanner2:"scroll",mobilesharetools:"showModalSharetools"},o=[].concat(i),n=a=0,l=o.length;l>a;n=++a)s=o[n],console.assert(s.data.position,"view should have data-attr for view position"),t=r[s.data.position],null!=t&&(o.splice(n,1,null),s.addEvent(t));return o=function(){var t,e,n;for(n=[],t=0,e=o.length;e>t;t++)s=o[t],null!=s&&n.push(s);return n}(),this.render(function(){var t,e,n;for(n=[],t=0,e=o.length;e>t;t++)s=o[t],n.push(s.data.position);return n}())},r.render=function(t){return"string"==typeof t&&(t=[t]),e.get(t,function(t,e){var n,r,o,s,a,l,u;for(r=l=0,u=i.length;u>l;r=++l)a=i[r],o=t.indexOf(a.data.position),o>-1?(n=e[o],a.render(n.data),i.splice(r,1,null)):a.render();return i=function(){var t,e,n;for(n=[],t=0,e=i.length;e>t;t++)s=i[t],null!=s&&n.push(s);return n}()})},r}(t)}),window.NYTD=window.NYTD||{},window.MWR=window.MWR||{},NYTD.dcsid="dcsjdydf3wz5bdzfptglozqrj_1v4k",window.MWR.env&&"production"!==window.MWR.env||(NYTD.dcsid="dcsga5emk0000000gky4w6o4m_7t4c");var defaultHref=function(){var t,e;return t=window.location.href,e=document.getElementsByName("canonicalURL"),e&&e.length>0&&(t=e[0].content),t+=document.location.search}();pendingTrack=!1;var dcs=window.dcs||{track:function(){pendingTrack=!0}};window.webtrendsAsyncInit=function(){dcs=new Webtrends.dcs,dcs.init({dcsid:NYTD.dcsid,domain:"wt.o.nytimes.com",timezone:-5,i18n:!1,anchor:!1,javascript:!0,cookieexpires:0,fpcdom:".nytimes.com",plugins:{}}),pendingTrack&&dcs.track()},jsSource=window.MWR.assets+"/js/externals",function(){var t=document.createElement("script");t.async=!0,t.src=jsSource+"/webtrends.min.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();var NYTD=NYTD||{};NYTD.Hosts||(NYTD.Hosts={}),NYTD.Hosts.jsHost||(NYTD.Hosts.jsHost="http://js.nyt.com"),NYTD.EventTracker=function(){var t,e;return t=[],e=function(){var e=[];this.track=function(t,n){t.time||(t.time=(new Date).getTime()),e.push({event:t,options:n})},this.processQueue=function(t){var n;if(null!=t)for(;e.length>0;)n=e.shift(),t(n.event,n.options)},t.push(this)},e.getAllInstances=function(){return t},e}(),NYTD.Tracker=function(){var t,e,n;return n=null,t=[],e=function(e,r,i){null!=n?n.trigger(e,r,i):t.push({action:e,data:r,type:i})},{init:function(){dcs.track()},trackImpression:function(t){e("mobile-impression",t,"impression")},trackInteraction:function(t){MWR.env&&"production"!=MWR.env&&console.info("trackInteraction:",t),e("mobile-interaction",t,"interaction")},setEventProxy:function(r){var i;for(n=r;t.length>0;)i=t.shift(),e(i.action,i.data,i.type)}}}(),define("ext/tracking",function(){});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/edition-selector.view",["views/base.view","ext/tracking"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="edition-selector",e.prototype.init=function(){return this.isInHeader=this.$el.parents("header").length>0},e.prototype.events={"click input[data-button]":function(t){var e,n;e=$(t.currentTarget).data("button"),n="us"===e?"US":"International",NYTD.Tracker.trackInteraction({module:this.isInHeader?"Edition":"Settings",action:"Click",region:this.isInHeader?"Header":"Footer",eventName:n})}},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/section-links.view",["views/base.view","ext/tracking"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="section-links",e.prototype.init=function(){return this.isInHeader=this.$el.parents("header").length>0},e.prototype.events={"click a":function(t){NYTD.Tracker.trackInteraction({module:"Navigation",action:"Click",eventName:"SectionNav",contentid:this.$(t.currentTarget).text(),region:this.isInHeader?"Header":"Footer"})}},e}(t)}),!function(t,e){"object"==typeof exports?module.exports=e(require("$")):"function"==typeof define&&define.amd?define("vhs",["jquery"],e):t.VHS=e(t.$)}(this,function(t){var e=function(e){return{ready:function(n){var r,i,o=t(e);o.bind("ready",function(t,e){n(e)}),o.each(function(e,n){i=t(n).data("ready"),i&&(r=t(n).data("instance"),t(n).trigger("ready",r))})},loaded:function(n){var r,i,o=t(e);o.bind("loaded",function(t,e){n(e)}),o.each(function(e,n){i=t(n).data("loaded"),i&&(r=t(n).data("instance"),t(n).trigger("loaded",r))})}}};return e.config={allowMultiplePlayers:!1},e.api=e.api||{},e.html=e.html||{},e.util={extend:function(t){function e(){}return Object.create?Object.create(t):(e.prototype=t,new e)},checkFlashSupport:function(){var t=swfobject.hasFlashPlayerVersion("10.1.0");return t},checkHtmlSupport:function(){var t=document.createElement("video"),e=document.createElement("canvas").getContext,n=!1;return t&&e&&(n=!0),n},getDeviceType:function(){for(var t=null,e=navigator.userAgent.toLowerCase(),n=[["android_chrome","(android.*chrome)"],["android_firefox","(android.*firefox)"],["android_legacy","(android )(2|3)"],["android_ics","(android 4.0)"],["android_jellybean","(android 4.)(1|2|3)"],["android_kitkat","(android 4.4)"],["ie_mobile","(windows phone os).*(iemobile)"],["ipad","ipad"],["kindle","kindle"],["iphone","iphone"],["other mobile","(touchpad|blackberry|opera mobi)"]],r=0;r<n.length;r++){var i=new RegExp(n[r][1]),o=e.match(i);null!==o&&(t=n[r][0])}return t||"desktop"},isIphone:function(){var t=navigator.userAgent.toLowerCase(),e=t.match("iphone"),n=null!==e?!0:!1;return n}},e.api.Logger=function(t){this.debug=t.options.debug},e.api.Logger.prototype={log:function(){"function"==typeof console.log&&this.debug===!0&&console.log(arguments)},info:function(){"function"==typeof console.info&&this.debug===!0&&console.info(arguments)},warn:function(){"function"==typeof console.warn&&this.debug===!0&&console.warn(arguments)},error:function(){"function"==typeof console.error&&this.debug===!0&&console.error(arguments)}},e.plugin=function(t,n){var r=e.api._plugins||{};return r[t]=n,e.api._plugins=r,r},e.api.Plugins=function(t){this.player=t,this._plugins=e.api._plugins,this.register()},e.api.Plugins.prototype.register=function(){var t,e,n=this,r=this.player.options,i=function(){this._player=n.player,this._container=n.player.container,this._element=n.player.element,this._data=n.player._data,this._options=n.player.options,this._logger=n.player.logger};for(t in this._plugins)r[t]!==!1&&(i.prototype=this._plugins[t],e=new i,"function"==typeof e._initialize&&e._initialize(),this.listeners(e))},e.api.Plugins.prototype.listeners=function(t){var n=function(n,r){"function"==typeof t[r]&&this.player.on(e.api.events[n],function(e){t[r](e)})},r={READY:"_ready",LOADED:"_loaded",PLAY:"_play",PAUSE:"_pause",MUTE:"_mute",SEEKED:"_seeked",ENDED:"_ended",PLAYING:"_playing",AD_STARTED:"_ad_started",AD_COMPLETED:"_ad_completed",AD_PAUSED:"_ad_paused",AD_RESUMED:"_ad_resumed",GO_FULLSCREEN:"_go_fullscreen",EXIT_FULLSCREEN:"_exit_fullscreen",PROGRESS:"_progress",TIME_UPDATE:"_time_update"};for(var i in r)n.call(this,i,r[i])},e.plugin("webtrends",{_initialize:function(){this.utils=e.util,this.tracked=!1,this.firstPlay=!0,this.trackingHistory=[]},getId:function(){if(this._data||this._options.id){var t=this._data?this._data.id:this._options.id;return t}return this._logger.warn("VHS::PLUGIN::WEBTRENDS:: ID is not defined"),!1},getName:function(){if(this._data||this._options.name){var t=this._data?this._data.headline:this._options.name;return t}return this._logger.warn('VHS::PLUGIN::WEBTRENDS:: NAME is optional <video data-setup=\'{"name: "name_video"}\'></video>'),!1},getCategory:function(){var t;if(this._data)this._data.section&&(t=this._data.section.content);else{if(!this._options.category)return this._logger.warn('VHS::PLUGIN::WEBTRENDS:: CATEGORY is optional <video data-setup=\'{"category: "category_video"}\'></video>'),!1;t=this._options.category}return t},getSeries:function(){var t="";if(this._data)this._data.contentSeries&&(t=this._data.contentSeries.name);else{if(!this._options.series)return this._logger.warn('VHS::PLUGIN::WEBTRENDS:: SERIES is optional <video data-setup=\'{"series: "series_video"}\'></video>'),!1;t=this._options.series}return t},getParams:function(t){var e=["DCS.dcssip","www.nytimes.com","DCS.dcsuri","/video/"+this._options.name+"/"+t.action+".html","WT.ti","Video "+this._options.name+" "+t.ti,"WT.cg_n","Video","WT.videoCategory",this.getCategory(),"WT.videoEvent",t.event,"WT.videoLoad",t.load,"WT.videoName",this.getName(),"WT.z_gpt","Multimedia","WT.z_gpst","Video","WT.z_gpsst","Video-"+t.gpsst,"WT.z_vid",this.getId(),"WT.z_vpt",this._options.type+"|"+this.utils.getDeviceType(),"WT.z_vft",this.getSeries(),"WT.z_dcsm",1];return t.z_vaud&&"Audio"===t.action&&e.push("WT.z_vaud",t.z_vaud),e},track:function(t){if("undefined"!=typeof dcsMultiTrack){if(this._logger.info("VHS::PLUGIN::WEBTRENDS::",t),dcsMultiTrack.apply(this,t),this.trackingHistory.length>0){for(var e=0,n=this.trackingHistory.length;n>e;e++)dcsMultiTrack.apply(this,this.trackingHistory[e]);this.trackingHistory=[]}}else this.trackingHistory.push(t)},_play:function(){if((this._player.adsController&&!this._player.adsController.isPlaying||!this._player.options.ads)&&!this.tracked){var t;this._options.autoplay&&this.firstPlay?(t=this.getParams({action:"Play",event:"play",load:"auto",gpsst:"Play",ti:"PlayStart"}),this.firstPlay=!1):t=this.getParams({action:"Play",event:"play",load:"user",gpsst:"Play",ti:"Play"}),this.track(t),this.tracked=!0}},_mute:function(t){var e;e=this.getParams(t?{action:"Audio",event:"AudioOff",load:"null",gpsst:"Audio",ti:"Audio",z_vaud:"Off"}:{action:"Audio",event:"AudioOn",load:"null",gpsst:"Audio",ti:"Audio",z_vaud:"On"}),this.track(e)},_ended:function(){if(this._player.adsController&&!this._player.adsController.isPlaying||!this._player.options.ads){var t=this.getParams({action:"Finish",event:"finish",load:"null",gpsst:"Play",ti:"FinishStop"});this.track(t),this.tracked=!1}},_go_fullscreen:function(){var t=this.getParams({action:"GoBig",event:"Go Big",load:"null",gpsst:"Play",ti:"GoBig"});this.track(t)},_exit_fullscreen:function(){var t=this.getParams({action:"GoSmall",event:"Go Small",load:"null",gpsst:"Play",ti:"GoSmall"});this.track(t)}}),e.plugin("comscore",{_initialize:function(){this.tracked=!1},loadLibrary:function(e){var n=("https:"===document.location.protocol?"https://sb":"http://b")+".scorecardresearch.com/beacon.js";t.getScript(n,e)},getParams:function(){var t=this._player.options.ads&&this._player.adsController&&this._player.adsController.isPlaying?"09":"02",e={c1:1,c2:"3005403",c3:"",c4:"",c5:t};return this._logger.info("VHS::PLUGIN::COMSCORE::",e),e},track:function(){var t=this.getParams();"undefined"!=typeof COMSCORE?COMSCORE.beacon(t):this.loadLibrary(function(){"undefined"!=typeof COMSCORE&&COMSCORE.beacon(t)})},_playing:function(){this.tracked||(this.track(),this.tracked=!0)},_ended:function(){this.tracked=!1},_ad_started:function(){this.track()}}),e.plugin("eventTracker",{_initialize:function(){this.util=e.util,this.ETEvents={USER_PLAY:"user-play",AUTO_PLAY_START:"auto-play-start",VIDEO_COMPLETE:"video-complete",PAUSE:"pause",UNPAUSE:"unpause",GO_FULLSCREEN:"go-fullscreen",EXIT_FULLSCREEN:"exit-fullscreen",MUTED:"muted",UNMUTED:"unmuted",AD_START:"ad-start",AD_COMPLETE:"ad-complete",PLAYER_LOAD:"player-load",PERCENT_25_VIEWED:"percent-25-viewed",PERCENT_50_VIEWED:"percent-50-viewed",PERCENT_75_VIEWED:"percent-75-viewed",SEEK:"seek",AD_PAUSE:"ad-pause",AD_RESUME:"ad-resume"},this.tracker=null,this.tracked=!1,this.tracked25Percent=!1,this.tracked50Percent=!1,this.tracked75Percent=!1,this.paused=!1,this.firstPlay=!0,this.trackingHistory=[]},getId:function(){if(this._data||this._options.id){var t=this._data?this._data.id:this._options.id;return t}return this._logger.warn("VHS::PLUGIN::EVENTTRACKER:: ID is not defined"),!1},getName:function(){if(this._data||this._options.name){var t=this._data?this._data.headline:this._options.name;return t}return this._logger.warn('VHS::PLUGIN::EVENTTRACKER:: NAME is optional <video data-setup=\'{"name: "name_video"}\'></video>'),!1},getCategory:function(){var t;if(this._data)this._data.section&&(t=this._data.section.content);else{if(!this._options.category)return this._logger.warn('VHS::PLUGIN::EVENTTRACKER:: CATEGORY is optional <video data-setup=\'{"category: "category_video"}\'></video>'),!1;t=this._options.category}return t},getSeries:function(){var t="";if(this._data)this._data.contentSeries&&(t=this._data.contentSeries.name);else{if(!this._options.series)return this._logger.warn('VHS::PLUGIN::EVENTTRACKER:: SERIES is optional <video data-setup=\'{"series: "series_video"}\'></video>'),!1;t=this._options.series}return t},getPrimaryPlaylistId:function(){var t;return this._data?(this._data.playlist&&(t=this._data.playlist.id),t):(this._logger.warn("VHS::PLUGIN::EVENTTRACKER:: playlistId missing _data"),!1)},getDuration:function(){var t=0;return this._data?(this._data.duration&&(t=this._data.duration/1e3),t):(this._logger.warn("VHS::PLUGIN::EVENTTRACKER:: duration missing _data"),!1)},getCurrentVideoPosition:function(){var t=0;return this._element&&this._element.length>0&&(t=Math.round(this._element[0].currentTime)),t},getTrackingObject:function(t){var e=this,n={subject:"video-nytv",url:window.location.href||"",referrer:document.referrer||"",playerType:e._options.type||"",device:e.util.getDeviceType(),tech:"html5",event:t||""};switch(t){case this.ETEvents.USER_PLAY:case this.ETEvents.AUTO_PLAY_START:case this.ETEvents.VIDEO_COMPLETE:case this.ETEvents.PAUSE:case this.ETEvents.UNPAUSE:case this.ETEvents.GO_FULLSCREEN:case this.ETEvents.EXIT_FULLSCREEN:case this.ETEvents.MUTED:case this.ETEvents.UNMUTED:case this.ETEvents.PERCENT_25_VIEWED:case this.ETEvents.PERCENT_50_VIEWED:case this.ETEvents.PERCENT_75_VIEWED:case this.ETEvents.PLAYER_LOAD:case this.ETEvents.SEEK:n=this.addVideoProps(n)}return n},addVideoProps:function(t){var e=t;return e.videoType="video",e.videoId=this.getId(),e.videoName=this.getName(),e.videoFranchise=this.getSeries(),e.videoDuration=this.getDuration(),e.videoSection=this.getCategory(),e.videoSubSection="",e.videoPrimaryPlaylistId=this.getPrimaryPlaylistId(),e.videoTimeOfEvent=this.getCurrentVideoPosition(),e},track:function(t){if(this._logger.info("VHS::PLUGIN::EVENTTRACKER::",t),this.tracker)this.tracker.track(t);else if("undefined"!=typeof NYTD&&NYTD.EventTracker)if(this.trackingHistory.length>0){this.tracker=new NYTD.EventTracker;for(var e=0,n=this.trackingHistory.length;n>e;e++)this.tracker.track(t);this.trackingHistory=[]}else this.trackingHistory.push(t)},_play:function(){var t={};this.tracked?this.paused&&(t=this.getTrackingObject(this.ETEvents.UNPAUSE),this.track(t),this.paused=!1):(this._options.autoplay&&this.firstPlay?(t=this.getTrackingObject(this.ETEvents.AUTO_PLAY_START),this.firstPlay=!1):t=this.getTrackingObject(this.ETEvents.USER_PLAY),this.track(t),this.tracked=!0)},_pause:function(){if(this._element&&this._element.length>0&&!this._element[0].ended){var t=this.getTrackingObject(this.ETEvents.PAUSE);this.track(t),this.paused=!0}},_seeked:function(){var t=this.getTrackingObject(this.ETEvents.SEEK);this.track(t)},_mute:function(t){var e;e=this.getTrackingObject(t?this.ETEvents.MUTED:this.ETEvents.UNMUTED),this.track(e)},_go_fullscreen:function(){var t=this.getTrackingObject(this.ETEvents.GO_FULLSCREEN);this.track(t)},_exit_fullscreen:function(){var t=this.getTrackingObject(this.ETEvents.EXIT_FULLSCREEN);this.track(t)},_ended:function(){var t=this.getTrackingObject(this.ETEvents.VIDEO_COMPLETE);this.track(t),this.tracked=!1,this.tracked25Percent=!1,this.tracked50Percent=!1,this.tracked75Percent=!1},_ad_started:function(){var t=this.getTrackingObject(this.ETEvents.AD_START);this.track(t)},_ad_completed:function(){var t=this.getTrackingObject(this.ETEvents.AD_COMPLETE);this.track(t)},_ad_paused:function(){var t=this.getTrackingObject(this.ETEvents.AD_PAUSE);this.track(t)},_ad_resumed:function(){var t=this.getTrackingObject(this.ETEvents.AD_RESUME);this.track(t)},_loaded:function(){var t=this.getTrackingObject(this.ETEvents.PLAYER_LOAD);this.track(t)},_time_update:function(t){var e=this._player.element[0],n=e.duration||0,r=Math.round(parseInt(t,10)),i=Math.round(parseInt(n,10)),o=Math.round(.25*i),s=Math.round(.5*i),a=Math.round(.75*i),l={};r>0&&(r>=o&&!this.tracked25Percent?(l=this.getTrackingObject(this.ETEvents.PERCENT_25_VIEWED),this.track(l),this.tracked25Percent=!0):r>=s&&!this.tracked50Percent?(l=this.getTrackingObject(this.ETEvents.PERCENT_50_VIEWED),this.track(l),this.tracked50Percent=!0):r>=a&&!this.tracked75Percent&&(l=this.getTrackingObject(this.ETEvents.PERCENT_75_VIEWED),this.track(l),this.tracked75Percent=!0))}}),e.plugin("conviva",{_initialize:function(){var t=this;this.utils=e.util,this.tracked=!1,this.CUSTOMER_ID="production"===this._options.env?"c3.NYTimes":"c3.NYTimes-Test",this.CUSTOMER_KEY="e58bb63661065df8cf5c24f7c80de524b6fad75a","function"==typeof Conviva&&Conviva.hasOwnProperty("LivePass")?(Conviva.LivePass.init("http://livepass.conviva.com",this.CUSTOMER_ID,function(e){t.livePassNotifier(e)}),Conviva.LivePass.toggleTraces(t._options.debug)):this.loadConvivaLibrary(function(){"function"==typeof Conviva&&Conviva.hasOwnProperty("LivePass")&&(Conviva.LivePass.init("http://livepass.conviva.com",t.CUSTOMER_ID,function(e){t.livePassNotifier(e)}),Conviva.LivePass.toggleTraces(t._options.debug))})},livePassNotifier:function(t){this._logger.info(0===t.code?"Conviva LivePass initialized successfully.":Conviva.LivePass.ready?"Conviva LivePass post-initialization feedback.\n 	Code: "+t.code+";\n 	Message: "+t.message:"Conviva LivePass failed to initialize!\n 	Conviva metrics will not be captured! 	Code: "+t.code+"; 	Message: "+t.message)},loadConvivaLibrary:function(e){var n="http://livepassdl.conviva.com/ver/2.77.0.16173/LivePass.js";t.getScript(n,e)},getSource:function(){var t="";return this._element&&(t=this._element.find("source:first").attr("src")),t},getPlayerName:function(){var t=this._options.name||"",e=t+"|"+this.utils.getDeviceType();return e},getParams:function(){var t={},e=this._data?this._data.headline:this._options.name,n=this._options.id?"["+this._options.id+"]"+e:e;return"function"==typeof Conviva&&Conviva.hasOwnProperty("ConvivaContentInfo")&&Conviva.ConvivaContentInfo&&(t=Conviva.ConvivaContentInfo.createInfoForLightSession(n),t.cdnName=Conviva.ConvivaContentInfo.CDN_NAME_AKAMAI,t.streamUrl=this.getSource(),t.isLive=!1,t.playerName=this._options.type,this._logger.info("VHS::PLUGIN::CONVIVA:: cdnName",t.cdnName),this._logger.info("VHS::PLUGIN::CONVIVA:: playerName",t.playerName),this._logger.info("VHS::PLUGIN::CONVIVA:: streamUrl",t.streamUrl)),t},_playing:function(){if(!this.tracked){var t,e=this._element[0],n={};"function"==typeof Conviva&&Conviva.hasOwnProperty("LivePass")&&(Conviva.LivePass.cleanupMonitoringSession(e),this._logger.info("VHS::PLUGIN::CONVIVA:: cleanup session"),n=this.getParams(),t=Conviva.LivePass.createSession(e,n),t.setContentLength(e.duration),this._logger.info("VHS::PLUGIN::CONVIVA:: creating session")),this.tracked=!0}}}),e.plugin("upt",{_initialize:function(){this.utils=e.util,this.body=t("body").first(),this.uptContainer=t(document.createElement("div")),this.hideElement(this.uptContainer),this.body.append(this.uptContainer),this.uptURL=[document.location.protocol,"//up.nytimes.com/"].join("");var n=window.dcsvid||t("meta[name='WT.dcsvid']").attr("content")||"";this.uid=encodeURIComponent(n),this.tracked=!1,this.trackedUptProgress=!1},getParams:function(t){var e=["d=",0,"&m=","","&ui=",this.uid,"&u=",this._data&&this._data.publish_url?"http://www.nytimes.com"+encodeURIComponent(this._data.publish_url):"","&r=",encodeURIComponent(window.location.href),"&e=",encodeURIComponent(t.event),"&p=",encodeURIComponent(null!==t.value||"undefined"!==t.value&&""!==t.value?['{"',t.event,'":"',t.value,'"}'].join(""):"")].join("");return e},track:function(e){if(!this._player.hasOwnProperty("adsController")||!this._player.adsController.isPlaying){this._logger.info("VHS::PLUGIN::UPT::",e);var n=t(document.createElement("img"));n.attr("src",this.uptURL+"?"+e),this.hideElement(n),this.uptContainer&&(this.uptContainer.empty(),this.uptContainer.append(n))}},hideElement:function(t){return t.css({width:"0px",height:"0px",border:"0px"}),t.hide(),t},_play:function(){if(!this.tracked){var t=this.getParams({event:"videoStart",value:""});this.track(t),this.tracked=!0}},_ended:function(){var t=this.getParams({event:"videoComplete",value:""});this.track(t),this.tracked=!1,this.trackedUptProgress=!1},_time_update:function(t){var e=this._player.element[0],n=e.duration||0,r=Math.round(parseInt(t,10)),i=Math.round(parseInt(n,10)),o=Math.round(.75*i);if(r>0&&r===o&&!this.trackedUptProgress){var s=this.getParams({event:"videoWatched",value:"75%"});this.track(s),this.trackedUptProgress=!0}}}),e.api.events={READY:"ready",LOADED:"loaded",PLAY:"play",PAUSE:"pause",MUTE:"mute",PLAYING:"playing",PROGRESS:"progress",SEEKED:"seeked",ENDED:"ended",DURATION_CHANGE:"durationchange",TIME_UPDATE:"timeupdate",GO_FULLSCREEN:"gofullscreen",EXIT_FULLSCREEN:"exitfullscreen",AD_STARTED:"adstarted",AD_PAUSED:"adpaused",AD_RESUMED:"adresumed",AD_COMPLETED:"adcompleted",AD_TIME_UPDATE:"adtimeupdate",AD_PROGRESS:"adprogress",RENDITION_CHANGED:"renditionchanged",LOADED_DATA:"loadeddata"},e.api.Player=function(n,r){var i=e.util.isIphone();switch(this._data=null,this._evts={},this.isReady=!1,this.isLoaded=!1,this.seeking=!1,this.readyCallbacks=[],this.loadedCallbacks=[],this.instance=r,this.isTouch="ontouchstart"in document.documentElement,this.renditions={medium:"video_xl_bb_mm",high:"video_xxxl_hb_mm",low:"video_l_3g_mob",library:"video_xxl_bb_mm",art:"video_xl_bb_art",well:"video_well_s_nb"},this.options=t.extend({id:"",name:null,category:null,element:null,container:null,type:null,src:null,source:null,render:!0,width:600,height:338,muted:!1,loop:!1,preload:"none",autoplay:!1,controls:i?!1:!0,ads:!1,freewheel:null,playlist:!1,storyboard:!1,auto:null,ratio:"16:9",debug:!1,env:"production",api:!0,onReady:null,onLoaded:null},n),this.options.env){case"development":this.apiBaseUrl="http://www.stg.nytimes.com/svc/video/api/",this.staticBaseUrl="http://static.dev.nytimes.com";break;case"staging":this.apiBaseUrl="http://www.stg.nytimes.com/svc/video/api/",this.staticBaseUrl="http://static.stg.nytimes.com";break;default:this.apiBaseUrl="http://www.nytimes.com/svc/video/api/",this.staticBaseUrl=MWR.assets?MWR.assets:""}this.controlsIsVisible=!0,this.controlsRendered=!1,this.device=e.util.getDeviceType(),this.initialize()},e.api.Player.prototype={initialize:function(){if(this.logger=new e.api.Logger(this),!this.validate())throw new Error("Player could not be created");this.create()},create:function(){var t=this,e=this.options.id,n=this.options.playlist===!0?"playlist":"video";this._currentVideo=0,this._currentVideoId=null,this.element=this.options.element||null,""!==this.options.id&&this.options.api?this.getData(e,n,function(e){t.options.playlist===!0?(t._playlist=e,t.setPlaylistCurrentVideo(),t.registerPlaylistEvents()):(t._data=e,t.renderPlayer(),t._loaded())}):(this.renderPlayer(),this._loaded()),this.options.controls===!0&&this.loadControlsStyle()},validate:function(){return""===this.options.id&&null===this.options.src&&null===this.options.source?(this.logger.error("ID, SRC or SOURCE should be provided"),!1):""===this.options.id&&null===this.options.name?(this.logger.error("NAME should be provided"),!1):(null===this.options.type&&this.logger.warn("TYPE should be provided"),this.options.auto||null!==this.options.container?!0:(this.logger.error("CONTAINER should be provided"),!1))},getData:function(e,n,r){var i=this.apiBaseUrl+n+"/"+e;t.ajax({type:"get",url:i,dataType:"jsonp",crossDomain:!0,context:this,success:r,error:function(t){this.logger.error("error",t)}})},renderPlayer:function(){this.renderContainer(),this.createVideoElement(),this.options.render&&this.render(),e.util.isIphone()||this.renderFakePoster(),this.options.controls&&("android_legacy"!==this.device&&"ie_mobile"!==this.device&&this.renderControls(),this.options.storyboard&&this.renderStoryboard())},createVideoElement:function(){if(this.options.element){var e=this.options.element;this.element=e.clone(!0),e.remove()}else this.element=t("<video />")},renderFakePoster:function(){var e=this,n=this.getPosterUrl();this.poster=t("<div></div>").css({width:this.options.width,height:this.options.height,position:"absolute",top:0,left:0,"z-index":10,background:"url("+n+") no-repeat","background-size":"100%"}),this.container.append(this.poster),this.options.render&&this.rendered?this.poster.bind("click",function(){e.play()}):(this.element.bind("loadstart",function(){e.play()}),this.poster.bind("click",function(){e.render()}))},render:function(){},renderContainer:function(){var e=this;return this.element?(this.container=t("<div></div>"),this.container.insertAfter(this.element)):this.container=t("#"+this.options.container),this.container.attr({id:"nytd-player-container-"+this.instance}),this.container.addClass("nytd-player-container"),this.container.css("16:9"===this.options.ratio&&"100%"===this.options.height&&"100%"===this.options.width?{background:"#000","padding-bottom":"56.25%",height:0,position:"relative",overflow:"hidden",width:this.options.width}:{width:this.options.width,height:this.options.height}),this.on("playing",function(){e.options.controls&&e.isTouch&&e.hideControls()}),this.container},loadControlsStyle:function(){var n=t("head"),r=this.staticBaseUrl+"/video/vhs/build/vhs-"+e._version+".css";n.append('<style type="text/css">.nytd-player-controls{ display: none; }</style>'),e.styleLoaded||(n.append('<link href="'+r+'" rel="stylesheet">'),e.styleLoaded=!0)},renderControls:function(n){if(this.controlsRendered)return!1;var r=['<div class="nytd-player-controls">','<a href="#" class="nytd-player-controls-play vhs-icon-play"></a>','<div class="nytd-player-controls-ad-label">Advertisement</div>','<div class="nytd-player-controls-current-time">00:00</div>','<div class="nytd-player-controls-progress">','<a href="#" class="nytd-player-controls-progress-marker vhs-icon-circle"></a>','<span class="nytd-player-controls-progress-time"></span>','<span class="nytd-player-controls-progress-buffer"></span>','<span class="nytd-player-controls-progress-scrubber"></span>',"</div>",'<a href="#" class="nytd-player-controls-fullscreen vhs-icon-resize-full"></a>','<a href="#" class="nytd-player-controls-volume vhs-icon-volume-up"></a>','<div class="nytd-player-controls-duration">00:00</div>',"</div>"].join("");e.styleLoaded||this.loadControlsStyle(),this.controls=t(r),n&&this.controls.hide(),this.container.append(this.controls),this.bindControlsState(),this.bindControls(),this.controlsRendered=!0},bindControlsState:function(){var t,e=this,n=!1;this.container.bind("mouseenter",function(){n=!0,e.showControls()}),this.container.bind("mouseleave",function(){n=!1,e.hideControls()}),this.container.bind("mousemove",function(){clearTimeout(t),n&&e.adsController&&!e.adsController.isPlaying&&(t=setTimeout(function(){e.hideControls()},3e3)),n&&!e.controlsIsVisible&&e.showControls()})},bindControls:function(){function n(t){var e=parseInt(t,10),n=Math.floor(e/60),r=e-60*n;return 10>n&&(n="0"+n),10>r&&(r="0"+r),n+":"+r}function r(t){var e=Math.round(t*d.width()/s.element[0].duration);h.css({left:e-9}),f.css({width:e}),u.html(n(t))}function i(){for(var t,e=0;e<s.element[0].buffered.length;e++)t=Math.round(s.element[0].buffered.end(e)*d.width()/s.element[0].duration);
p.css({width:t})}function o(t){s.seeking||r(t)}var s=this,a=this.controls.find(".nytd-player-controls-play"),l=this.controls.find(".nytd-player-controls-volume"),u=this.controls.find(".nytd-player-controls-current-time"),c=this.controls.find(".nytd-player-controls-duration"),d=this.controls.find(".nytd-player-controls-progress"),h=this.controls.find(".nytd-player-controls-progress-marker"),p=this.controls.find(".nytd-player-controls-progress-buffer"),f=this.controls.find(".nytd-player-controls-progress-time"),m=this.controls.find(".nytd-player-controls-fullscreen"),g=(this.controls.find(".nytd-player-controls-settings"),this.controls.find(".nytd-player-controls-ad-label"),!1);a.bind("click",function(t){t.preventDefault(),s.togglePlay()}),m.bind("click",function(t){t.preventDefault(),s.toggleFullscreen()}),l.bind("click",function(t){t.preventDefault(),s.toggleVolume()}),h.bind("click",function(t){t.preventDefault()}),d.bind("mousedown touchstart",function(t){t.stopPropagation(),g=!0}),d.bind("click",function(t){var e=-1*(d.offset().left-t.pageX),n=s.element[0].duration*e/d.width();s.seek(n),r(n)}),t(document).bind("mouseup touchend",function(){g=!1,setTimeout(function(){s.seeking=!1},500)}),t(document).bind("mousemove touchmove",function(t){var e,n,i,o;g&&(n=0,i=0,o=0,e=s.isTouch?t.originalEvent.touches[0].pageX||t.originalEvent.changedTouches[0].pageX:t.pageX,i=-1*(d.offset().left-e),i>n&&i<d.width()?o=s.element[0].duration*i/d.width():i>=d.width()&&(o=s.element[0].duration),s.seek(o),r(o),s.seeking=!0)}),this.on(e.api.events.TIME_UPDATE,function(t){o(t)}),this.on(e.api.events.AD_TIME_UPDATE,function(t){var e=this.element[0].duration||0;c.html(n(e-t))}),this.on(e.api.events.PROGRESS,function(t){i(t)}),this.on(e.api.events.DURATION_CHANGE,function(){var t=this.element[0].duration||0;c.html(n(t))}),this.on(e.api.events.PLAY,function(){a.addClass("vhs-icon-pause"),a.removeClass("vhs-icon-play")}),this.on(e.api.events.AD_RESUMED,function(){a.addClass("vhs-icon-pause"),a.removeClass("vhs-icon-play")}),this.on(e.api.events.AD_STARTED,function(){s.controls.addClass("nytd-player-ad-controls"),a.addClass("vhs-icon-pause"),a.removeClass("vhs-icon-play"),s.isTouch&&s.showControls()}),this.on(e.api.events.AD_COMPLETED,function(){s.controls.removeClass("nytd-player-ad-controls"),s.isTouch&&s.hideControls()}),this.on(e.api.events.PAUSE,function(){a.addClass("vhs-icon-play"),a.removeClass("vhs-icon-pause")}),this.on(e.api.events.AD_PAUSED,function(){a.addClass("vhs-icon-play"),a.removeClass("vhs-icon-pause")}),this.on(e.api.events.MUTE,function(t){t?(l.addClass("vhs-icon-volume-off"),l.removeClass("vhs-icon-volume-up")):(l.addClass("vhs-icon-volume-up"),l.removeClass("vhs-icon-volume-off"))})},hideControls:function(){this.controlsIsVisible=!1,this.controls.fadeOut()},showControls:function(){this.controlsIsVisible=!0,this.controls.fadeIn()},renderStoryboard:function(){for(var n,r,i,o=0;o<this._data.renditions.length;o++)"video_l_bb_lib"===this._data.renditions[o].type&&(n=this._data.renditions[o].url,r=parseInt(this._data.duration,10)/1e3);i={width:160,height:90,duration:r,pageSize:25,maxTimeBetweenThumb:5,columns:5,videoUrl:"/"+n.split("/").slice(3).join("/")},this.storyboardContainer=t("<div></div>"),this.storyboardContainer.css({overflow:"hidden",width:i.width+"px",height:i.height+"px",position:"absolute",bottom:"50px"}),this.storyboardContainer.attr("id",this.instance+"storyboard"),this.container.append(this.storyboardContainer),i.container=this.storyboardContainer,this.storyboard=new e.api.Storyboard(i),this.bindStoryBoard()},bindStoryBoard:function(){var e=this,n=this.controls.find(".nytd-player-controls-progress");n.bind("mousemove",function(r){var i=-9,o=r.clientX-t(this).offset().left;if(e.storyboardContainer.length>0&&e.storyboardContainer.show(),o>i&&o<n.width()-9){var s=e.element[0].duration*o/n.width();e.storyboard&&(e.storyboard.showThumbByTime(s),e.storyboard.container.css({left:o}))}}),n.bind("mouseout",function(){e.storyboardContainer.length>0&&e.storyboardContainer.hide()})},_loaded:function(){"function"==typeof this.options.onLoaded&&this.options.onLoaded.apply(this);for(var t in this.loadedCallbacks)this.loadedCallbacks[t].apply(this);this.isLoaded=!0,this.plugins=new e.api.Plugins(this),this.trigger(e.api.events.LOADED),this.element.data("loaded",!0),this.element.trigger(e.api.events.LOADED,this)},loaded:function(t){this.isLoaded?t.apply(this):this.loadedCallbacks.push(t)},_ready:function(){"function"==typeof this.options.onReady&&this.options.onReady.apply(this);for(var t in this.readyCallbacks)this.readyCallbacks[t].apply(this);this.isReady=!0,this.element.data("ready",!0),this.element.trigger(e.api.events.READY,this),this.trigger(e.api.events.READY),this.readyCallbacks=[]},ready:function(t){this.isReady?t.apply(this):this.readyCallbacks.push(t)},on:function(t,e){if("function"!=typeof e)throw new Error("The callback argument should be a function");this._evts=this._evts||{},this._evts[t]=this._evts[t]||[],this._evts[t].push(e)},off:function(t){this._evts&&"object"==typeof this._evts&&this._evts.hasOwnProperty(t)&&delete this._evts[t]},trigger:function(t,e){if(this._evts&&"object"==typeof this._evts)for(var n in this._evts)if(n===t)for(var r=0;r<this._evts[n].length;r++)this._evts[n][r].call(this,e)},getPosterUrl:function(){var t,e="";if("undefined"!=typeof this.options.poster)e=this.options.poster;else if(this._data){t=this._data.images;for(var n in t)"videoSmall"===t[n].type&&(e="http://graphics8.nytimes.com/"+t[n].url)}return e},setPlaylistCurrentVideo:function(){var t=this,e=this._playlist.videos[this._currentVideo].id;this.getData(e,"video",function(e){t._data=e,t._currentVideo>0?(t.render(),t.element.load(),t.play()):t.renderPlayer(),t._loaded()})},registerPlaylistEvents:function(){var t=this;this.on(e.api.events.ENDED,function(){t._currentVideo++,t.setPlaylistCurrentVideo()})}},e.api.HtmlFive=function(t,n){this.status="paused",this.listenersInitialized=!1,this.instanceFullscreen=null,this.rendered=!1,this.adPaused=!1,e.api.Player.call(this,t,n)},e.api.HtmlFive.prototype=e.util.extend(e.api.Player.prototype),e.api.HtmlFive.prototype.render=function(){this.container.append(this.element),this.renderElementAttr(),this.renderSource(),this.element.data("instance",this),this.registerListeners(),this.rendered=!0},e.api.HtmlFive.prototype.renderElementAttr=function(){var t=this.element.attr("id"),e=this.getPosterUrl();this.element.attr({preload:this.options.preload,"x-webkit-airplay":"allow"}),this.element.css({height:this.options.height,width:this.options.width}),"16:9"===this.options.ratio&&"100%"===this.options.height&&"100%"===this.options.width&&this.element.css({position:"absolute",top:0,left:0}),e&&this.element.attr("poster",e),this.options.autoplay&&this.element.attr("autoplay","autoplay"),this.options.src&&this.element.attr("src",this.options.src),t&&""!==t||this.element.attr("id","video_"+(new Date).getTime()),("android_legacy"===this.device||"ie_mobile"===this.device)&&this.element.attr("controls","controls"),this.options.muted&&this.mute(!0)},e.api.HtmlFive.prototype.renderSource=function(){var e,n,r,i,o,s;if(this._data&&this._data.renditions){e=this.renditions,n=this._data.renditions,r=this.element.width(),s=481>r?this.renditions.low:1024>r?this.renditions.medium:this.renditions.high;for(var a in n)n[a].type===s&&(o=n[a].url);o&&(i=t("<source />"),i.attr({src:o,type:"video/mp4"}),this.element.html(i))}else if(this.options.source)for(var l in this.options.source)i=t("<source />"),i.attr({src:this.options.source[l],type:l}),this.element.append(i)},e.api.HtmlFive.prototype.adPlaying=function(){return this.adsController&&this.adsController.isPlaying?!0:!1},e.api.HtmlFive.prototype.adCompleted=function(){return this.adsController&&this.adsController.isCompleted?!0:!1},e.api.HtmlFive.prototype.registerListeners=function(){var n=this,r=this.element.attr("controls");this.video=this.element[0],this.listenersInitialized===!1&&(this.element.bind(e.api.events.LOADED_DATA,function(){n.options.autoplay!==!0||n.options.ads||(n.play(),n.trigger(e.api.events.AUTOPLAY)),n.options.muted&&n.mute(!0),n._ready()}),this.element.bind("play",function(){var t="android_legacy"===this.device||"android_ics"===this.device?!1:!0;if(n.options.ads&&!n.adPlaying()&&!n.adCompleted()&&t?n.adsController?n.adsController.nextAd(function(){this.start()}):n.adsController=new e.html.Ads(n,function(){this.start()}):n.adPaused&&!n.adCompleted()?(n.adPaused=!1,n.trigger(e.api.events.AD_RESUMED)):n.trigger(e.api.events.PLAY),!e.config.allowMultiplePlayers)for(var r in e._instances)n.instance!==r&&e._instances[r].pause();e.focused=n,n.status="playing"}),r||this.isTouch?this.element.bind("click",function(t){t.preventDefault()}):this.element.bind("click",function(t){t.stopPropagation(),n.togglePlay()}),this.element.bind("playing",function(){n.status="playing",n.poster&&n.poster.hide(),n.adPlaying()||n.trigger(e.api.events.PLAYING)}),this.element.bind("progress",function(t){n.adPlaying()?n.trigger(e.api.events.AD_PROGRESS,t):n.trigger(e.api.events.PROGRESS,t)}),this.element.bind("timeupdate",function(){n.adPlaying()?n.trigger(e.api.events.AD_TIME_UPDATE,n.video.currentTime):n.trigger(e.api.events.TIME_UPDATE,n.video.currentTime)}),this.element.bind("seeked",function(){n.adPlaying()||n.trigger(e.api.events.SEEKED)}),this.element.bind("pause",function(){n.adPlaying()?(n.adPaused=!0,n.trigger(e.api.events.AD_PAUSED)):n.trigger(e.api.events.PAUSE),n.status="paused"}),this.element.bind("durationchange",function(){n.trigger(e.api.events.DURATION_CHANGE)}),this.element.bind("ended",function(){n.adPlaying()||(n.status="ended",n.trigger(e.api.events.ENDED))}),"function"==typeof this.element[0].webkitEnterFullScreen&&(this.element.bind("webkitbeginfullscreen",function(){n.trigger(e.api.events.GO_FULLSCREEN,!0),n.element.attr("controls","controls")}),this.element.bind("webkitendfullscreen",function(){n.trigger(e.api.events.EXIT_FULLSCREEN,!1),n.element.removeAttr("controls")})),"function"==typeof this.element[0].webkitRequestFullscreen&&t(document).bind("webkitfullscreenchange",function(){n.instanceFullscreen&&(n.isFullscreen()?(n.trigger(e.api.events.GO_FULLSCREEN),n.element.attr("controls","controls")):(n.trigger(e.api.events.EXIT_FULLSCREEN),n.element.removeAttr("controls")))}),"function"==typeof this.element[0].mozRequestFullScreen&&t(document).bind("mozfullscreenchange",function(){n.instanceFullscreen&&(n.isFullscreen()?(n.trigger(e.api.events.GO_FULLSCREEN),n.element.attr("controls","controls")):(n.trigger(e.api.events.EXIT_FULLSCREEN),n.element.removeAttr("controls")))}),this.listenersInitialized=!0)},e.api.HtmlFive.prototype.togglePlay=function(){"paused"===this.status||"ended"===this.status?this.play():this.pause()},e.api.HtmlFive.prototype.toggleVolume=function(){this.mute(!this.isMuted())},e.api.HtmlFive.prototype.toggleFullscreen=function(){this.fullscreen(!this.isFullscreen())},e.api.HtmlFive.prototype.play=function(){var t=this;this.options.render||this.rendered?this.video.play():(this.element.bind("loadstart",function(){t.video.play()}),this.render())},e.api.HtmlFive.prototype.pause=function(){this.video.pause()},e.api.HtmlFive.prototype.mute=function(t){var n;n=t===!1?!1:!0,this.element[0].muted=n,this.trigger(e.api.events.MUTE,n)},e.api.HtmlFive.prototype.isMuted=function(){var t=this.element[0].muted;return t},e.api.HtmlFive.prototype.seek=function(t){var e=this.element[0];if("number"!=typeof t)throw new Error("time argument should be a Number");if(0>t||t>e.duration)throw new Error("time should be greater than 0 and lower than the duration of the video");e.currentTime=t},e.api.HtmlFive.prototype.fullscreen=function(e){var n=e===!1?!1:!0,r=t(this.element)[0];n?("function"==typeof r.webkitRequestFullscreen?r.webkitRequestFullscreen():"function"==typeof r.webkitEnterFullScreen?r.webkitEnterFullScreen():"function"==typeof r.mozRequestFullScreen&&r.mozRequestFullScreen(),this.instanceFullscreen=this):("function"==typeof r.webkitCancelFullScreen?r.webkitCancelFullScreen():"function"==typeof r.webkitExitFullscreen?r.webkitExitFullscreen():"function"==typeof r.mozCancelFullScreen&&r.mozCancelFullScreen(),this.instanceFullscreen=null)},e.api.HtmlFive.prototype.isFullscreen=function(){var t=this.element[0];return document.mozFullScreen||document.webkitIsFullScreen||t.webkitDisplayingFullscreen},e.html.Ads=function(t,n){var r=this,i=!0;switch(this.player=t,this.callback=n,this.adsLoaded=!1,this.serverURL="http://fw.nytimes.com/ad/g/1",this.videoAssetId=this.player.options.id||this.player.instance,this.siteSectionId=this.player.options.freewheel||this.getSiteSection(),this.videoDuration=this.player._data?this.player._data.duration/1e3:this.player.element[0].duration,this.isCompleted=!1,this.isPlaying=!1,this.player.options.env){case"development":case"staging":this.networkId=379535,this.profileId="379535:ny_times_js_test",this.adManagerUrl="http://adm.fwmrm.net/p/nytimes_test/AdManager.js",this.serverURL="http://fw.stg.nytimes.com/ad/g/1",i=!1;break;default:this.networkId=379536,this.profileId="379536:ny_times_js_live",this.adManagerUrl="http://adm.fwmrm.net/p/nytimes_live/AdManager.js"}e.config.ts||(e.config.ts=!0,function(t){var e,n,r,i,o,s=window.location.search,a="",l="_ro",u=1;if(s){if(e=/[&?]tsdel=/.exec(s),!e){if(n=/[&?]tspid=([^&#]*)/.exec(s),!n)return;o=n[1],r=t?"tearsheet.fw.nytimes.com":"tearsheet.fw.stg.nytimes.com",a=encodeURIComponent(["Candidate-Ads=",o,";","Internal-Call;","Opt-Out;","Testing-Placement=true;","Commercial-Pattern=14852;;","Target-Server;","domain=",r,";","Reload-Ads=",o].join(""))}i=new Date,i.setTime(i.getTime()+24*u*60*60*1e3),document.cookie=l+"="+a+";expires="+i+";domain=.nytimes.com;path=/"}}(i)),this.player.element[0].pause(),this.loadAdManager(function(){r.adManager=new tv.freewheel.SDK.AdManager,r.adManager.setNetwork(r.networkId),r.adManager.setServer(r.serverURL),r.setupAdContext()})},e.html.Ads.prototype.nextAd=function(t){this.callback=t,this.isCompleted=!1,this.setupAdContext()},e.html.Ads.prototype.loadAdManager=function(e){var n=this;t.ajax({url:n.adManagerUrl,cache:!0,dataType:"script",success:function(){e.call(n)}})},e.html.Ads.prototype.setupAdContext=function(){var t=(this.player.element,this.player.element.attr("id"),this.player.container.attr("id"));this.theContext&&(this.unregisterContextListeners(),this.theContext.dispose()),this.theContext=this.adManager.newContext(),this.theContext.registerVideoDisplayBase(t),this.theContext.setProfile(this.profileId),this.theContext.setVideoAsset(this.videoAssetId,this.videoDuration,this.networkId),this.theContext.setSiteSection(this.siteSectionId,this.networkId),this.registerContextListeners(),this.theContext.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT,1e4,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),this.theContext.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT,1e4,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),this.theContext.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),this.theContext.addTemporalSlot("Preroll_1",tv.freewheel.SDK.ADUNIT_PREROLL,0),this.theContext.submitRequest()},e.html.Ads.prototype.registerContextListeners=function(){this.theContext.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,t.proxy(this.onRequestComplete,this)),this.theContext.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,t.proxy(this.onSlotEnded,this)),this.theContext.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,t.proxy(this.onSlotStarted,this))},e.html.Ads.prototype.unregisterContextListeners=function(){this.theContext.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,t.proxy(this.onRequestComplete,this)),this.theContext.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,t.proxy(this.onSlotEnded,this)),this.theContext.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,t.proxy(this.onSlotStarted,this))},e.html.Ads.prototype.onRequestComplete=function(t){if(this.adsLoaded=!0,this.prerollSlots=[],this.midrollSlots=[],this.overlaySlots=[],this.postrollSlots=[],t.success)for(var e=this.theContext.getTemporalSlots(),n=0,r=e.length;r>n;n++){var i=e[n];switch(i.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:this.prerollSlots.push(i);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:this.midrollSlots.push(i);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:this.overlaySlots.push(i);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:this.postrollSlots.push(i)}}this.prerollSlots&&this.prerollSlots.length?this.callback(null,this.prerollSlots):this.callback(new Error("No prerolls available"))},e.html.Ads.prototype.getState=function(){return this.isCompleted},e.html.Ads.prototype.getSiteSection=function(){function e(t){var e=""===t?"none":t;return e.replace(/[^a-zA-Z]/g,"").toLowerCase()}var n=t('meta[name="CG"]').attr("content")||"",r=t('meta[name="SCG"]').attr("content")||"",i=t('meta[name="PT"]').attr("content")||"",o=e(n)+"_"+e(r)+"_"+e(i);return o},e.html.Ads.prototype.onSlotStarted=function(t){var n=t.slot.getTimePositionClass();switch(n){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:this.isCompleted=!1,this.isPlaying=!0,this.player.trigger(e.api.events.AD_STARTED)}},e.html.Ads.prototype.onSlotEnded=function(t){var n=t.slot.getTimePositionClass();switch(n){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:this.prerollSlots.length&&(this.prerollSlots.shift(),this.prerollSlots.length?this.prerollSlots[0].play():this.resumeContent()),this.player.trigger(e.api.events.AD_COMPLETED);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:case tv.freewheel.SDK.TIME_POSITION_CLASS_DISPLAY:}},e.html.Ads.prototype.resumeContent=function(){var t=this,n=this.player.element.find("source").attr("src");this.isCompleted=!0,this.isPlaying=!1,this.player.element.attr("src",n),this.player.element[0].load(),this.player.play(),this.theContext.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PLAYING),this.player.on(e.api.events.ENDED,function(){t.theContext.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED)})},e.html.Ads.prototype.start=function(){this.prerollSlots&&this.prerollSlots.length?(this.isCompleted=!1,this.isPlaying=!0,this.prerollSlots[0].play()):this.resumeContent()},e._instances={},e.styleLoaded=!1,e.player=function(t){var n="player_"+Math.round(Math.random()*Date.now()),r=new e.api.HtmlFive(t,n);return e._instances[n]=r,r},e.auto=function(){var n,r,i,o,s=t("video[data-nytd]"),a=function(t){var e={},n=t.find("source");return n.length>0&&n.each(function(t,n){e[n.type]=n.src}),e},l=function(t,e){var n=t.attr(e),r=void 0!==n?!0:!1;return r};if(s.length>0)for(n=0,r=s.length;r>n;n++)o=s.eq(n),i=o.data("setup")||{},i.element=o,i.auto=!0,i.id=i.nytd||o.data("nytd"),i.name=i.name||o.data("name"),i.width=i.width||o.attr("width"),i.height=i.height||o.attr("height"),i.src=i.src||o.attr("src"),i.source=i.source||a(o),i.poster=i.poster||o.attr("poster"),i.autoplay=i.autoplay||l(o,"autoplay"),i.preload=i.preload||o.attr("preload"),i.muted=i.muted||l(o,"muted"),e.player(i)},e.shortcuts=function(){var n=function(t){var n=e.focused;if(n)switch(32===t.keyCode&&t.preventDefault(),t.keyCode){case 32:n.togglePlay();break;case 102:case 70:n.fullscreen();break;case 38:break;case 40:break;case 37:n.seek(n.element[0].currentTime-10);break;case 39:n.seek(n.element[0].currentTime+10)}};t(document).unbind("keydown.vhs").bind("keydown.vhs",n),t(document).bind("click.vhs",function(){e.focused=null}),t(function(){e.auto()})}(),e._version="1.4.3",e});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("views/video.view",["views/base.view","vhs"],function(t,e){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.id="video-view",n.prototype.init=function(){var t,n;return n=e.util.getDeviceType(),t=$(".videoholder"),t.each(function(t,r){var i,o,s,a,l,u,c;return i=$(r),s=i.find("[data-setup]"),u=s.data("video-controls"),c=s.data("video-fullscreen"),a=s.data("setup"),o=i.find(".icon-video"),l=e.player(a),l.loaded(function(){var t,e;return i.removeClass("loading"),i.find(".video-spacer").remove(),i.on("tap.mobileweb",function(e){return e.stopPropagation(),t()}),o.on("tap.mobileweb",function(e){return e.stopPropagation(),t()}),e=function(){var t,e,n;return l.renderControls(),l.controls.show(),null!=l.controls?(null!=(t=l.controls.find(".nytd-player-controls-current-time"))&&t.hide(),null!=(e=l.controls.find(".nytd-player-controls-progress"))&&e.hide(),null!=(n=l.controls.find(".nytd-player-controls-duration"))?n.hide():void 0):void 0},t=function(){return function(){return o.addClass("hidden"),l.play(),c&&("android_ics"===n||"android_legacy"===n?e():l.fullscreen(!0)),"iphone"!==n&&"ipad"!==n&&u&&e(),l.on("exitfullscreen",function(){var t,e;return this.pause(),null!=(t=l.controls)&&t.hide(),null!=(e=l.element)&&e.removeAttr("controls"),o.removeClass("hidden")})}}(this)})})},n}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/articles/frontend/article-tools-header.view",["views/base.view","ext/tracking"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="article-tools-header",e.prototype.init=function(){return this.$el.find("[data-share]").on("tap.mobileweb",function(){return function(t){var e;return e=$(t.target),NYTD.Tracker.trackInteraction({module:"ArticleShareToolsHeader",eventName:"Share-"+e.parents("[data-share]").data("share")})}}(this))},e}(t)});var __hasProp={}.hasOwnProperty;define("utils/comments",["utils/extend","utils/dispatcher"],function(t,e){var n,r,i,o,s,a,l,u,c,d;return c=null,d=null,e.once("fetch:user-details",function(t,e,n){return c=n.id,e=e}),r=function(){function t(e){var n;this.name=e.userDisplayName,this.location=e.userLocation,this.body=e.commentBody,this.date=new Date(1e3*e.createDate),this.isReply=2===e.depth,this.isVerified=1===e.trusted,this.isTopPick=e.editorsSelection,this.replies=e.replyCount?function(){var r,i,o,s;for(o=e.replies,s=[],r=0,i=o.length;i>r;r++)n=o[r],s.push(new t(n));return s}():[],this.parentID=e.parentID,this.commentSequence=e.commentSequence,this.commentID=e.commentID,this.recommendations=e.recommendations,this.recommendedFlag=e.recommendedFlag,this.showRecommended=1===e.recommendedFlag?!0:void 0,this.hideRecommendCount=0===e.recommendations?!0:void 0,this.isReply="number"==typeof e.parentID?!0:void 0}return t.prototype.hasReplies=function(){return this.replies.length>0},t.prototype.toJSON=function(){var t,e,n,r;e={};for(t in this)__hasProp.call(this,t)&&(r=this[t],e[t]=r);return e.replies=function(){var t,e,r,i;for(r=this.replies,i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(n.toJSON());return i}.call(this),e},t}(),s="http://community.stg.ec2.nytimes.com/svc/community/V3/requestHandler",o="http://community.ec2.nytimes.com/svc/community/V3/requestHandler",n="STG"===$("#comments").data("comments-env")?s:o,l=/^([/]comments)?[/]blogs[/]/,null!=location.pathname.match(l)?(i=location.pathname.replace(/^[/]comments[/]/,"").split("blogs/"),u=i[1].indexOf("/"),a=i[1].substring(0,u),i="dealbook"===a?location.protocol+"//dealbook.nytimes.com"+i[1].substr(u):location.protocol+"//"+a+".blogs.nytimes.com"+i[1].substr(u)):i=encodeURIComponent("http://www.nytimes.com"+location.pathname.replace(/^[/]comments/,"")),{_get:function(e,r,o){if(e=t({method:"get",path:i},e),null==e.cmd)throw new Error("You must provide a command.");return $.ajax({url:n,data:e,dataType:"jsonp",context:this,success:function(t){var e;return(null!=(e=t.results)?e.userData:void 0)&&(this.userId=c,this.name=t.results.userData.displayName,this.loc=t.results.userData.location,this.trusted=t.results.userData.trusted),r.apply(this,arguments)},error:function(){return o.apply(this,arguments)}})},getSummary:function(t,e){return this._get({cmd:"GetCommentSummary"},function(e){return function(){return t?t.apply(e,arguments):void 0}}(this),e)},getCount:function(t,e){return this.getSummary(function(e){return function(n){return t?t(n.results.totalCommentsFound,n.results[e._filterCountKey.all],n.results[e._filterCountKey.reader],n.results[e._filterCountKey.nyt],n.results.canSubmit):void 0}}(this),e,!1)},getComments:function(t,e,n){var i,o,s;if(s=t.offset,o=t.filter,null==o&&(o="all"),null==this._filters[o])throw new Error("Invalid filter `"+o+"`");return i=this._filters[o],this._get({cmd:i,sort:"newest",offset:s},function(t){return function(n){var i,s,a;return i=function(){var t,e,i,o;for(i=n.results.comments,o=[],t=0,e=i.length;e>t;t++)s=i[t],o.push(new r(s));return o}(),a=t._filterCountKey[o],e?e(i,n.results[a]||0):void 0}}(this),n)},_filters:{all:"GetCommentsAll",nyt:"GetCommentsNYTPicks",reader:"GetCommentsReadersPicks"},_filterCountKey:{all:"totalParentCommentsFound",nyt:"totalEditorsSelectionFound",reader:"totalRecommendationsFound"},post:function(t,n,o){var s,a,l,u,h,p,f,m,g,v,y,_;for(p=t.name,h=t.loc,a=t.comment,f=t.parentID,s=t.assetTaxonomy,u=!1,m=window.location.pathname.split("?")[0],v=m.split("/"),v=v.filter(function(t){return t.length>0}),y=0,_=v.length;_>y;y++)if(l=v[y],"blogs"===l){u=!0;break}return f="number"==typeof f?f:0,g={commentTitle:"n/a",timespeoplegetstart:"http://timespeople.prvt.nytimes.com/view/user/"+c+"/settings.html",userID:c,userEmail:d,userDisplayName:p,userLocation:h,commentBody:a,assetTaxonomy:s,parentID:f,commentType:0===f?"comment":"userReply",path:i},this._get({cmd:"PostComment",method:"post",postdata:JSON.stringify(g)},function(t){return function(i){var s,l;return s=null!=i.results.error,n&&!s&&n.apply(t,arguments),!s&&t.trusted&&(l=new r({userDisplayName:p,userLocation:h,commentBody:a,createDate:parseInt(new Date/1e3,10)}),0===f&&e.trigger("post:trusted",l)),o&&s?o.apply(t,arguments):void 0}}(this),o)},recommend:function(t,e,n){var r,o,s,a;return o=t.commentSequence,s=t.parentID,r=t.canRecommend,a={commentTitle:"n/a",commentSequence:o,userID:c,userEmail:d,parentID:null!=s?s:0,recommend:r,path:i},this._get({cmd:"PostRecommend",method:"post",postdata:JSON.stringify(a)},function(t){return function(r){var i;return i=null!=r.results.error,i||e&&e.apply(t,arguments),n&&i?n.apply(t,arguments):void 0}}(this),n)},flag:function(t,e,n){var r,o,s;return r=t.commentID,o=t.commentLabels,s={userID:c,commentID:r,commentLabels:o,path:i},this._get({cmd:"FlagComment",method:"post",postdata:JSON.stringify(s)},function(t){return function(r){var i;return i=null!=r.results.error,i||e&&e.apply(t,arguments),n&&i?n.apply(t,arguments):void 0}}(this),n)}}});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/articles/frontend/article-tools-footer.view",["views/base.view","utils/comments","ext/tracking"],function(t,e){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.id="article-tools-footer",n.prototype.init=function(){return this.updateCommentCount(),this.$el.find("[data-share]").on("tap.mobileweb",function(){return function(t){var e;return e=$(t.target),NYTD.Tracker.trackInteraction({module:"ArticleShareToolsFooter",eventName:"Share-"+e.parents("[data-share]").data("share")})}}(this))},n.prototype.updateCommentCount=function(){var t;return t=this.$("[data-view=comment-count]"),t.length?e.getCount(function(){return function(e){return t.text(e)}}(this)):void 0},n}(t)}),define("utils/external-js-lib",[],function(){return{loadOnce:function(t,e){var n,r;if(t&&e&&!document.getElementById(t))return n=document.getElementsByTagName("script")[0],n?(r=document.createElement("script"),r.id=t,r.async=!0,r.src=e,n.parentNode.insertBefore(r,n)):void 0}}}),define("utils/auth-token",["jquery.cookies"],function(){var t;return t={get:function(e){var n;return n=$.cookies.get("mw-auth-t"),n&&n.fetched>=Date.now()-12e5?e(n.value):t._getNewToken(e)},markUsed:function(e){return t._setCookie(e)},_setCookie:function(t){var e,n;return n=Date.now()+12e5,e=JSON.stringify({value:t,fetched:Date.now()}),$.cookies.set("mw-auth-t",e,{expiresAt:new Date(n)})},_getNewToken:function(e){return $.ajax({url:"http://www.nytimes.com/svc/profile/token.jsonp",dataType:"jsonp",success:function(){return function(n){var r;return r=n.data.token,e(r),t._setCookie(r)}}(this)})}}}),define("utils/cross-platform-save",["./auth-token"],function(t){var e;return e=function(){function e(){}return e.baseDomain="http://www.nytimes.com",e.addUrl=function(n,r){return t.get(function(t){return e._doAjaxCall(t,{url:"/svc/profile/reading-list/v1/add.jsonp",backendMethod:"POST",data:{url:n},success:function(t){var n;return window.localStorage&&(n=e._getLocalStorage(),n&&(n.items.push(t.assets[0]),window.localStorage.setItem("savedArticles",JSON.stringify(n)))),r(null,t.assets[0].state)},error:function(t,e,n){return r(n)}})})},e.archiveUrl=function(n,r){return t.get(function(t){return e._doAjaxCall(t,{url:"/svc/profile/reading-list/v1/archive.jsonp",backendMethod:"POST",data:{url:n},success:function(){var t,i,o,s,a;if(window.localStorage&&(i=e._getLocalStorage())){for(o=i.items.filter(function(t){return t.url===n}),s=0,a=o.length;a>s;s++)t=o[s],i.items.splice(i.items.indexOf(t),1);window.localStorage.setItem("savedArticles",JSON.stringify(i))}return r(null)},error:function(t,e,n){return r(n)}})})},e._doAjaxCall=function(t,n){return n.url=e.baseDomain+n.url,"POST"===n.backendMethod?n.data={data:JSON.stringify(n.data),token:t}:(n.data=n.data||{},n.data.token=t),$.extend(n,{dataType:"jsonp"}),$.ajax(n)},e.isUrlSaved=function(n,r){return window.localStorage?void e.getList(!1,function(t,e){var i;return t?r(t):(i=e.filter(function(t){return t.url===n}),r(null,i[0]))}):t.get(function(t){return e._doAjaxCall(t,{url:"/svc/profile/reading-list/v1/asset.jsonp",data:{url:n},error:function(t,e,n){return r(n)},success:function(t){return r(null,t.assets[0])}})})},e._getLocalStorage=function(t){var e,n;return(n=window.localStorage.getItem("savedArticles"))?(e=JSON.parse(n),e.token!==t?null:e):null},e.getList=function(n,r){return t.get(function(t){var i,o,s;return window.localStorage&&!n&&(s=e._getLocalStorage(),s&&s.tokenUsed===t)?r(null,s.items):(o=[],(i=function(n){return e._doAjaxCall(t,{url:"/svc/profile/reading-list/v1/quicklist.jsonp",data:{offset:n},error:function(t,e,n){return r(n)},success:function(e){var s,a,l,u;for(u=e.assets,a=0,l=u.length;l>a;a++)s=u[a],o.push(s);return 50===e.assets.length?i(n+50):(window.localStorage&&window.localStorage.setItem("savedArticles",JSON.stringify({tokenUsed:t,items:o})),r(null,e.assets))}})})(0))})},e.getListWithDetails=function(n){return t.get(function(t){var r,i;return i=[],(r=function(o){return e._doAjaxCall(t,{url:"/svc/profile/reading-list/v1/list.jsonp",data:{offset:o},error:function(t,e,r){return n(r)},success:function(t){var e,s,a,l,u,c;if(null!=t.assets&&t.assets.length>0){for(c=t.assets,l=0,u=c.length;u>l;l++)a=c[l],i.push(a);if(50===t.assets.length)return r(o+50);n(null,i)}else s="Empty assets",n(s);if(window.localStorage)return e=i.map(function(t){return{url:t.url,savedDate:t.savedDate,addedDate:t.addedDate,state:t.state}}),window.localStorage.setItem("savedArticles",JSON.stringify({lastUpdateTime:(new Date).valueOf(),items:e}))}})})(0)})},e}()}),define("text!html/first-cross-platform-save.html",[],function(){return'<div id="" data-view="sharetools" class="modal hide sharefirst">\n  <div class="loggedin">\n    <div class="modal-header">\n        <i class="icon icon-share-saved"></i> Saved\n        <button type="button" class="modal-close" data-dismiss="modal" aria-hidden="true">\n          <i class="icon close">x</i>\n        </button>\n    </div>\n    <div class="modal-body">\n        <p>Items that you save may be read at any time on your computer, tablet and smartphone.</p>\n        <p>Access your saved items by selecting <strong>Saved</strong> from the menu at the top left\n          of any page on mobile.nytimes.com</p>\n    </div>\n  </div>\n  <div class="loggedout">\n    <div class="modal-header">\n        Log in to save this item\n        <button type="button" class="modal-close" data-dismiss="modal" aria-hidden="true">\n          <i class="icon close">x</i>\n        </button>\n    </div>\n    <div class="modal-body">\n        <p>Items that you save may be read at any time on your computer, tablet and smartphone.</p>\n        <p class="buttons"><a href="">Log in</a></p>\n    </div>\n  </div>\n</div>'
});var __bind=function(t,e){return function(){return t.apply(e,arguments)}};define("frontend/handlers/save-article",["utils/cross-platform-save","text!html/first-cross-platform-save.html"],function(t,e){var n;return new(n=function(){function n(){this.checkStatus=__bind(this.checkStatus,this),this.notLoggedIn=__bind(this.notLoggedIn,this),this.closePopup=__bind(this.closePopup,this),this.showPopup=__bind(this.showPopup,this),this.checkForFirstSavePopup=__bind(this.checkForFirstSavePopup,this),this.setSavedStyle=__bind(this.setSavedStyle,this),this.showBlackPopup=__bind(this.showBlackPopup,this),this.savePressed=__bind(this.savePressed,this);var t;t=this,this.$buttons=$(".article-save-button"),0!==this.$buttons.length&&(this.articleUrl=this.$buttons.data("url"),this.$body=$("body"),this.$body.on("click",".article-save-button",function(e){return e.preventDefault(),$(e.target).attr("data-save-state","pending"),t.savePressed(this)}),this.checkStatus())}return n.prototype.isSaved=!1,n.prototype.popup=null,n.prototype.savePressed=function(){var e,n,r;return this.$body.hasClass("loggedout")?this.notLoggedIn():(this.isSaved?(r="Removed from Saved",n="icon icon-share-save-big",e=t.archiveUrl):(r="Article Saved",n="icon icon-share-saved-big",e=t.addUrl),e(this.articleUrl,function(t){return function(e){return t.popup&&t.popup.remove(),t.setSavedStyle(!t.isSaved),t.checkForFirstSavePopup(e)?void 0:(e&&(r="Article save failed. Please try again."),t.showBlackPopup(r,n),t.setHasSavedCookie())}}(this)))},n.prototype.showBlackPopup=function(t,e){var n;return this.popup=$("<div class='black-alert'>"+t+"</div>"),e&&this.popup.prepend($("<i>",{"class":e})),this.$body.append(this.popup),this._adjustPositioningForFixed(this.popup),this.popup.css({"margin-left":-(this.popup.outerWidth()/2),"margin-top":-(this.popup.outerHeight()/2),visibility:"visible"}),(n=function(t){return setTimeout(function(){return t.css("opacity",0)},1e3),setTimeout(function(){return t.remove()},1500)})(this.popup)},n.prototype.setSavedStyle=function(t){return this.isSaved=t,t?($("i",this.$buttons).addClass("icon-share-saved").attr("data-save-state","saved"),$("span.saved-text",this.$buttons).html("Saved")):($("i",this.$buttons).removeClass("icon-share-saved").attr("data-save-state","inactive"),$("span.saved-text",this.$buttons).html("Save"))},n.prototype.setHasSavedCookie=function(){return $.cookies.set("hasCrossPlatSaved",!0,{expiresAt:new Date((new Date).getTime()+31536e6)})},n.prototype.checkForFirstSavePopup=function(t){return t?!1:$.cookies.get("hasCrossPlatSaved")?(this.setHasSavedCookie(),!1):(this.popup=$(e),this.popup.on("tap",function(t){return function(e){return e.stopPropagation(),e.preventDefault(),t.closePopup(t.popup)}}(this)),this.showPopup(this.popup),this.setHasSavedCookie(),!0)},n.prototype._adjustPositioningForFixed=function(t){var e;return e=$(window).height()/2+$(window).scrollTop(),t.offset().top!==e?t.css({position:"absolute",top:$(window).height()/2+$(window).scrollTop()}):void 0},n.prototype.showPopup=function(t){var e;return t.css({display:"block",visibility:"hidden",top:"50%"}),this.$body.append(t),this._adjustPositioningForFixed(t),e=$(window).height()/2,t.css({visibility:"visible",transform:"translate3d(0,-"+(e+$(t).height()/2)+"px,0)","margin-top":-($(t).height()/2)}),setTimeout(function(){return t.addClass("fade"),t.css("transform",""),$("body").addClass("overlayOpen"),$("body").append("<div class='modal-backdrop'></div>")},1)},n.prototype.closePopup=function(t){return this.$body.removeClass("overlayOpen"),$(".modal-backdrop").remove(),t.css("opacity",0),setTimeout(function(){return t.remove()},300)},n.prototype.notLoggedIn=function(){return this.popup=$(e),$("a",this.popup).attr("href",$("#header-login .loginlink").attr("href")),$("button.modal-close",this.popup).on("tap",function(t){return function(e){return e.stopPropagation(),e.preventDefault(),t.closePopup(t.popup)}}(this)),this.showPopup(this.popup)},n.prototype.checkStatus=function(){return this.$body.hasClass("loggedout")?void 0:t.isUrlSaved(this.articleUrl,function(t){return function(e,n){return n?t.setSavedStyle(!0):void 0}}(this))},n}())});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/articles/frontend/article-content.component.view",["views/base.view","jquery","utils/comments","utils/ua-detect","vhs","utils/external-js-lib","views/advert-dfp.view","frontend/handlers/save-article"],function(t,e,n,r,i,o,s){var a;return a=function(t){function n(){return this.resizeIframe=__bind(this.resizeIframe,this),this.resizeAllIframes=__bind(this.resizeAllIframes,this),this.loadYouTubePlayer=__bind(this.loadYouTubePlayer,this),this.renderAd=__bind(this.renderAd,this),this.placeAds=__bind(this.placeAds,this),n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.id="article-content",n.prototype.init=function(){var t,n,i,s,a,l,u,c,d,h,p,f,m,g,v,y,_,b,w,T,x;if(window.BBDevice.version>5&&window.BBDevice.version<10&&(l=e(".span-image.type-video"),n=l.find("img"),p=l.find("video"),n.wrap('<a href="'+p.attr("src")+'"></a>'),p.remove(),e(".video-thumb").each(function(){return function(t,n){var r;return r=e(n),r.parent().next().remove()}}(this))),d=e(".related-asset.article-interactive.embedded"),r.isMobileWin||r.isBlackberry?d.addClass("visible"):(this.iframesToTransform=e("span[data-iframe]"),e("body").on("resizedcontent",this.resizeIframe),e(window).on("article-expanded",this.resizeAllIframes),e(window).on("resize",this.resizeAllIframes),this.iframeElements=this.iframesToTransform.map(function(t,n){var r,i,o;return o=e(n).attr("data-iframe"),i=e(n).attr("data-min-width"),i<=e(n).width()?(r=e("<iframe class='embeddedContent' frameborder='0' width='100%' src='"+o+"' height='0' scrolling='no' ></iframe>"),e(n).append(r),r[0]):void 0})),("oneAd"===(T=NYTD.ABTest.variantFor("AokWave1"))||"fourAds"===T||"fourAdsNoBanner"===T)&&this.placeAds(),g=!0,r.isAndroid&&!r.isAndroidChrome&&(g=!1),!r.isMobileWin&&!window.BBDevice.isOldBB&&g){if(i=e("#modal-lightbox"),c=e(".article-span-image-link"),c.length>0)for(y=0,b=c.length;b>y;y++)v=c[y],u=e(v),u.attr("href","#modal-lightbox"),u.attr("data-toggle","modal"),u.on("click",function(t){var n,r;return n=e(t.target),r=n.parentsUntil(".span-image").next(),i.attr("data-image-url",n.data("lightbox-image-url")),i.find(".modal-footer").html(r.html())});for(this.$lightboxCandidates=e(".lightbox-candidate"),x=this.$lightboxCandidates,_=0,w=x.length;w>_;_++)m=x[_],s=e(m).parentsUntil(".article-image"),s.hasClass("article-image-link")&&(a=s.parent(),t=a.find(".article-image-link"),t.attr({href:"#modal-lightbox","data-toggle":"modal"}),t.on("click",function(){var t,n;return t=e(this).find(".lightbox-candidate"),i.attr("data-image-url",t.data("lightbox-image-url")),n=e(this).find(".text-container"),n?i.find(".modal-footer").html(n.html()):void 0}))}return h=e(".twitter-tweet"),h.length&&(r.isAndroid&&r.androidVer<4||r.isIOS&&r.iosVer<6||r.isBlackberry||r.isMobileWin||(e("body").hasClass("night")&&h.each(function(t,n){var r;return r=e(n),r.attr("data-theme","dark"),r.attr("data-link-color","#93c0de")}),o.loadOnce("twitter-wjs","//platform.twitter.com/widgets.js"))),r.isBB10?void 0:(f=e(".youtube-embed"),f.each(this.loadYouTubePlayer))},n.prototype.placeAds=function(){var t,n,r,i,o,s,a,l,u,c,d,h,p,f;if(("undefined"!=typeof NYTD&&null!==NYTD?NYTD.AdConfig:void 0)&&(d=NYTD.ABTest.variantFor("AokWave1"),o=e("body").hasClass("article"),NYTD.AdConfig.hasOwnProperty(d)&&o))for(h=NYTD.AdConfig[d],n=h.firstPosition-1,r=h.frequency,a=h.maxAds,c=e(".p-block"),t=[],s=function(t,n){return e(t).hasClass("a-ok")&&c.length-(n+1)>2},i=p=0,f=c.length;f>p;i=++p){if(u=c[i],t.length===a)return;i>=n&&0===t.length&&s(u,i)?(t.push(i),this.renderAd(u,t.length,i)):(l=t[t.length-1]+r,i>=l&&s(u,i)&&(t.push(i),this.renderAd(u,t.length,i)))}},n.prototype.renderAd=function(t,n,r){var i,o,a;return o="mobilearticle"+n,i=e('<div class="ad articlebig '+o+'"\ndata-view="advert-dfp"\ndata-position="'+o+'"></div>'),i.attr("data-p-location",r+1),e(t).after(i),a=new s({el:i})},n.prototype.loadYouTubePlayer=function(t,n){var r;return r=e(n),t=r.attr("data-idx"),r.html('<iframe width="576" height="324" src="//www.youtube.com/embed/'+t+'?origin=http://nytimes.com" frameborder="0" allowfullscreen></iframe>')},n.prototype.resizeAllIframes=function(){var t,n,r,i,o,s,a;for(s=this.iframesToTransform,a=[],i=0,o=s.length;o>i;i++)n=s[i],t=e(n).find("iframe")[0],t&&(r=e(n).attr("data-min-width"),r<=e(n).width()?(e(n).show(),t.height=0,a.push(t.height=t.contentDocument.body.scrollHeight)):a.push(e(n).hide()));return a},n.prototype.resizeIframe=function(t,e){var n,r,i,o,s;for(o=this.iframeElements,s=[],r=0,i=o.length;i>r;r++)if(n=o[r],n.contentWindow===e){n.height=n.contentDocument.body.scrollHeight;break}return s},n}(t)});var __indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("utils/touch-detect",[],function(){var t;return(null!=(t=window.BBDevice)?t.version:void 0)<10?!1:__indexOf.call(window,"ontouchstart")>=0||window.DocumentTouch&&document instanceof DocumentTouch||document.createTouch});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("components/footer/frontend/footer.view",["views/base.view","utils/ua-detect","utils/touch-detect","jquery","ext/tracking"],function(t,e,n,r){var i;return i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.id="footer",n.prototype.events={"tap [data-button=footer-sections]":function(){return r("body, html").animate({scrollTop:0},"fast",function(t){return function(){return t.menu.isOpen?void 0:t.menu.toggle()}}(this)),!1},"tap [data-button=footer-back-to-top]":function(t){return t.stopPropagation(),r("body, html").animate({scrollTop:0},"fast"),!1},"tap .sect-nav-shim":function(){return this.menu.toggle()}},n.prototype.init=function(){return this.$sections=this.$(".sect-nav-list ul li"),this.updateFeedbackEmailLink(),this.updateAppDownloadLink(),this.$("#download-nytimes-app-link").on("click",function(){return NYTD.Tracker.trackInteraction({module:"AppStore",action:"Tap",region:"Footer"})}),this.$("#full-www").on("click",function(){return NYTD.Tracker.trackInteraction({module:"DesktopVersion",action:"Tap",region:"Footer"})}),this.globalEvents.once("fetch:user-details",function(t){return function(e,n,i){var o,s,a,l,u,c;if(null!=n&&t.updateFeedbackEmailLink(n),i&&i.subscription){for(u=t.$sections,c=[],a=0,l=u.length;l>a;a++)s=u[a],o=r(s).attr("data-subscription-level"),c.push(o&&__indexOf.call(i.subscription,o)>=0?r(s).show():o&&__indexOf.call(i.subscription,o)<0?r(s).remove():void 0);return c}}}(this))},n.prototype.updateFeedbackEmailLink=function(t){var e,n,i,o;return null==t&&(t=""),n=document.cookie.indexOf("subLevel=")>-1?"Yes":"No",o=r("#hidPageNotFound").length>0?"NYT Mobile Web Broken Link Report":"NYT Mobile Web Feedback",e="?subject="+encodeURIComponent(o)+"&body="+encodeURIComponent("\n\n\n\n\n------------------------------\n\n"+("User Agent: "+navigator.userAgent+"\n")+("URL: "+document.location.href+"\n")+("Referring URL: "+document.referrer+"\n")+("Logged in: "+n+"\n")+("Subscriber username: "+t+"\n\n\n")+"* If you're reporting technical issues, the above information about your device is very useful to us. But feel free to delete it, if you like."),i="nytmobilefeedback@nytimes.com",r(".feedback-email").attr("href","mailto:"+i+e),r("#customer-support").length>0?r("#customer-support").attr("href","mailto:"+i+e):void 0},n.prototype.updateAppDownloadLink=function(){var t;return t=r("#download-nytimes-app-link"),e.isAndroid&&t.attr("href","http://a.localytics.com/android?id=com.nytimes.android&referrer=utm_source%3Dother_nyt_mobile_web%26utm_medium%3DLink%26utm_term%3DDownloads%26utm_campaign%3DNYTimes%2520-%2520Mobile%2520Site%2520Android"),e.isIPhone&&t.attr("href","http://64658.api-01.com/serve?action=click&publisher_id=64658&site_id=50290&offer_id=279698&advertiser_sub_keyword=nytm_core"),e.isIPad&&t.attr("href","http://64658.api-01.com/serve?action=click&publisher_id=64658&site_id=50288&offer_id=279696&advertiser_sub_keyword=nytm_ipad"),e.isBB10&&t.attr("href","http://appworld.blackberry.com/webstore/content/21197892/"),e.isMobileWin?t.attr("href","http://www.windowsphone.com/en-us/store/app/nytimes/557c4997-62a3-e011-986b-78e7d1fa76f8"):void 0},n}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("components/nav-sections/frontend/nav-sections.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return this._open=__bind(this._open,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="header-nav-menu",e.prototype.events={"click a":function(){return this.close()}},e.prototype.init=function(){return this.$links=this.$("div#navLinks"),this.$shim=$(".sect-nav-shim"),this.$body=$("body"),this.$btn=$("#main-nav"),this.$sections=this.$(".sect-nav-list ul li"),this.globalEvents.once("fetch:user-details",function(t){return function(e,n,r){var i,o,s,a,l,u;if(r&&r.subscription){for(l=t.$sections,u=[],s=0,a=l.length;a>s;s++)o=l[s],i=$(o).attr("data-subscription-level"),u.push(i&&__indexOf.call(r.subscription,i)>=0?$(o).show():i&&__indexOf.call(r.subscription,i)<0?$(o).remove():void 0);return u}}}(this))},e.prototype._open=function(){var t,e;return this.$el.attr("aria-hidden","false"),this.$el.attr("aria-expanded","true"),this.$links.css("display","block"),e=this.$links.prop("scrollHeight")+10,this.$links.addClass("opened").parent().css("height","0px"),this.$shim.addClass("opened"),this.$btn.addClass("opened"),this.$links.parent().css("height",e),this.isOpen=!0,this.$body.addClass("overlayOpen navOpen logoAboveOverlay").append('<div class="modal-backdrop" data-modal-type="modal-sections" />'),t=$(".modal-backdrop[data-modal-type=modal-sections]").one("click",function(e){return function(){return t.remove(),e.close()}}(this)),this.globalEvents.trigger("open:section-nav",this),NYTD.Tracker.trackInteraction({module:"Navigation",action:"Click",eventName:"OpenNavigation",region:"Header"}),this},e.prototype.close=function(){return this.isOpen&&(this.$el.attr("aria-hidden","true"),this.$el.attr("aria-expanded","false"),this.$links.removeClass("opened").parent().css("height","0px"),this.$shim.removeClass("opened"),this.$btn.removeClass("opened"),this.isOpen=!1,this.$body.removeClass("overlayOpen navOpen logoAboveOverlay"),$(".modal-backdrop[data-modal-type=modal-sections]").remove(),this.globalEvents.trigger("close:section-nav",this),NYTD.Tracker.trackInteraction({module:"Navigation",action:"Click",eventName:"CloseNavigation",region:"Header"})),this},e.prototype.toggle=function(){return this.isOpen?this.close():this._open()},e}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/nav-search/frontend/nav-search.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return this._open=__bind(this._open,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="header-search",e.prototype.events={"tap .search-nav-shim":function(){return this.toggle()}},e.prototype.init=function(){return this.$body=$("body"),this.$btn=$("#main-search"),this.$searchContainer=this.$(">:first")},e.prototype._open=function(){var t;return this.$el.attr("aria-hidden","false"),this.$el.attr("aria-expanded","true"),this.$searchContainer.css("height",this.$searchContainer.prop("scrollHeight")+"px").addClass("opened"),this.isOpen=!0,this.$btn.addClass("opened"),this.$body.addClass("overlayOpen navOpen logoAboveOverlay").append('<div class="modal-backdrop" data-modal-type="search" />'),t=$(".modal-backdrop[data-modal-type=search]").one("click",function(e){return function(){return t.remove(),e.close()}}(this)),this.globalEvents.trigger("open:search-nav",this),NYTD.Tracker.trackInteraction({module:"OpenSearch",action:"Click",eventName:"OpenNavigation",region:"Header"}),this},e.prototype.close=function(){return this.isOpen&&(this.$el.attr("aria-hidden","true"),this.$el.attr("aria-expanded","false"),this.$searchContainer.css("height","").removeClass("opened"),this.$btn.removeClass("opened"),this.isOpen=!1,$("#search-nav .t-search").blur(),this.$body.removeClass("overlayOpen navOpen logoAboveOverlay"),$(".modal-backdrop[data-modal-type=search]").remove(),this.globalEvents.trigger("close:search-nav",this),NYTD.Tracker.trackInteraction({module:"CloseSearch",action:"Click",eventName:"OpenNavigation",region:"Header"})),this},e.prototype.toggle=function(){return"search"===!this.$body.data("type")||null==this.$body.data("type")?this.isOpen?this.close():this._open():void 0},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/header/frontend/header.view",["views/base.view","components/nav-sections/frontend/nav-sections.view","components/nav-search/frontend/nav-search.view","utils/touch-detect"],function(t,e,n,r){var i;return i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.id="header",i.prototype.events={"click [data-button=header-nav]":function(t){t.preventDefault(),r&&t.stopImmediatePropagation()},"tap [data-button=header-nav]":function(t){t.preventDefault(),setTimeout(function(t){return function(){return t.menu.toggle()}}(this),10),$("body").trigger("nav-opened")},"tap [data-button=header-search]":function(t){return t.preventDefault(),setTimeout(function(t){return function(){return t.search.toggle()}}(this),10),$("body").trigger("search-opened"),$("#search-nav .t-search").focus()},"click h1.logo a":function(){return NYTD.Tracker.trackInteraction({module:"Nameplate",action:"Click",eventName:"Nameplate.US",region:"Header"})},"click div.logo a":function(){return NYTD.Tracker.trackInteraction({module:"Nameplate",action:"Click",eventName:"Nameplate.International",region:"Header"})}},i.prototype.init=function(){return this.menu=new e({el:"header-nav-menu"}),$("body").on("search-opened",function(t){return function(){return t.menu.close()}}(this)),this.search=new n({el:"header-search"}),$("body").on("nav-opened",function(t){return function(){return t.search.close()}}(this))},i}(t)}),define("utils/keycodes",[],function(){var t;return t={SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMAND:224}});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/nav-search/frontend/search-form.view",["views/base.view","utils/url","utils/keycodes"],function(t,e,n){var r;return r=function(t){function r(){return this.getAutoSuggest=__bind(this.getAutoSuggest,this),this.updateSearch=__bind(this.updateSearch,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.id="search-form",r.prototype.events={"click [data-view=search-reset]":function(t){this.$input.val(""),this.$reset.addClass("invisible"),this.$input.focus(),0===$(t.target).closest(".rcip-search").length&&this.resetAutoSuggest()},"click [data-view=search-submit]":function(t){return""===this.$input.val()?t.preventDefault():void 0},"keypress [data-view=search-input]":function(){return this.$input.length>0?this.$reset.removeClass("invisible"):void 0},"keydown [data-view=search-input]":function(t){if(!$(t.target.form).hasClass("rcip-search")){switch(t.keyCode){case n.SHIFT:case n.CONTROL:case n.ALT:case n.CAPS_LOCK:case n.COMMAND:case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:return}return this.observer&&clearTimeout(this.observer),this.observer=setTimeout(this.getAutoSuggest.bind(this),10)}}},r.prototype.init=function(){this.maxAutoSuggestions=5,this.searchServiceUrl="/svc/suggest/v1/homepage",this.$navsearch=$("#nav-search-container"),this.$searchsubmit=$("[data-view=search-submit]"),this.$navsearchreset=this.$navsearch.prop("scrollHeight")+"px",this.$input=this.$("[data-view=search-input]"),this.$autoSuggestList=this.$("#toolbarAutosuggestions"),this.$searchinputcontainer=this.$("[data-view-el=search-input-container]"),this.updateSearch(),this.$reset=this.$(".icon-search-reset"),this.$input.val().length>0&&this.$reset.removeClass("invisible"),$(window).on("pageshow",this.updateSearch)},r.prototype.updateSearch=function(){var t,n;return"/search"===location.pathname&&(n=e.parse(location.href,!0).search,null!=n.query&&(this.query=t=decodeURIComponent(n.query.replace(/\+/g,"%20")),this.$input.val()!==t))?this.$input.val(t):void 0},r.prototype.resetAutoSuggest=function(){this.$autoSuggestList.empty(),this.$searchinputcontainer.removeClass("autoSuggest"),this.$searchsubmit.removeClass("autoSuggest"),this.$navsearch.css("height",this.$navsearchreset)},r.prototype.buildAutoSuggestResults=function(t){var e,n,r,i,o,s,a,l,u,c;if(this.resetAutoSuggest(),o=$.parseJSON(t.responseText)||!1){if(i=o[0],a=o[1],r=o[1].length||0,e="",s=r<this.maxAutoSuggestions?r:this.maxAutoSuggestions,s>0)for(this.re=new RegExp("("+i+")","i"),c=a.slice(0,s),l=0,u=c.length;u>l;l++)n=c[l],e+=this.formatSuggestedLink(n);e&&(this.$autoSuggestList.append(e),this.$searchinputcontainer.addClass("autoSuggest"),this.$searchsubmit.addClass("autoSuggest"),this.$navsearch.css("height",this.$navsearch.prop("scrollHeight")+"px"))}},r.prototype.formatSuggestedLink=function(t){var e,n;return n=t.replace(this.re,"<strong>$1</strong>"),e='<li class="autoSuggest-item"><a class="autoSuggest-link" href="/search?query='+encodeURIComponent(t)+'&sort=rel">'+(""+n+"</a></li>")},r.prototype.getAutoSuggest=function(){var t,e;this.resetAutoSuggest(),t=this.$input.val(),e=t.length,e?this.$reset.removeClass("invisible"):this.$reset.addClass("invisible"),2>e||$.ajax({dataType:"json",url:this.searchServiceUrl,data:"query="+encodeURIComponent(t),complete:this.buildAutoSuggestResults,context:this})},r}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("components/nav-share-fixed/frontend/nav-share-fixed.view",["views/base.view","utils/comments","utils/url","ext/tracking"],function(t,e,n){var r;return r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="fixed-share-nav",e.prototype.init=function(){var t,e;return this.$fixedShareNavComments=$(".fixed-share-nav-comments"),this.$fixedShareNavCommentsBorder=$(".fixed-share-nav-comments-border"),t=this.$el.find("[data-share=Facebook] a"),e=t.attr("href"),t.attr("href",e+location.href),$(this.$el).find("[data-share]").each(function(t){return function(e,r){var i,o,s;return s=$(r).data("share"),i=$(r).find("a"),o=["ShareModal","Comment"],__indexOf.call(o,s)<0&&i.attr("href",n.addQuery(i.attr("href"),"mwrsm",s)),$(r).on("tap.mobileweb",function(e){return t.openShare(e)})}}(this))},e.prototype.openShare=function(t){var e,n;return e=$(t.target),n=e.parents("[data-share]").data("share"),NYTD.Tracker.trackInteraction({module:"FixedNavShareTools",eventName:"Share-"+n})},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/header-login/frontend/header-login.view",["views/base.view","components/nav-search/frontend/nav-search.view"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="header-login",e.prototype.init=function(){return this.globalEvents.once("fetch:user-details",function(){return function(t,e){return e?$("#lnkSubscribe").attr("href","http://www.nytimes.com/mowweb/hp"):void 0}}(this))},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/single-image/frontend/photo.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.init=function(t){return this.index=t.index,this.isLoaded=t.isLoaded,this.src=this.data.src,this.$img=this.$("img"),this.isLoaded?void 0:this.hide()},e.prototype.show=function(){return this.$el.show(),this},e.prototype.hide=function(){return this.$el.hide(),this},e.prototype.loadSrc=function(t){return this.isLoaded||(this.$el.addClass("loading-img"),this.$img.addClass("hidden"),this.$img.one("load",function(e){return function(){return e.$el.removeClass("loading-img"),e.$img.removeClass("hidden"),e.isLoaded=!0,t?t():void 0}}(this)),this.$img.attr("src",this.src)),this},e}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/slideshow/frontend/slideshow.view",["views/base.view","components/single-image/frontend/photo.view","jquery","utils/ua-detect"],function(t,e,n,r){var i;return i=function(t){function i(){return this.Carousel=__bind(this.Carousel,this),i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.id="slideshow",i.prototype.init=function(){var t;return t=new this.Carousel("#carousel"),t.init(),this.carouselType=this.$el.data("slideshow-type"),this.globalEvents.on("tap:slideshow-next",function(e){return function(n){return"full"===e.carouselType&&(e.globalEvents.trigger("tap:slideshow-controls-next"),n!==e)?t.showNext():void 0}}(this)),this.globalEvents.on("tap:slideshow-prev",function(e){return function(n){return"full"===e.carouselType&&(e.globalEvents.trigger("tap:slideshow-controls-prev"),n!==e)?t.showPrev():void 0}}(this))},i.prototype.Carousel=function(t){var i,o,s,a,l,u,c,d,h,p,f,m,g,v,y,_,b,w,T,x,k,S,C,E,$,D;return b=this,o=n(t),D=[],this.$el.children().each(function(){return function(t,r){return D.push(new e({el:n(r),index:t,isLoaded:0===t?!0:void 0}))}}(this)),x=D.length-1,l=0,_=0,i=n(">ul",o),s=n(">ul>li",o),a=i.data("slideshow-type"),y=i.data("article-url"),m=0,f=s.length,v="",w=function(t,e){var n;return i.removeClass("animate"),e&&i.addClass("animate"),Modernizr.csstransforms3d?i.css("transform","translate3d("+t+"%,0,0) scale3d(1,1,1)"):Modernizr.csstransforms?i.css("transform","translate("+t+"%,0)"):(n=m*f/100*t,i.css("left",""+n+"px"))},T=function(t,e){var r;return r=-(100/f*t),w(r,e),"sf"===a?(n(".carousel-dot").removeClass("active"),n(".carousel-dot:nth-child("+parseInt(t+1,10)+")").addClass("active")):void 0},k=function(){var t;return t=x>=l+1?l+1:0},S=function(){var t;return t=l-1>=0?l-1:x},c=function(){return D[k()]},h=function(){return D[S()]},d=function(t){return D[t]},u=function(){return D[l]},E=function(){return c().show().loadSrc(),l=k(),0===l?(T(l),C()):T(l,!0),c().show().loadSrc()},$=function(){var t,e,n;if(e=S(),e>l)for(t=n=l;e>=l?e>=n:n>=e;t=e>=l?++n:--n)d(t).show();return h().loadSrc(),l=e,l===x?(T(l),C()):T(l,!0),h().loadSrc()},g=function(){return c().loadSrc(),h().loadSrc(),c().show().loadSrc()},C=function(){var t;return t=20,m=o.width(),s.each(function(){return function(t){return n(s[t]).width(m)}}(this)),i.width(m*f+t*f)},p=function(t){return"swipeable-slide"===t.className||n(t).parents(".swipeable-slide").length?!0:!1},{init:function(){var t,e,r,i;for(this.setPaneDimensions(),n(window).on("load resize orientationchange",function(t){return function(){return t.setPaneDimensions()}}(this)),o.hammer({drag_lock_to_axis:!0}).on("release dragleft dragright swipeleft swiperight tap",this.handleHammer),r=/[#](\d+)/,(e=r.exec(window.location.hash))&&(e=Number(e[1])-1,!isNaN(e)&&e>=0&&x>=e&&(l=e,_=e)),t=i=0;_>=0?_>=i:i>=_;t=_>=0?++i:--i)d(t).show();return 0!==l?(T(l,!0),u().loadSrc().show()):"sf"===a&&n(".carousel-dot:first-child").addClass("active"),g()},setPaneDimensions:function(){return C()},showPrev:function(){return $()},showNext:function(){return E()},handleHammer:function(t){return function(e){var i,o,s,u;if(s=null!=e?e.gesture:void 0,r.isAndroid){if(Hammer.utils.isVertical(null!=s?s.direction:void 0))return;null!=s&&s.preventDefault()}switch(e.type){case"dragleft":case"dragright":if(t.timer&&window.clearTimeout(t.timer),p(e.target))return u=-(100/f)*l,o=100/m*s.deltaX/f,w(o+u),v="drag";break;case"swipeleft":if(t.timer&&window.clearTimeout(t.timer),null!=s&&s.stopDetect(),Math.abs(null!=s?s.deltaX:void 0)>m/5&&p(e.target))return E()&&t.globalEvents.trigger("tap:slideshow-next",t),v="swipeleft";break;case"swiperight":if(t.timer&&window.clearTimeout(t.timer),null!=s&&s.stopDetect(),Math.abs(null!=s?s.deltaX:void 0)>m/5&&p(e.target))return $()&&t.globalEvents.trigger("tap:slideshow-prev",t),v="swiperight";break;case"tap":return v="tap";case"release":return Math.abs(s.deltaX)>m/5?(t.timer&&window.clearTimeout(t.timer),"right"===s.direction?(null!=s&&s.stopDetect(),p(e.target)&&($(),t.globalEvents.trigger("tap:slideshow-prev",t))):(null!=s&&s.stopDetect(),p(e.target)&&(E(),t.globalEvents.trigger("tap:slideshow-next",t)))):"tap"===v?p(e.target)&&("full"===a?(E(),t.globalEvents.trigger("tap:slideshow-next",t)):"sf"===a&&"IMG"===e.target.tagName&&(i=n(e.target),i.parent().addClass("darkTouchstate"),t.timer=window.setTimeout(function(){return i.parent().removeClass("darkTouchstate"),window.location=y},1e3))):T(l,!0),v="release"}}}(this)}},i}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/slideshow-controls/frontend/slideshow-controls.view",["views/base.view"],function(t){var e,n;return n=50,e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="slideshow-controls",e.prototype.events={"click [data-view=slideshow-next]":function(){this.globalEvents.trigger("tap:slideshow-next")},"click [data-view=slideshow-prev]":function(){this.globalEvents.trigger("tap:slideshow-prev")}},e.prototype.init=function(){var t,e;return this.cur=1,this.total=this.data.total,e=/[#](\d+)/,(t=e.exec(window.location.hash))&&(t=Number(t[1]),!isNaN(t)&&t>=1&&t<=this.total&&(this.cur=t)),this.$curEl=this.$("[data-view=slideshow-cur]"),this.setCount(),this.$el.removeClass("invisible"),this.globalEvents.on("tap:slideshow-controls-next",function(t){return function(){return t.inc()
}}(this)),this.globalEvents.on("tap:slideshow-controls-prev",function(t){return function(){return t.dec()}}(this))},e.prototype.inc=function(){return this.cur=this.cur+1<=this.total?this.cur+1:1,this.setCount()},e.prototype.dec=function(){return this.cur=this.cur-1>=1?this.cur-1:this.total,this.setCount()},e.prototype.setCount=function(){return this.timer=window.setTimeout(function(t){return function(){return t.$curEl.text(t.cur)}}(this),10)},e}(t)}),define("utils/truncate",[],function(){return function(t,e,n){return null==n&&(n="..."),t?null==e?t:t.length<=e+n.length?t:t.slice(0,e-n.length)+n:t}});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/subscribe-status-bar/frontend/subscribe-status-bar.view",["views/base.view","utils/truncate"],function(t){var e,n;return n=function(){},e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="substatusbar",e.prototype.init=function(){return this.globalEvents.once("fetch:user-details",function(t){return function(e,n,r){var i,o,s,a;return"0"!==(null!=r?r.id:void 0)?(a=document.createDocumentFragment(),s=$("[data-view=user-account]"),s.each(function(t,e){var r;return r=$(e),n?(r.removeClass("hidden"),r.find("[data-view=user-name]").html(n)):void 0}),i=t._makeLink("Log out","/logout?url="+window.location.href).addClass("logout"),a.appendChild(i[0]),e||(o=t._makeLink("Subscribe","http://www.nytimes.com/mowweb/ftlog").addClass("normal subscribe"),a.appendChild(o[0])),t.$el.html(a)):void 0}}(this))},e.prototype._makeLink=function(t,e){var n,r;return r=$("<li></li>"),n=$("<a>",{"class":"link padding-tblr"}).attr("href",e).html(t),r.html(n),r},e}(t)}),define("text!components/modals/frontend/modal-sharetools-fb.dust",[],function(){return'(function(){dust.register("lib/components/modals/frontend/modal-sharetools-fb",body_0);function body_0(chk,ctx){return chk.write("<a href=\\"https://www.facebook.com/dialog/feed?app_id=9869919170&link=").reference(ctx.get(["desktop_url"], false),ctx,"h").write("&name=").reference(ctx.get(["share_title"], false),ctx,"h").write("&redirect_uri=").reference(ctx.get(["href"], false),ctx,"h").write("\\" target=\\"_blank\\"><i class=\\"icon icon-share-fb\\"></i><span>Facebook</span></a>");}return body_0;})();'});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/modals/frontend/modal-sharetools.view",["views/base.view","views/template.view","text!components/modals/frontend/modal-sharetools-fb.dust","utils/url","ext/tracking"],function(t,e,n,r){var i;return i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}var o;return __extends(i,t),i.id="sharetools",i.prototype.init=function(){var t;return this.$el.on("show",function(){return $("body").addClass("overlayOpen")}),this.$el.on("hide",function(){return $("body").removeClass("overlayOpen")}),t=new o({el:this.$("[data-view="+o.id+"]")}),$(this.$el).find("[data-share]").each(function(){return function(t,e){var n,i;return i=$(e).data("share"),n=$(e).find("a"),n.attr("href",r.addQuery(n.attr("href"),"mwrsm",i))}}(this))},i.prototype.events={"click [data-share] a":function(t){var e,n;return n=t.currentTarget,e=n.parentElement.getAttribute("data-share"),NYTD.Tracker.trackInteraction({module:"ModalShareTools",eventName:"Share-"+e})}},o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="fb-link",e.prototype.tagName="li",e.prototype.template=n,e.prototype.templateName="lib/components/modals/frontend/modal-sharetools-fb",e.prototype.init=function(){return this.data.href=location.href,this.render(this.data)},e}(e),i}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}};define("utils/imageviewer",[],function(){var t;return t=function(){function t(t){this.opts=null!=t?t:{},this.calculateDimensions=__bind(this.calculateDimensions,this),this.$window=$(window),this.$el=this.opts.el,this.$img=this.$el.find("img").hammer({preventDefault:!0,gesture:!0,swipe:!1}),this.calculateDimensions(),this.bindEvents()}return t.prototype._maxScale=4,t.prototype._pos={x:0,y:0},t.prototype._scale=1,t.prototype._touches={},t.prototype._scaleStart=1,t.prototype._max={x:0,y:0},t.prototype.calculateDimensions=function(){return this.containerW=this.$el.width(),this.containerH=this.$el.height(),this.imgW=this.$img.width(),this.imgH=this.$img.height(),this.scale(this.scale())},t.prototype.applyMatrix=function(){var t;return t=["scale3d("+this.scale()+","+this.scale()+","+this.scale()+")","translate3d("+this.x()+"px, "+this.y()+"px, 0)"],this.$img.css({transform:t.join(" ")})},t.prototype.constrain=function(t,e,n){return t=Math.max(t,e),t=Math.min(t,n)},t.prototype._position=function(t,e){return null!=e&&(this._pos[t]=this.constrain(e,-this._max[t],this._max[t])),this._pos[t]},t.prototype.x=function(t){return this._position("x",t)},t.prototype.y=function(t){return this._position("y",t)},t.prototype.scale=function(t){return null!=t&&(t=this.constrain(t,1,this._maxScale),this._max.x=Math.max((this.imgW-this.containerW/t)/2,0),this._max.y=Math.max((this.imgH-this.containerH/t)/2,0),this.x(this.x()),this.y(this.y()),this._scale=t),this._scale},t.prototype.reset=function(){return this.scale(1),this.x(0),this.y(0)},t.prototype.registerTouches=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(this._touches[e.identifier]={x:e.clientX,y:e.clientY});return i},t.prototype.bindEvents=function(){return this.$img.on("doubletap",function(t){return function(){return t.reset(),t.applyMatrix()}}(this)),this.$img.on("dragstart transformstart release",function(t){return function(e){return t.registerTouches(e.gesture.touches),t._scaleStart=t.scale()}}(this)),this.$img.on("pinch",function(t){return function(e){return t.scale(e.gesture.scale*t._scaleStart),t.applyMatrix()}}(this)),this.$img.on("dragend",function(t){return function(){return t._touches={}}}(this)),this.$img.on("drag",function(t){return function(e){var n,r,i,o;return e.gesture.preventDefault(),o=e.gesture.touches[0],i=t._touches[o.identifier],n=o.clientX-i.x,r=o.clientY-i.y,t.registerTouches(e.gesture.touches),t.x(t.x()+n/t.scale()),t.y(t.y()+r/t.scale()),t.applyMatrix()}}(this)),this.$img.on("swipe",function(){return function(t){t.preventDefault()}}(this)),this.$img.on("vclick",function(t){return function(e){return t.$img.trigger("click"),e.preventDefault()}}(this)),this.$window.on("orientationchange resize",this.calculateDimensions)},t}()});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/modals/frontend/modal-lightbox.view",["views/base.view","views/template.view","utils/imageviewer"],function(t,e,n){var r;return r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="modal-lightbox",e.prototype.init=function(){return this.$modalBody=$(".modal-body"),this.$lighboxBackdrop=$(".lightbox-backdrop"),this.scrollPosition=0,this.$body=$("body"),this.$closebtn=this.$el.find(".modal-close"),$(window).on("popstate",function(t){return function(){var e,n;return(null!=(e=window.history)&&null!=(n=e.state)?n.premodal:void 0)?t.$closebtn.trigger("click"):void 0}}(this)),this.$el.on("show",function(t){return function(){var e,r,i;return window.history.replaceState({premodal:!0},""),window.history.pushState({modal:!0},""),t.scrollPosition=t.$body.scrollTop(),t.$body.css("position","fixed").addClass("overlayOpen dark"),i=t.$el.find(".modal-header"),r=t.$el.find(".modal-footer"),e=t.$el.find(".modal-body"),e.find(".center-container").html('<div class="loading-img"></div><img src="'+t.$el.attr("data-image-url")+'" class="lightbox-image hidden"/>'),t.$lightboxImg=t.$el.find(".lightbox-image"),t.$lightboxImg.load(function(){var r;return t.$el.find(".loading-img").remove(),t.$lightboxImg.removeClass("hidden"),r=new n({el:e})}),"none"===i.css("display")&&i.fadeToggle("fast"),"none"===r.css("display")&&r.fadeToggle("fast"),setTimeout(function(){return $(".modal-backdrop").addClass("lightbox-backdrop").css("width",parseInt($(window).width(),10)+"px")},200)}}(this)),this.$el.on("hide",function(t){return function(){return t.$lighboxBackdrop.removeClass("lightbox-backdrop"),t.$body.hasClass("night")||t.$body.css("position","relative").removeClass("dark"),t.$body.css("position","relative").removeClass("overlayOpen"),t.$el.find("#modal-lightbox .center-container").html(""),t.$el.find(".modal-footer").html(""),setTimeout(function(){return t.$body.scrollTop(t.scrollPosition)},100)}}(this)),this.$el.find(".center-container").on("vclick",function(t){return function(){return t.$el.find(".modal-header").fadeToggle("fast"),t.$el.find(".modal-footer").fadeToggle("fast")}}(this))},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/image-related-article/frontend/image-related-article.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="related",e.prototype.init=function(){return null!=location.search?this.$el.find("a").attr("href",this.$el.find("a").attr("href")+location.search):void 0},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/symbol-details/frontend/symbol-details.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="chart-view",e.prototype.init=function(){},e.prototype.events={click:function(t){var e,n,r,i,o;return r=$(t.target).parent().parent(),n=r.parent(),e=n.find("img"),i=e.attr("src").split("&d=")[0],o=$(t.target).attr("data-chart"),e.attr("src",i+"&d="+o),r.children().each(function(){return function(t,e){return $(e).find("a").removeClass("highlight")}}(this)),$(t.target).addClass("highlight"),t.preventDefault()}},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/market-search/frontend/market-search.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="market-search",e.prototype.defaultText="Get Quotes - Up to 5",e.prototype.events={"submit [data-view=market-search-form]":function(){},"click [data-view=market-search-reset]":function(){return this.$input.val(""),this.$reset.addClass("invisible"),this.$("[data-view=market-search-input]").focus()},"keyup [data-view=market-search-input]":function(){return this.$input.val.length>0?(this.$reset.removeClass("invisible"),this.$input.val(this.$input.val().toUpperCase())):this.$reset.addClass("invisible")},"click [data-button=market-search]":function(){var t,e,n;return t=$("#t-mkt-search")[0],n=t.value,""===n||this.$input.val()===this.defaultText?event.preventDefault():(e=/\s/g,t.value=null!=n?n.replace(e,""):void 0)}},e.prototype.init=function(){return this.$input=this.$("[data-view=market-search-input]"),this.$reset=this.$("[data-view=market-search-reset]")},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/video-headline-list/frontend/video-headline-list.view",["views/base.view","vhs"],function(t,e){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.id="video-headlines",n.prototype.init=function(){var t;return t=$(".library-video-container"),t.each(function(t,n){var r,i,o,s,a;return o=$(n),s=o.data("setup"),r=o.parents(".video-section-videoholder:first"),i=r.find(".icon-video"),o.on("tap.mobileweb",function(){return a()}),i.on("tap.mobileweb",function(){return a()}),a=function(){var t;return t=e.player(s),i.addClass("hidden"),t.controls.find(".nytd-player-controls-current-time").hide(),t.controls.find(".nytd-player-controls-progress").hide(),t.controls.find(".nytd-player-controls-duration").hide(),t.play(),i.off("tap.mobileweb"),o.off("tap.mobileweb")}}),window.BBDevice.version>5&&window.BBDevice.version<10?$(".media-item").each(function(){return function(t,e){var n,r;return n=$(e),r=n.find("video source").attr("src"),n.find(".icon-video").wrap('<a href="'+r+'"></a>'),n.find(".img-link").attr("href",r),$("#video-"+t).remove()}}(this)):void 0},n}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/footer/footer-tier2plus-section-list/frontend/footer-tier2plus-section-list.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return this.open=__bind(this.open,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="sections-nav-tier2plus",e.prototype.events={"tap [data-button=expand]":function(t){return t.preventDefault(),this.toggle()}},e.prototype.init=function(){var t;return this.$links=this.$(".navLinks"),t=$(".sections-nav-tier2plus"),this.$title=this.$(".expandable-title"),this.$body=$("body"),this.$btn=$(".more-sections"),this.originalHeight=t.prop("scrollHeight"),this.$links.parent().css("height",this.originalHeight+"px")},e.prototype.open=function(){var t;return this.$el.attr("aria-hidden","false"),this.$links.parent().addClass("opened").css("height","0px"),this.$btn.addClass("opened"),t=this.$links.prop("scrollHeight"),this.$links.parent().css("height",t),this.isOpen=!0,NYTD.Tracker.trackInteraction({module:"Navigation",action:"Click",eventName:"OpenMoreSections",region:"Footer"}),this},e.prototype.close=function(){return this.isOpen&&(this.$links.removeClass("opened").parent().css("height",this.originalHeight+"px"),this.$btn.removeClass("opened"),this.isOpen=!1,NYTD.Tracker.trackInteraction({module:"Navigation",action:"Click",eventName:"CloseMoreSections",region:"Footer"})),this},e.prototype.toggle=function(){return this.isOpen?this.close():this.open()},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/settings/frontend/settings.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="settings",e.prototype.init=function(){var t;return this.isNightMode=this.$body.hasClass("night"),this.isNightMode?this.$el.find("[data-button=settings-night]").addClass("hidden"):this.$el.find("[data-button=settings-day]").addClass("hidden"),t=this.$el.parents(".footer-settings").length>0,this.$("[data-button=settings-night]").on("click",function(){return NYTD.Tracker.trackInteraction({module:"Settings",action:"Click",eventName:"SwitchNightMode.On",region:t?"Footer":"Header"})}),this.$("[data-button=settings-day]").on("click",function(){return NYTD.Tracker.trackInteraction({module:"Settings",action:"Click",eventName:"SwitchNightMode.Off",region:t?"Footer":"Header"})}),this.$(".font-size.small a").on("click",function(){return NYTD.Tracker.trackInteraction({module:"Settings",action:"Click",eventName:"FontSize-Small",region:t?"Footer":"Header"})}),this.$(".font-size.medium a").on("click",function(){return NYTD.Tracker.trackInteraction({module:"Settings",action:"Click",eventName:"FontSize-Medium",region:t?"Footer":"Header"})}),this.$(".font-size.large a").on("click",function(){return NYTD.Tracker.trackInteraction({module:"Settings",action:"Click",eventName:"FontSize-Large",region:t?"Footer":"Header"})})},e}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/footer/footer-settings/frontend/footer-settings.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return this.closeOptions=__bind(this.closeOptions,this),this.openOptions=__bind(this.openOptions,this),this.open=__bind(this.open,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="footer-settings",e.prototype.events={"tap [data-button=expand]":function(t){return t.preventDefault(),this.toggle()}},e.prototype.init=function(){return this.$expandableContent=this.$(".expandable-content"),this.$container=$(".footer-settings"),this.$title=this.$(".expandable-title"),this.$body=$("body"),this.originalHeight=this.$container.prop("scrollHeight"),this.$expandableContent.parent().css("height",this.originalHeight+"px")},e.prototype.open=function(){var t;return this.$el.attr("aria-hidden","false"),this.$expandableContent.parent().addClass("opened").css("height","0px"),t=this.$expandableContent.prop("scrollHeight")+this.originalHeight,this.$expandableContent.parent().css("height",t),this.isOpen=!0,NYTD.Tracker.trackInteraction({module:"Settings",action:"Click",eventName:"OpenSettings",region:"Footer"}),this},e.prototype.close=function(){return this.isOpen&&(this.$expandableContent.parent().removeClass("opened").css("height",this.originalHeight+"px"),this.isOpen=!1),NYTD.Tracker.trackInteraction({module:"Settings",action:"Click",eventName:"CloseSettings",region:"Footer"}),this},e.prototype.toggle=function(){return this.isOpen?this.close():this.open()},e.prototype.openOptions=function(){var t;return this.isOptionsOpen=!0,this.$el.removeClass("hidden"),t=this.$el.prop("scrollHeight"),this.$el.css("height",0),this.$el.animate({height:t},"fast")},e.prototype.closeOptions=function(){return this.isOptionsOpen=!1,this.$el.animate({height:"0"},"fast",function(t){return function(){return t.$el.addClass("hidden")}}(this))},e.prototype.toggleOptions=function(){return this.isOptionsOpen?this.closeOptions():this.openOptions()},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/article-related-articles/frontend/article-related-articles.view",["views/base.view","utils/url"],function(t,e){var n;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.id="related-articles",n.prototype.events={"tap [data-link]":function(t){var n;return t.preventDefault(),n=this.$el.find("a").attr("href"),document.location=e.addQuery(n,"WT.z_mob_rel","1")}},n}(t)}),function(){var t=this,e=t._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,s=r.push,a=r.slice,l=r.concat,u=i.toString,c=i.hasOwnProperty,d=r.forEach,h=r.map,p=r.reduce,f=r.reduceRight,m=r.filter,g=r.every,v=r.some,y=r.indexOf,_=r.lastIndexOf,b=Array.isArray,w=Object.keys,T=o.bind,x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):t._=x,x.VERSION="1.6.0";var k=x.each=x.forEach=function(t,e,r){if(null==t)return t;if(d&&t.forEach===d)t.forEach(e,r);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(e.call(r,t[i],i,t)===n)return}else for(var s=x.keys(t),i=0,o=s.length;o>i;i++)if(e.call(r,t[s[i]],s[i],t)===n)return;return t};x.map=x.collect=function(t,e,n){var r=[];return null==t?r:h&&t.map===h?t.map(e,n):(k(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r)};var S="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return r&&(e=x.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(k(t,function(t,o,s){i?n=e.call(r,n,t,o,s):(n=t,i=!0)}),!i)throw new TypeError(S);return n},x.reduceRight=x.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return r&&(e=x.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=x.keys(t);o=s.length}if(k(t,function(a,l,u){l=s?s[--o]:--o,i?n=e.call(r,n,t[l],l,u):(n=t[l],i=!0)}),!i)throw new TypeError(S);return n},x.find=x.detect=function(t,e,n){var r;return C(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},x.filter=x.select=function(t,e,n){var r=[];return null==t?r:m&&t.filter===m?t.filter(e,n):(k(t,function(t,i,o){e.call(n,t,i,o)&&r.push(t)}),r)},x.reject=function(t,e,n){return x.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},x.every=x.all=function(t,e,r){e||(e=x.identity);var i=!0;return null==t?i:g&&t.every===g?t.every(e,r):(k(t,function(t,o,s){return(i=i&&e.call(r,t,o,s))?void 0:n}),!!i)};var C=x.some=x.any=function(t,e,r){e||(e=x.identity);var i=!1;return null==t?i:v&&t.some===v?t.some(e,r):(k(t,function(t,o,s){return i||(i=e.call(r,t,o,s))?n:void 0}),!!i)};x.contains=x.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):C(t,function(t){return t===e})},x.invoke=function(t,e){var n=a.call(arguments,2),r=x.isFunction(e);return x.map(t,function(t){return(r?e:t[e]).apply(t,n)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matches(e))},x.findWhere=function(t,e){return x.find(t,x.matches(e))},x.max=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-1/0,i=-1/0;return k(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;a>i&&(r=t,i=a)}),r},x.min=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return k(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;i>a&&(r=t,i=a)}),r},x.shuffle=function(t){var e,n=0,r=[];return k(t,function(t){e=x.random(n++),r[n-1]=r[e],r[e]=t}),r},x.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return null==t?x.identity:x.isFunction(t)?t:x.property(t)};x.sortBy=function(t,e,n){return e=E(e),x.pluck(x.map(t,function(t,r,i){return{value:t,index:r,criteria:e.call(n,t,r,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var $=function(t){return function(e,n,r){var i={};return n=E(n),k(e,function(o,s){var a=n.call(r,o,s,e);t(i,a,o)}),i}};x.groupBy=$(function(t,e,n){x.has(t,e)?t[e].push(n):t[e]=[n]}),x.indexBy=$(function(t,e,n){t[e]=n}),x.countBy=$(function(t,e){x.has(t,e)?t[e]++:t[e]=1}),x.sortedIndex=function(t,e,n,r){n=E(n);for(var i=n.call(r,e),o=0,s=t.length;s>o;){var a=o+s>>>1;n.call(r,t[a])<i?o=a+1:s=a}return o},x.toArray=function(t){return t?x.isArray(t)?a.call(t):t.length===+t.length?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:t.length===+t.length?t.length:x.keys(t).length},x.first=x.head=x.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:a.call(t,0,e)},x.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},x.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},x.rest=x.tail=x.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var D=function(t,e,n){return e&&x.every(t,x.isArray)?l.apply(n,t):(k(t,function(t){x.isArray(t)||x.isArguments(t)?e?s.apply(n,t):D(t,e,n):n.push(t)}),n)};x.flatten=function(t,e){return D(t,e,[])},x.without=function(t){return x.difference(t,a.call(arguments,1))},x.partition=function(t,e){var n=[],r=[];return k(t,function(t){(e(t)?n:r).push(t)}),[n,r]},x.uniq=x.unique=function(t,e,n,r){x.isFunction(e)&&(r=n,n=e,e=!1);var i=n?x.map(t,n,r):t,o=[],s=[];return k(i,function(n,r){(e?r&&s[s.length-1]===n:x.contains(s,n))||(s.push(n),o.push(t[r]))}),o},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(t){var e=a.call(arguments,1);return x.filter(x.uniq(t),function(t){return x.every(e,function(e){return x.contains(e,t)})})},x.difference=function(t){var e=l.apply(r,a.call(arguments,1));return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){for(var t=x.max(x.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=x.pluck(arguments,""+n);return e},x.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},x.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},x.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(_&&t.lastIndexOf===_)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},x.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o};var P=function(){};x.bind=function(t,e){var n,r;if(T&&t.bind===T)return T.apply(t,a.call(arguments,1));if(!x.isFunction(t))throw new TypeError;return n=a.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(a.call(arguments)));P.prototype=t.prototype;var i=new P;P.prototype=null;var o=t.apply(i,n.concat(a.call(arguments)));return Object(o)===o?o:i}},x.partial=function(t){var e=a.call(arguments,1);return function(){for(var n=0,r=e.slice(),i=0,o=r.length;o>i;i++)r[i]===x&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},x.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return k(e,function(e){t[e]=x.bind(t[e],t)}),t},x.memoize=function(t,e){var n={};return e||(e=x.identity),function(){var r=e.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},x.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=function(t){return x.delay.apply(x,[t,1].concat(a.call(arguments,1)))},x.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:x.now(),s=null,o=t.apply(r,i),r=i=null};return function(){var u=x.now();a||n.leading!==!1||(a=u);var c=e-(u-a);return r=this,i=arguments,0>=c?(clearTimeout(s),s=null,a=u,o=t.apply(r,i),r=i=null):s||n.trailing===!1||(s=setTimeout(l,c)),o}},x.debounce=function(t,e,n){var r,i,o,s,a,l=function(){var u=x.now()-s;e>u?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,s=x.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(o,i),o=i=null),a}},x.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},x.wrap=function(t,e){return x.partial(e,t)},x.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},x.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},x.keys=function(t){if(!x.isObject(t))return[];if(w)return w(t);var e=[];for(var n in t)x.has(t,n)&&e.push(n);return e},x.values=function(t){for(var e=x.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},x.pairs=function(t){for(var e=x.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},x.invert=function(t){for(var e={},n=x.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=function(t){return k(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},x.pick=function(t){var e={},n=l.apply(r,a.call(arguments,1));return k(n,function(n){n in t&&(e[n]=t[n])}),e},x.omit=function(t){var e={},n=l.apply(r,a.call(arguments,1));for(var i in t)x.contains(n,i)||(e[i]=t[i]);return e},x.defaults=function(t){return k(a.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t};var N=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var i=u.call(t);if(i!=u.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),r.push(e);var l=0,c=!0;if("[object Array]"==i){if(l=t.length,c=l==e.length)for(;l--&&(c=N(t[l],e[l],n,r)););}else{for(var d in t)if(x.has(t,d)&&(l++,!(c=x.has(e,d)&&N(t[d],e[d],n,r))))break;if(c){for(d in e)if(x.has(e,d)&&!l--)break;c=!l}}return n.pop(),r.pop(),c};x.isEqual=function(t,e){return N(t,e,[],[])},x.isEmpty=function(t){if(null==t)return!0;if(x.isArray(t)||x.isString(t))return 0===t.length;for(var e in t)if(x.has(t,e))return!1;return!0},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=b||function(t){return"[object Array]"==u.call(t)},x.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],function(t){x["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return!(!t||!x.has(t,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(t){return"function"==typeof t}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!=+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return c.call(t,e)},x.noConflict=function(){return t._=e,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.property=function(t){return function(e){return e[t]}},x.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},x.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=e.call(n,i);return r},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};A.unescape=x.invert(A.escape);var M={escape:new RegExp("["+x.keys(A.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(A.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(t){x[t]=function(e){return null==e?"":(""+e).replace(M[t],function(e){return A[t][e]
})}}),x.result=function(t,e){if(null==t)return void 0;var n=t[e];return x.isFunction(n)?n.call(t):n},x.mixin=function(t){k(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),j.call(this,n.apply(x,t))}})};var O=0;x.uniqueId=function(t){var e=++O+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(t,e,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,function(e,n,r,i,a){return s+=t.slice(o,a).replace(R,function(t){return"\\"+I[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return r(e,x);var l=function(t){return r.call(this,t,x)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},x.chain=function(t){return x(t).chain()};var j=function(t){return this._chain?x(t).chain():t};x.mixin(x),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],j.call(this,n)}}),k(["concat","join","slice"],function(t){var e=r[t];x.prototype[t]=function(){return j.call(this,e.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}.call(this);var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/additional-content/frontend/additional-content.view",["views/base.view","utils/url","utils/ua-detect","jquery","underscore"],function(t,e,n,r,i){var o;return o=function(t){function o(){return this.reshowContent=__bind(this.reshowContent,this),this.onLinkTapped=__bind(this.onLinkTapped,this),this.fillInPlaceholders=__bind(this.fillInPlaceholders,this),this.sortArticles=__bind(this.sortArticles,this),this.hideContentShowPromo=__bind(this.hideContentShowPromo,this),this.resizeElements=__bind(this.resizeElements,this),this.setPositions=__bind(this.setPositions,this),this.eligibilityCheck=__bind(this.eligibilityCheck,this),this.shortenArticle=__bind(this.shortenArticle,this),o.__super__.constructor.apply(this,arguments)}var s;return __extends(o,t),o.id="additional-content",o.prototype.paragraphsToShow=3,o.prototype.shortArticleThreshold=2*r(window).height(),o.prototype.truncationThreshold=r(window).height(),o.prototype.expandBoxHeight=118,o.prototype.randomWindowTimeout=5,o.prototype.areImagesLoaded=!1,o.prototype.canonicalUrl=null!=(s=r("meta[name=canonicalURL]"))?s.attr("content"):void 0,o.prototype.placeholderVisible=!0,o.prototype.init=function(){return this.$ul=this.$("ul"),this.promoSectionId=r("body").attr("data-full-section"),"blogs"===this.promoSectionId&&(this.promoSectionId=r("body").attr("data-section")),this.globalEvents.once("fetch:user-details fetch:user-details-nologin",this.eligibilityCheck)},o.prototype.shortenArticle=function(){var t;this.$article=r("article",this.$el.parent()),this.$paragraphs=this.$article.find("blog"===(null!=(t=r("meta[name=PT]"))?t.attr("content"):void 0)?"p":".p-block"),this.$lastPara=r(this.$paragraphs.length-1),this.$footer=r("footer",this.$article),this.$expandBox=this.$("#expand-box"),this.$button=r("button",this.$expandBox),this.$button.on("tap",this.reshowContent),this.$articleBox=this.$("#article-box"),this.articleBodyHeight=r(".article-body").height(),this.isShortArticle=this.articleBodyHeight<this.shortArticleThreshold,this.$articleBox.on("click","a.article",this.onLinkTapped),this.setPositions(),this.hideContentShowPromo(),this.$promoArticleLinks=this.$ul.find("a"),this.$promoArticleLinks.each(function(t){return r(this).attr("data-linkpos",""+(parseInt(t,10)+1))}),this.$el.attr("data-show-button-status","Clickwithout")},o.prototype.eligibilityCheck=function(t){if(/\bForceACM\b/i.test(location.hash))return this.shortenArticle();if(t===!0)return!1;if(n.isMobileWin)return!1;if(window.location.search.indexOf("from=promo")>-1)e.removeParams(["from=promo"]);else if(document.referrer.indexOf("nytimes.com")>-1)return!1;return this.shortenArticle()},o.prototype.setPositions=function(){var t,e,n,i,o,s;if(this.resizeElements(),this.isShortArticle)return void this.$expandBox.attr("data-track","short-article");for(i=s=1;s>=0&&(this.$lastPara=r(this.$paragraphs[this.paragraphsToShow-i]),e=parseFloat(this.$lastPara.css("line-height"),10)||22.5,n=Math.ceil(this.$lastPara.outerHeight()/e),!(n>3));i=--s);return t=this.$lastPara.offset().top+this.$lastPara.outerHeight(),this.articleBodyHeight-t<this.truncationThreshold?(this.isShortArticle=!0,void(this.$lastPara=r(this.$paragraphs.length-1))):(o=t-2.3*e,this.$expandBox.css("top",o),this.$articleBox.css("top",o+this.expandBoxHeight))},o.prototype.resizeElements=function(t){var e,n,i,o,s,a,l,u;if(null==t&&(t=0),!(t>=300)){if(!this.areImagesLoaded){if(0===r(".article-promo-image").length)return t++,void setTimeout(function(e){return function(){return e.resizeElements(t)}}(this),200);r(".article-promo-image").each(function(e){return function(n,i){0===r(i).height()&&(t++,setTimeout(function(){return e.resizeElements(t)},200))}}(this)),this.areImagesLoaded=!0}for(this.$promoArticles&&0!==this.$promoArticles.length||(this.$promoArticles=this.$ul.find("a div.article-promo-border"),this.$promoArticleLinks=this.$ul.find("a")),u=this.$promoArticles.length,s=0,a=window.matchMedia("(orientation:landscape)").matches;u>s;)o=!0,e=r(this.$promoArticles[s]),n=r(this.$promoArticles[s+1]),a&&(i=r(this.$promoArticles[s+2])),e.css("min-height",""),n.css("min-height",""),a&&i.css("min-height",""),l=Math.max(e.height(),n.height()),a&&(l=Math.max(l,i.height())),e.css("min-height",l),n.css("min-height",l),a&&i.css("min-height",l),s+=2,a&&(s+=1)}},o.prototype.hideContentShowPromo=function(){var t,e;return this.$el.css("display",""),t=r("footer",this.$article),this.$hiddenContent=this.$lastPara.next().nextAll(),this.$hiddenContent.add(this.$article.nextAll(),t),this.$hiddenContent.addClass("hidden"),this.$articleBox.append(r("div.footer")),r("div.morein").hide(),r(window).on("resize",this.setPositions),e=o.useMoreInSectionFeed(this.promoSectionId)?"/json/promo-articles/section/"+this.promoSectionId:"/json/promo-articles",r.getJSON(e,function(t){return function(e){t.fillInPlaceholders(e)}}(this)).fail(function(t){return function(){return t.reshowContent(null,{immediate:!0}),t.$articleBox.hide(),r("div.article-page").after(r("div.footer")),r("div.morein").show()}}(this))},o.prototype.sortArticles=function(t){var e,n,r;return e=0,r=0,n=i.map(t,function(t,n){var i;return i={index:n,top:t.hasImage&&3>r,visible:t.hasImage||2>e},i.top&&r++,t.hasImage||e++,i}),n.sort(function(t,e){var n;return n=e.visible-t.visible,0===n&&(n=e.top-t.top),0===n&&(n=t.index-e.index),n}),i.map(n,function(e){return t[e.index]})},o.prototype.fillInPlaceholders=function(t){var e,n,o;return this.$("#articlePromosTitle").html(t.articlePromosTitle).hide().fadeIn("fast"),r.cookies.get("mw-promo")?e=i.shuffle(t.articlePromos):(e=t.articlePromos,n=Date.now()+6e4*this.randomWindowTimeout,r.cookies.set("mw-promo",1,{expiresAt:new Date(n)})),e=i.filter(e,function(t){return function(e){return null!=e&&e.articleId!==t.canonicalUrl}}(this)),e=this.sortArticles(e),e=i.first(e,9),o=i.map(e,function(t){return"<li>"+t.html+"</li>"}),this.$ul[0].innerHTML=o.join(""),this.placeholderVisible=!1,this.$el.css("display",""),this.resizeElements},o.prototype.onLinkTapped=function(t){return t.currentTarget.search=(0===t.currentTarget.search.length?"?":"&")+"from=promo",!0},o.prototype.reshowContent=function(t,e){var n,i,o,s,a,l,u;s=(null!=e?e:{}).immediate,t&&t.preventDefault(),r(window).off("resize",this.setPositions),r(window).on("resize",this.resizeElements),this.$hiddenContent.removeClass("hidden"),this.$el.attr("data-show-button-status","Clickwith"),l=this.$article.offset().top+this.$article.height(),o=l-this.$articleBox.offset().top,n=r(window.parent).scrollTop()+r(window.parent).height(),a=n-this.$articleBox.offset().top,0>=a&&(a=1),s||this.$expandBox.css("opacity",0),r("body").css("padding-bottom",this.$articleBox.height),i=a/1e3,this.$articleBox.css({"-webkit-transition":"-webkit-transform "+i+"s ease-out",transition:"transform "+i+"s ease-out","-webkit-transform":"translate3d(0,"+a+"px,0)",transform:"translate3d(0,"+a+"px,0)"}),u=function(t){return function(){return t.$articleBox.css({"-webkit-transition":"",transition:"","-webkit-transform":"",transform:"",top:l}),t.$articleBox.css("top",""),r(window).trigger("article-expanded"),t.$expandBox.remove()}}(this),s?u():setTimeout(u,a)},o.useMoreInSectionFeed=function(t){var e,n;return e=null!=(n=t.split("."))?n[0]:void 0,"artsbeat"===e||"atwar"===e||"automobiles"===e||"bittman"===e||"books"===e||"cityroom"===e||"dotearth"===e||"fashion"===e||"greathomesanddestinations"===e||"health"===e||"lens"===e||"movies"===e||"newoldage"===e||"parenting"===e||"realestate"===e||"runway"===e||"sinosphere"===e||"sports"===e||"style"===e||"theater"===e||"tmagazine"===e||"well"===e||"your-money"===e},o}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("components/section-realestate-search/frontend/realestate-search-form.view",["views/base.view","utils/url","utils/keycodes"],function(t,e){var n;return n=function(t){function n(){return this.smartSearchResultsLoaded=__bind(this.smartSearchResultsLoaded,this),this.searchResultsLoaded=__bind(this.searchResultsLoaded,this),this.loadSmartSearch=__bind(this.loadSmartSearch,this),this.loadBasicSearch=__bind(this.loadBasicSearch,this),this.loadPreviousSearchResults=__bind(this.loadPreviousSearchResults,this),n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.id="real-estate-search-form",n.prototype.events={"click #for-rent":function(t){$(t.target).hasClass("selected")||(this.exposeSearch(),this.$for_sale.removeClass("selected"),this.$for_rent.addClass("selected"),this.$real_estate_search_filters.toggle(),this.$search_input.focus())},"click #for-sale":function(t){$(t.target).hasClass("selected")||(this.exposeSearch(),this.$for_rent.removeClass("selected"),this.$for_sale.addClass("selected"),this.$real_estate_search_filters.toggle(),this.$search_input.focus())},"click #search-input":function(){this.exposeSearch()},"focus #search-input":function(){this.exposeSearch()},"input #search-input":function(t){""===t.target.value?this.clearSearchBox():this.$suggest_close.removeClass("invisible"),this.exposeSearch(),clearTimeout(this.currentKeystroke),this.currentKeystroke=setTimeout(function(e){return function(){e.fetchSearchResults(t.target.value)}}(this),100)},"click .real-estate-search-results li":function(t){return $(t.target).find("a").click()},"click .real-estate-search-results a":function(t){var e;return e=$(t.target),this.$search_input.val(e.text()),this.$suggest_close.removeClass("invisible"),this.$search_input.data("href",e.data("href")),this.populatePushState(e.text(),e.data("href")),this.hideSearchResults()},"click .submit-container button":function(t){var e,n,r;t.preventDefault(),e=this.getFilterType(),""===this.getLocationSearch()&&(n=this.$search_results_container.find("a"),n.size()?n.first().click():this.$search_input.data("href","new-york-ny-usa")),r={channel:this.getChannelType(),location:this.getLocationSearch(),priceMin:e.find("[name=priceMin]").val(),priceMax:e.find("[name=priceMax]").val(),bedrooms:e.find("[name=bedrooms]").val()},window.location.href=this.real_estate_url+"/search?search=See+Available+Homes&"+$.param(r)+"&"+this.showOptions()},"click #suggest-close":function(){return this.clearSearchBox()}},n.prototype.init=function(){this.$for_sale=$("#for-sale"),this.$for_rent=$("#for-rent"),this.$real_estate_search_filters=$(".real-estate-search-filters"),this.$search_input=$("#search-input"),this.$search_results_container=$("#search-results-container"),this.$real_estate_for_sale_filters=$("#real-estate-for-sale-filters"),this.$real_estate_for_rent_filters=$("#real-estate-for-rent-filters"),this.real_estate_url=$(".submit-container button").data("href"),this.$document=$(document),this.$suggest_close=$("#suggest-close"),this.currentKeystroke=null,this.empty_search_results_container=this.$search_results_container.html(),this.useSmartSearch=!1,this.previousAPICall=null,this.loadPreviousSearchResults(this.$search_input)},window.onpageshow=function(t){return t.persisted?setTimeout(function(){return n.prototype.loadPreviousSearchResults()},500):void 0},n.prototype.loadPreviousSearchResults=function(){return history.state&&!this.$search_input.is(":focus")?(this.$search_input.val(history.state.name),this.$search_input.val().length&&this.$suggest_close.removeClass("invisible"),"SALES"===history.state.search_type?this.$for_sale.click():this.$for_rent.click()):void 0},n.prototype.fetchSearchResults=function(t){t.length<=1?this.hideSearchResults():(this.$search_results_container.show(),this.useSmartSearch?this.loadSmartSearch(t):this.loadBasicSearch(t))},n.prototype.loadBasicSearch=function(t){return e="http://realestate.nytimes.com/JSONSuggestService.aspx?n=NYTD.JSONsearchResultsLoaded&q="+encodeURIComponent(t),this.makeAPICall(e,this.searchResultsLoaded)},n.prototype.loadSmartSearch=function(t){return e="http://service-nytimes.gabriels.net/v1.1/SmartSearchResults.aspx?cha="+this.getChannelType()+"&ret=json&key="+encodeURIComponent(t),this.makeAPICall(e,this.smartSearchResultsLoaded)},n.prototype.searchResultsLoaded=function(){var t,e,n;e=NYTD.JSONsearchResultsLoaded.suggestresponse.matches,e?(t="<ul class='real-estate-search-results'>",e.constructor===Object&&(e=[{id:e.id,display:e.display}]),e.forEach(function(e,n){return n>2?void 0:t+="<li><a class='display' data-href='"+e.id+"'>"+e.display+"</a></li>"}),this.$search_results_container.html(t+"</ul>")):(this.hideSearchResults(),this.useSmartSearch=!0,n=NYTD.JSONsearchResultsLoaded.suggestresponse.term,this.loadSmartSearch(n))},n.prototype.smartSearchResultsLoaded=function(t){var e,n,r;r=t.matchgroup,(null!=r?r.length:void 0)&&(e=r[0].match[0],n=this.grabPath(e.seopath),this.$search_input.data("href",n),this.populatePushState(t.query.keyword,n),this.hideSearchResults())},n.prototype.grabPath=function(t){var e;return e=t.split("/"),e.pop(),e.pop()},n.prototype.isForSaleSection=function(){return this.$for_sale.hasClass("selected")},n.prototype.getChannelType=function(){return this.isForSaleSection()?"SALES":"RENTALS"},n.prototype.getFilterType=function(){var t;return t=this.isForSaleSection()?this.$real_estate_for_sale_filters:this.$real_estate_for_rent_filters},n.prototype.getLocationSearch=function(){var t;return t=this.$search_input.data("href"),t?t:history.state?history.state.location:""},n.prototype.showOptions=function(){var t,e;return e=this.getFilterType().find("input[type=checkbox]:checked"),t=$.map(e,function(t){return"show="+encodeURI(t.value)}),t.join("&")},n.prototype.exposeSearch=function(){return this.$real_estate_search_filters.css("max-height","11.5em")},n.prototype.hideSearchResults=function(){return this.useSmartSearch=!1,this.$search_results_container.html(this.empty_search_results_container),this.$search_results_container.hide()},n.prototype.populatePushState=function(t,e){var n;n={location:e,name:t,search_type:this.getChannelType()},history.replaceState(n,t,"#"+e)},n.prototype.makeAPICall=function(t,e){return $.ajax({dataType:"jsonp",url:t,cache:!0,beforeSend:function(t){return function(e,n){var r;t.previousAPICall&&t.previousAPICall.abort(),t.previousAPICall=e,r=n.jsonpCallback,n.url=n.url+("&d="+r)}}(this)}).done(function(){return function(t){e(t)}}(this)).fail(function(){return function(t,e){"abort"!==e&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error(t)}}(this))},n.prototype.clearSearchBox=function(){return this.$search_input.val(""),this.$suggest_close.addClass("invisible"),this.hideSearchResults(),this.populatePushState("","")},n}(t)}),define("text!controllers/saved/frontend/saved-item.dust",[],function(){return'(function(){dust.register("lib/controllers/saved/frontend/saved-item",body_0);function body_0(chk,ctx){return chk.section(ctx.get(["items"], false),ctx,{"block":body_1},null);}function body_1(chk,ctx){return chk.write("<li class=\\"highlighted border-b\\" data-uri=\\"").reference(ctx.get(["url"], false),ctx,"h").write("\\" style=\\"z-index: ").reference(ctx.get(["index"], false),ctx,"h").write("\\"><a href=\\"").reference(ctx.get(["urlPath"], false),ctx,"h").write("\\">").section(ctx.get(["image"], false),ctx,{"block":body_2},null).write("<div class=\\"kicker\\">").reference(ctx.get(["headerDisplay"], false),ctx,"h",["s"]).write("</div><span class=\\"title\\">").reference(ctx.get(["title"], false),ctx,"h").write("</span><p>").reference(ctx.get(["summary"], false),ctx,"h").write("</p></a><div class=\\"editbox\\"><i class=\\"icon icon-delete\\"></i><div>Remove</div></div></li>");}function body_2(chk,ctx){return chk.write("<img class=\\"highlighted-thumb\\"src=\\"").reference(ctx.get(["image"], false),ctx,"h").write("\\"/>");}return body_0;})();'});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/saved/frontend/saved.view",["views/base.view","utils/cross-platform-save","dustjs","text!controllers/saved/frontend/saved-item.dust","utils/url-mapper"],function(t,e,n,r,i){var o;return o=function(t){function o(){return this.reflowLis=__bind(this.reflowLis,this),this.noArticles=__bind(this.noArticles,this),this.removeItem=__bind(this.removeItem,this),this.loadMore=__bind(this.loadMore,this),this.getStories=__bind(this.getStories,this),this.editHit=__bind(this.editHit,this),this.init=__bind(this.init,this),o.__super__.constructor.apply(this,arguments)}return __extends(o,t),o.id="saved",o.prototype.templName="lib/controllers/saved/frontend/saved-item",o.prototype.init=function(){var t;return t=this,this.$articleList=$("#articleList"),this.$editBtn=$("#btnEdit"),this.$noArticles=$("#noarticles"),this.$loadMoreButton=$("#loadmore"),this.$articleList.on("click",".editbox",function(e){return e.preventDefault(),e.stopPropagation(),t.removeItem($(this))}),this.$articleList.on("touchstart, touchmove, touchend",".editbox",function(t){return t.stopPropagation()}),this.$loadMoreButton.on("tap",this.loadMore),this.$editBtn.on("tap",this.editHit),$(window).on("resize",this.reflowLis),this.getStories(),setTimeout(function(){return $(".loadingtext-msg").text("This is taking a little longer than expected. We are still loading your saved articles...")},2e3)},o.prototype.editHit=function(t){return t.preventDefault(),this.$articleList.toggleClass("editActivated"),this.$articleList.hasClass("editActivated")?this.$editBtn.addClass("active").html("Done"):(this.$editBtn.removeClass("active").html("Edit"),$("li.editActivated",this.$articleList).removeClass("editActivated"))},o.prototype.getStories=function(){return e.getListWithDetails(function(t){return function(e,o){var s;return t.storyList=o,e&&"Empty assets"===e?t.$el.addClass("error").find("#errortext").text("You currently have no saved items."):(n.loadSource(r),t.storyList=t.storyList.filter(function(t){return t.title}),0===t.storyList.length?t.noArticles():(t.$el.addClass("loaded hasArticles"),t.storyList.forEach(function(e,n){var r,o,s,a,l,u;switch(e.index=t.storyList.length-n,e.urlPath=i.getRelativeUrl(i.getMobileUrl(e.url)),e.headerDisplay=e.kicker||e.sectionDisplayName,r=null!=(o=e.relatedAssets)?o.filter(function(t){return"image"===t.type}):void 0,r&&r.length>0&&(e.image=null!=(s=r[0].crops.thumbLarge)?s.url:void 0),e.type){case"video":return e.headerDisplay="Video",null==e.summary&&(e.summary=e.caption),e.image=null!=(a=e.stills)&&null!=(l=a.thumbStandard)?l.url:void 0;case"slideshow":return e.headerDisplay="Slideshow",e.image=null!=(u=e.thumbnail)?u.url:void 0}}),s=t.storyList.slice(0,10),n.render(t.templName,{items:s},function(e,n){return t.$articleList.html(n)}),t.storyList.length<=10?t.$loadMoreButton.hide():(t.$loadMoreButton.removeClass("hidden"),t.$loadMoreButton.show())))}}(this))},o.prototype.loadMore=function(t,e){var r;return null==e&&(e=10),t&&t.preventDefault(),this.currentOffset=this.currentOffset||10,r=this.storyList.slice(this.currentOffset,this.currentOffset+e),r.length>0&&n.render(this.templName,{items:r},function(t){return function(e,n){var r,i;return r=$(n),i=parseInt(t.$articleList.children().last().attr("data-offset"),10),t.$articleList.append(r),t.$articleList.css("height",""),isNaN(i)?void 0:(r.css("transform","translate3d(0px, -"+i+"px, 0px)"),r.attr("data-offset",i),t.$articleList.css("height",t.$articleList.height()-i))}}(this)),this.currentOffset+=e,this.storyList.length<=this.currentOffset?this.$loadMoreButton.hide():(this.$loadMoreButton.removeClass("hidden"),this.$loadMoreButton.show())},o.prototype.removeItem=function(t){var n,r,i,o;return r=t.parent("li"),i=r.parent("ol"),o=t.parent("li").attr("data-uri"),t.addClass("pending"),n=t.css("transform"),e.archiveUrl(o,function(t){return function(){var e,o,s,a,l,u,c,d,h;if(!n)return r.remove(),0===i.children().length&&t.noArticles(),t.loadMore(null,1);for(s=r.outerHeight(),r.css("opacity","0.0"),r.attr("data-isdeleted","true"),o=i.children(),u=i.children().index(r),c=o.slice(u),d=0,h=c.length;h>d;d++)l=c[d],e=$(l),a=parseInt(e.attr("data-offset"),10)||0,a+=s,e.css("transform","translate3d(0px, -"+a+"px, 0px)"),e.attr("data-offset",a);return setTimeout(function(){return i.css("height",i.height()-s),0===$("li[data-isdeleted!=true]",i).length&&t.noArticles(),t.loadMore(null,1)},150)}}(this))},o.prototype.noArticles=function(){return this.$el.attr("class","loaded noArticles")},o.prototype.reflowLis=function(){var t,e;return e=0,t=0,this.$articleList.find("li").each(function(n,r){return"true"===$(r).attr("data-isdeleted")?e+=$(r).outerHeight():t+=$(r).outerHeight(),0!==e?($(r).css("transform","translate3d(0px, -"+e+"px, 0px)"),$(r).attr("data-offset",e)):void 0}),this.$articleList.css("height",t+"px")},o}(t)}),define("text!controllers/comments/frontend/comment.dust",[],function(){return'(function(){dust.register("lib/controllers/comments/frontend/comment",body_0);function body_0(chk,ctx){return chk.exists(ctx.get(["isTopPick"], false),ctx,{"block":body_1},null).write("<div class=\\"comment-header\\"><strong>").reference(ctx.get(["name"], false),ctx,"h").write("</strong>").reference(ctx.get(["location"], false),ctx,"h").exists(ctx.get(["isVerified"], false),ctx,{"block":body_2},null).write("</div><div class=\\"comment-body\\">").reference(ctx.get(["body"], false),ctx,"h",["s"]).write("</div><div class=\\"comment-footer\\">").reference(ctx.get(["date"], false),ctx,"h").write("<div><ul class=\\"comment-tools ").exists(ctx.get(["isReply"], false),ctx,{"block":body_3},null).write("\\" id=\\"comment-").reference(ctx.get(["commentID"], false),ctx,"h").write("\\">").notexists(ctx.get(["isReply"], false),ctx,{"block":body_4},null).write("<li class=\\"comment-btn comment-recommend\\"><a href=\\"#\\" data-toggle=\\"modal\\" data-button=\\"recommend\\" role=\\"button\\" data-recommended-flag=\\"").reference(ctx.get(["recommendedFlag"], false),ctx,"h").write("\\" class=\\"comment-recommend-link").exists(ctx.get(["showRecommended"], false),ctx,{"block":body_5},null).write("\\" ><span class=\\"recommend-status\\">Recommend").exists(ctx.get(["showRecommended"], false),ctx,{"block":body_6},null).write("</span> <span class=\\"recommend-count ").exists(ctx.get(["hideRecommendCount"], false),ctx,{"block":body_7},null).write("\\">(").reference(ctx.get(["recommendations"], false),ctx,"h").write(")</span></a></li><li class=\\"comment-btn comment-flag\\"><a href=\\"#\\" data-toggle=\\"modal\\" data-button=\\"flag\\" role=\\"button\\">Flag</a></li></ul></div></div>");}function body_1(chk,ctx){return chk.write("<i class=\\"icon i-t-pick\\"></i>");}function body_2(chk,ctx){return chk.write(" <i class=\\"icon i-chkmrk\\"></i>");}function body_3(chk,ctx){return chk.write("is-reply");}function body_4(chk,ctx){return chk.write("<li class=\\"comment-btn comment-reply\\"><a href=\\"#modal-login\\" data-toggle=\\"modal\\" data-button=\\"reply\\" role=\\"button\\">Reply</a></li>");}function body_5(chk,ctx){return chk.write(" recommended");}function body_6(chk,ctx){return chk.write("ed");}function body_7(chk,ctx){return chk.write("hidden");}return body_0;})();'}),define("utils/sup-trans",[],function(){var t,e;return e=function(){var t,e,n,r,i,o,s;if(t=document.body||document.documentElement,i=t.style,n="transition","string"==typeof i[n])return!0;for(r=["Moz","Webkit","O","ms"],o=0,s=r.length;s>o;o++)if(e=r[o],"string"==typeof i[r[e]])return!0;return!1},t=e()});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/comments/frontend/post-comment.view",["views/base.view","utils/comments","utils/sup-trans"],function(t,e){var n,r;return r="selected",n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.events={"tap [data-button=cancel]":function(t){return t.preventDefault(),this.hideAsync(function(){return function(){}}(this))},"keypress input":function(t){var e;return e=t.keyCode||t.which,13===e?(t.preventDefault(),this.doSubmit()):void 0},"click [data-button=submit]":function(t){return t.preventDefault(),t.stopPropagation(),this.doSubmit()},"tap [data-button=submit]":function(t){return t.preventDefault(),t.stopPropagation(),this.doSubmit()},"click [data-button=cancel]":function(){return this.hideAsync(function(){return function(){}}(this)),this.noghost()}},n.prototype.setBtnToLoading=function(){return this.$submit.removeClass("submit").addClass("cancel comment-btn-indicator").html('<div class="indicator-sm comment-btn-indicator"></div>')},n.prototype.setBtnToDefault=function(){return this.$submit.addClass("submit").removeClass("cancel comment-btn-indicator").html("Submit")},n.prototype.init=function(){var t,e,n,r;return this.$fields=this.$el.find("input, textarea"),this.$name=this.$fields.eq(0),this.$loc=this.$fields.eq(1),this.$txt=this.$fields.eq(2),t=$('meta[name="CG"]').attr("content"),n=$('meta[name="SLUG"]').attr("content"),e=$('meta[name="PT"]').attr("content"),r=$('meta[name="WT.z_hdl"]').attr("content"),this.assetTaxonomy=""+t+"/"+r,"blog"===e&&(this.assetTaxonomy="blogs/"+this.assetTaxonomy),n&&(this.assetTaxonomy=this.assetTaxonomy+(" ("+n+")")),this.$submit=this.$("[data-button=submit]"),this.setBtnToDefault(),this.isHidden=!0},n.prototype.reset=function(){return this.$txt.val(""),this.setBtnToDefault()},n.prototype.show=function(t){return this.isHidden=!1,this.$el.removeClass("hide"),this.$name.val(e.name),this.$loc.val(e.loc),this.parentID=null!=t?t:void 0},n.prototype.hide=function(){return this.isHidden=!0,this.$fields.blur(),this.$el.addClass("hide")},n.prototype.hideAsync=function(t){return this.hide(),t()},n.prototype.noghost=function(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},n.prototype.alignTo=function(t){return this.$el.css("top",t),this},n.prototype.doSubmit=function(){var t,n,r,i,o;if(!this._isSubmitting)return i=this.$name.val().trim(),r=this.$loc.val().trim(),n=this.$txt.val().trim(),o=this.parentID,t=this.assetTaxonomy,i?r?n?n.length<1500?(this._isSubmitting=!0,this.setBtnToLoading(),e.post({name:i,loc:r,comment:n,parentID:o,assetTaxonomy:t},function(t){return function(){return t._isSubmitting=!1,t.trigger("posted"),t.hideAsync(function(){return t.reset()})}}(this),function(t){return function(e){return t._isSubmitting=!1,t.setBtnToDefault(),alert(e.results.error)}}(this))):alert("Your comment must be less than 1500 characters."):(alert("Please enter a comment."),void this.$txt.focus()):(alert("Please enter your location."),void this.$loc.focus()):(alert("Please enter your name."),void this.$name.focus())},n}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/comments/frontend/comment.view",["views/template.view","text!controllers/comments/frontend/comment.dust","utils/comments","controllers/comments/frontend/post-comment.view"],function(t,e,n,r){var i;return i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.className="comment",i.prototype.template=e,i.prototype.templateName="lib/controllers/comments/frontend/comment",i.prototype.postTemplate=$("[data-view-el=post-c]"),i.prototype.events={"click [data-button=reply]":function(t){var e,r,i,o;return n.userId&&(i=$(t.target),e=this.$el.find(".comment-tools"),r=this.$el.find(".comment-footer"),o=55,t.preventDefault(),t.stopPropagation(),$("body, html").animate({scrollTop:e.offset().top-o},"fast"),null!=this.postView)?this.postView.show(this.model.commentID):void 0},"tap [data-button=recommend]":function(t){var e,r,i;return r=$(t.target),"comment-recommend-link"!==$(t.target).attr("class")&&(r=$(t.target).parent(".comment-recommend-link")),n.userId?(e=r.parent(".comment-tools"),t.preventDefault(),t.stopPropagation(),i="0"===r.attr("data-recommended-flag")?1:0,n.recommend({commentSequence:this.model.commentSequence,parentID:this.model.parentID,canRecommend:i},function(t){return function(e){return t.commentRecommendSuccess(e)}}(this),function(){return function(){return alert("An error has occured. Please try again.")}}(this))):r.attr("href","#modal-login")},"tap [data-button=flag]":function(t){var e,r;return r=$(t.target),n.userId?(e=$("#modal-flag"),e.attr("data-comment-id",this.model.commentID),r.attr("href","#modal-flag")):r.attr("href","#modal-login"),r.click(),r.attr("href","#"),t.preventDefault(),t.stopPropagation()}},i.prototype.init=function(t){return null==t&&(t={}),this.model.isReply?this.$el.addClass("reply"):void 0},i.prototype.render=function(t){return t.date=moment(t.date).lang("en-nyt").format("MMM D, YYYY [at] h:mm a"),i.__super__.render.call(this,t)},i.prototype.postrender=function(){var t;return!this.model.isReply&&n.canSubmit&&(this.$post=this.postTemplate.clone().attr("id","").addClass("comment-reply").attr("data-view-el","child-post-c"),this.$el.find(".comment-footer").append(this.$post),this.postView=new r({el:this.$post})),n.canSubmit?void 0:(t=this.$el.find(".comment-reply"),this.$el.find(".comment-tools:not(.is-reply)").prepend('<li class="comment-btn disabled"><a role="button">Reply</a></li>'),t.remove())},i.prototype.commentRecommendSuccess=function(t){var e,n,r,i;return e=$("#comment-"+t.results.commentID),r=e.find(".comment-recommend-link"),i=r.find(".recommend-status"),n=r.find(".recommend-count"),null!=t.results.recommendations?(n.text("("+t.results.recommendations+")"),t.results.recommendations>0?n.removeClass("hidden"):n.addClass("hidden")):n.addClass("hidden"),null!=t.results.recommended?(r.attr("data-recommended-flag",1),r.addClass("recommended"),i.text("Recommended")):(r.attr("data-recommended-flag",0),r.removeClass("recommended"),i.text("Recommend"))
},i}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__slice=[].slice;define("controllers/comments/frontend/comments-list.view",["views/base.view","controllers/comments/frontend/comment.view","utils/comments"],function(t,e){var n;return n=function(t){function n(){return this.loadNYT=__bind(this.loadNYT,this),this.loadReaders=__bind(this.loadReaders,this),this.loadAll=__bind(this.loadAll,this),n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.id="comments-list",n.prototype.init=function(){return this.$all=$("[data-view=comments-all]"),this.$readers=$("[data-view=comments-reader]"),this.$nyt=$("[data-view=comments-nyt]"),this.globalEvents.on("change:filter:all",function(t){return function(){return t.$all.removeClass("hidden"),t.$readers.addClass("hidden"),t.$nyt.addClass("hidden")}}(this)),this.globalEvents.on("change:filter:reader",function(t){return function(){return t.$readers.removeClass("hidden"),t.$all.addClass("hidden"),t.$nyt.addClass("hidden")}}(this)),this.globalEvents.on("change:filter:nyt",function(t){return function(){return t.$nyt.removeClass("hidden"),t.$all.addClass("hidden"),t.$readers.addClass("hidden")}}(this)),this.listenTo(this.model,"fetch:comments:all",this.loadAll),this.listenTo(this.model,"fetch:comments:reader",this.loadReaders),this.listenTo(this.model,"fetch:comments:nyt",this.loadNYT),this.globalEvents.on("post:trusted",function(t){return function(n){var r;return r=new e({model:n}),t.$all.prepend(r.render(n.toJSON()).el)}}(this))},n.prototype._loadComments=function(t,e){return e.length&&(e=this._renderComments(e),t.append(e)),t.find(".indicator").each(function(){return $(this).addClass("hidden")})},n.prototype.loadAll=function(){var t;return t=1<=arguments.length?__slice.call(arguments,0):[],this._loadComments.apply(this,[this.$all].concat(t))},n.prototype.loadReaders=function(){var t;return t=1<=arguments.length?__slice.call(arguments,0):[],this._loadComments.apply(this,[this.$readers].concat(t))},n.prototype.loadNYT=function(){var t;return t=1<=arguments.length?__slice.call(arguments,0):[],this._loadComments.apply(this,[this.$nyt].concat(t))},n.prototype._renderComments=function(t){var n,r,i,o,s,a,l,u,c;for(r=document.createDocumentFragment(),s=0,l=t.length;l>s;s++)if(n=t[s],o=new e({model:n}),o.render(n.toJSON()),r.appendChild(o.el),n.hasReplies())for(c=n.replies,a=0,u=c.length;u>a;a++)i=c[a],o=new e({model:i}),o.render(i.toJSON()),r.appendChild(o.el);return r},n.prototype.empty=function(){var t,e,n,r,i;for(r=[this.$all,this.$readers,this.$nyt],i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.empty());return i},n.prototype.hide=function(){return this.$el.hide()},n}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/comments/frontend/comments-filter.view",["views/base.view","utils/comments","controllers/comments/frontend/post-comment.view"],function(t,e,n){var r,i;return i="selected",r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.id="comments-filter",r.prototype.events={"click [data-button=write]":"showPostView","tap [data-button=write]":"showPostView","tap [data-filter-button]":function(t){var e,n;if(t.preventDefault(),e=$(t.currentTarget),n=this.selectFilter(e),this.postView.hide(),n&&!e.data("disabled"))switch(this._lastFilter=e.data("filter-button"),this._lastFilter){case"all":return this.globalEvents.trigger("change:filter:all"),this.model.getAll();case"nyt-picks":return this.globalEvents.trigger("change:filter:nyt"),this.model.getNYTPicks();case"reader-picks":return this.globalEvents.trigger("change:filter:reader"),this.model.getReadersPicks()}}},r.prototype.init=function(){return this.postView=new n({el:"post-c"}),this.postView.on("posted",function(t){return function(){var e;return e=$("<div>").addClass("c-success").html("Thank you for your submission. Your comment will appear once it has been approved"),t.$el.after(e),setTimeout(function(){return e.fadeOut(300,function(){return $(this).remove()})},1e4)}}(this)),this._lastFilter="all",this.$buttons=this.$("[data-filter-button]"),this.$buttons.each(function(t){return function(e,n){var r,o;return r=$(n),o=r.data("filter-button"),r.hasClass(i)&&(t.$selectedFilter=r),o}}(this))},r.prototype.selectFilter=function(t){return t.hasClass(i)?!1:t.data("disabled")?!1:(this.$selectedFilter.removeClass(i),this.$selectedFilter=t.addClass(i),!0)},r.prototype.getCurrentFilter=function(){return this._lastFilter},r.prototype.showFilters=function(){return this.$buttons.each(function(t,e){return $(e).parent().css("visibility","")}),this},r.prototype.show=function(t,e,n){return this.$el.removeClass("hidden"),this.$buttons.each(function(r,i){var o;switch(o=$(i),o.data("filter-button")){case"all":if(1>t)return o.data("disabled",!0).removeClass("selected").addClass("disabled");break;case"nyt-picks":if(1>n)return o.data("disabled",!0).removeClass("selected").addClass("disabled");break;case"reader-picks":if(1>e)return o.data("disabled",!0).removeClass("selected").addClass("disabled")}}),0===t&&$("body").hasClass("loggedin")&&this.$el.find("[data-button=write]").click(),this},r.prototype.showPostView=function(t){e.userId&&(this.postView.hide(),this.postView.isHidden&&this.postView.show()),null!=t&&e.userId&&(t.preventDefault(),t.stopPropagation())},r.prototype.hide=function(){return this.$el.addClass("hidden"),this},r.prototype.disableCommenting=function(){var t,e;return e=this.$el.find("[data-button=write]"),t=e.parent(),this.$el.before('<div class="comments-closed">The comments section is closed.</div>'),t.addClass("disabled").append('<a role="button">Write</a>'),this.$el.find("[data-button=write]").remove()},r}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}};define("controllers/comments/frontend/comments.model",["utils/comments","utils/events","utils/extend"],function(t,e,n){var r;return r=function(){function e(){this._getComments=__bind(this._getComments,this),this._cache={all:{},nyt:{},reader:{}}}return e.prototype._getComments=function(e,n,r){var i,o;return null==n&&(n=!1),i=this._cache[e],o=i.length=i.length||0,1>o||n?(this.isLoading=!0,t.getComments({offset:o,filter:e},function(t){return function(n,s){return t.isLoading=!1,n.length?(i.length+=n.length,o=i.length,i.nextOffset=s-o>=25?25:s-o,i.numComments=s,"function"==typeof r&&r(n,i.nextOffset,i.numComments),t.trigger("fetch:comments:"+e,n,i.nextOffset,i.numComments)):(t.trigger("fetch:comments",0,0),void("function"==typeof r&&r(0,0)))}}(this),function(t){return function(){return t.trigger("fetch:comments:error")}}(this))):o>0?("function"==typeof r&&r(t,i.nextOffset,i.numComments),this.trigger("fetch:comments:"+e,t,i.nextOffset,i.numComments)):void 0},e.prototype.getAll=function(t,e){return this._getComments("all",t,e)},e.prototype.getReadersPicks=function(t,e){return this._getComments("reader",t,e)},e.prototype.getNYTPicks=function(t,e){return this._getComments("nyt",t,e)},e}(),n(r.prototype,e),r});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/comments/frontend/comments.view",["views/base.view","controllers/comments/frontend/comments-list.view","controllers/comments/frontend/comments-filter.view","controllers/comments/frontend/comments.model","utils/comments"],function(t,e,n,r,i){var o,s;return s=new Image,s.className="sm-indicator",o=function(t){function o(){return this.hideMoreButton=__bind(this.hideMoreButton,this),this.hideCancelButton=__bind(this.hideCancelButton,this),this.updateMoreButton=__bind(this.updateMoreButton,this),o.__super__.constructor.apply(this,arguments)}return __extends(o,t),o.id="comments",o.prototype.events={"click [data-button=more]":function(t){if(t.preventDefault(),!this.model.isLoading)switch($("body").hasClass("dark")?s.src||(s.src=""+this.ASSETS+"/images/dark2-small-activity-indicator.gif"):s.src||(s.src=""+this.ASSETS+"/images/gray-small-activity-indicator.gif"),this.$moreButton.children().html(s),this.isCommentsLoading=!0,this.filterView.getCurrentFilter()){case"all":return this.model.getAll(!0);case"nyt-picks":return this.model.getNYTPicks(!0);case"reader-picks":return this.model.getReadersPicks(!0)}},"change  [data-input=checkbox]":function(){var t;return t=$(".submit"),this.canFlagFormSubmit()?t.addClass("active"):t.removeClass("active")},"tap [data-button=submit-flag]":function(t){var e,n,r,o,s,a;if(this.canFlagFormSubmit()){for(r=$("#modal-flag"),e=r.find("input:checked"),o=[],t.preventDefault(),t.stopPropagation(),s=0,a=e.length;a>s;s++)n=e[s],o.push(n.value);return i.flag({commentID:r.attr("data-comment-id"),commentLabels:o.toString()},function(t){return function(e){return t.commentflagSuccess(e)}}(this),function(){return function(t){var e;return e="already",-1!==t.results.error.search(e)?alert("This comment has already been flagged by you."):void 0}}(this)),this.flagFormCleanup()}},"tap [data-button=cancel-flag]":function(t){return t.preventDefault(),t.stopPropagation(),this.flagFormCleanup()}},o.prototype.init=function(){var t,i;return this.model=new r,this.$moreButton=this.$("[data-button=more]"),this.$commentCount=this.$("[data-view=comment-count]"),this.$cancelButton=this.$("[data-button=cancel]"),this.filterView=new n({el:this.$("[data-view="+n.id+"]"),model:this.model}),this.listView=new e({el:this.$("[data-view="+e.id+"]"),model:this.model}),this.globalEvents.on("change:filter:all",this.hideMoreButton),this.globalEvents.on("change:filter:reader",this.hideMoreButton),this.globalEvents.on("change:filter:nyt",this.hideMoreButton),this.listenTo(this.model,"fetch:comments:all",this.updateMoreButton),this.listenTo(this.model,"fetch:comments:reader",this.updateMoreButton),this.listenTo(this.model,"fetch:comments:nyt",this.updateMoreButton),this.listenTo(this.model,"fetch:comments:all",this.updateMoreButton),this.listenTo(this.model,"fetch:comments:reader",this.updateMoreButton),this.listenTo(this.model,"fetch:comments:nyt",this.updateMoreButton),this.listenTo(this.model,"fetch:comments:error",function(t){return function(){return t.updateMoreButton(null,0),t.filterView.hide(),t.listView.hide(),alert("An error has occured. Please try again.")}}(this)),this._onLoad(),t=this.$("#modal-login").find("a"),i=encodeURIComponent(location.origin+"/loginReturn?url="+encodeURIComponent(location.pathname+location.search)),t.attr("href",t.attr("href")+("?EXIT_URI="+i))},o.prototype._onLoad=function(){return i.getCount(function(t){return function(e,n,r,o,s){return t.$commentCount.text(""+e+" Comments"),e>0?(t.filterView.show(n,r,o),t.model.getAll(!1,function(e,n){return 1>n?t.hideMoreButton():void 0})):(t.filterView.showFilters().show(0,0,0),t.listView.empty(),t.hideCancelButton()),i.canSubmit=s,s?void 0:t.filterView.disableCommenting()}}(this))},o.prototype.updateMoreButton=function(t,e){return e>0?(this.$moreButton.children().text("Show Next "+e+" Comments"),this.$moreButton.removeClass("hidden"),this.$el.addClass("has-button")):(this.$moreButton.addClass("hidden"),this.$el.removeClass("has-button"))},o.prototype.hideCancelButton=function(){return this.$cancelButton.addClass("hidden")},o.prototype.hideMoreButton=function(){return this.$moreButton.addClass("hidden")},o.prototype.commentflagSuccess=function(){},o.prototype.flagFormCleanup=function(){var t;return t=$("#modal-flag"),t.attr("data-comment-id",""),t.find("input").each(function(){return $(this).prop("checked",!1)}),t.find(".modal-close").click(),t.find(".submit").removeClass("active")},o.prototype.canFlagFormSubmit=function(){var t,e;return t=$(".checkbox"),e=!1,t.each(function(){return $(this).prop("checked")?(e=!0,!0):void 0}),e},o}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/pagination/frontend/pagination.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.events={"click [data-button=more-results]":function(t){return t.preventDefault(),this.$button=$(t.target),this.beforeLoad(),$.ajax({context:this,url:this.getUrl(),success:this._loadSuccess,error:this._generalError,loadError:this.loadError,timeout:15e3})}},e.prototype.init=function(){return this.page=this.basePage+1,this.$results=this.$("[data-view=results]"),"undefined"!=typeof console&&null!==console&&"function"==typeof console.assert&&console.assert(this.$results.length,"Element with `[data-view=results]` does not exist"),this.$_btn=this.$("[data-button=more-results]"),this.$_btn.append('<span class="indicator-sm hidden"></span>')},e.prototype.beforeLoad=function(){return this.$activity=this.$_btn.find(".indicator-sm"),this._btnHTML=this.$_btn.html(),this.$activity.removeClass("hidden"),this.$_btn.find("a").addClass("hidden")},e.prototype._loadSuccess=function(t,e,n){return this.$_btn.html(this._btnHTML),this.$_btnTxt=null,this._btnTxt=null,(200===n.status||304===n.status)&&(this.page+=1),this.loadSuccess.apply(this,arguments)},e.prototype._loadTimeout=function(){return this.$_btn.html(this._btnHTML),this.$_btnTxt=null,this._btnTxt=null,this.loadTimeout.apply(this,arguments)},e.prototype._generalError=function(t,e,n){return"timeout"===n?this._loadTimeout():void 0},e.prototype.loadSuccess=function(){},e.prototype.loadError=function(){},e.prototype.loadTimeout=function(){},e.prototype.generalError=function(t,e,n){return"timeout"===n?this.loadTimeout():void 0},e.prototype.getQueryParams=function(){var t,e,n,r,i,o,s,a;for(i=window.location.search.substr(1).split("&"),e={},s=0,a=i.length;a>s;s++)r=i[s],n=r.split("="),e[n[0]]=n[1];if("undefined"!=typeof defaults&&null!==defaults)for(t in defaults)o=defaults[t],null==e[t]&&e[t]===o;return e},e.prototype.basePage=0,e.prototype.pageVar="page",e.prototype.getUrl=function(){var t,e,n,r;if(null==this.baseUrl)throw new Error("`baseUrl` is not set");if(n=this.getQueryParams(),"[object Object]"!==Object.prototype.toString.call(n))throw new Error("getQueryParams should return an `object`");e=[""+this.pageVar+"="+this.page,"ajax"];for(t in n)if(r=n[t],t!==this.pageVar&&"ajax"!==t){if("string"!=typeof r&&"number"!=typeof r)throw new Error(""+r+" is not a valid paramater. Must be string or number");e.push(""+t+"="+r)}return""+this.baseUrl+"?"+e.join("&")},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/search/frontend/search.view",["controllers/pagination/frontend/pagination.view"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="search",e.prototype.defaultParams={sort:"dsc"},e.prototype.init=function(){return e.__super__.init.apply(this,arguments),this.total=parseInt($("[data-view=search]").data("view-total"),10),this.baseUrl=$("[data-view=search]").data("view-action-url")},e.prototype.loadSuccess=function(t,e,n){var r,i;return 200===n.status||304===n.status?(r=$(t),i=r.find("[data-view=results]"),this.total=parseInt(r.attr("data-view-total")||this.total,10),i.children().length<=10&&this.$results.children().length+i.children().length>=this.total&&this.$_btn.remove(),this.$results.append(i.children())):void 0},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/recommend/frontend/recommend.view",["views/list.view","views/list-article.view","utils/recommendations","utils/mostemailed"],function(t,e,n,r){var i;return i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.id="rec",i.prototype.ChildView=e,i.prototype.childViewOpts={highlighted:!0},i.prototype.init=function(){var t;return-1===document.cookie.indexOf("subLevel=")&&$("[data-view=notice]").remove(),t=/[\w>]+\-[\w<]+/g,n(function(t){return function(e,n){return null!=e||0===(null!=n?n.length:void 0)?t.renderNoSuggestions():t.render(n)}}(this))},i.prototype.beforeRender=function(){return $(".sect.recommended .indicator").remove()},i.prototype.afterRender=function(){return $(".has-recs").removeClass("hidden"),this.$el.children().each(function(t,e){return $(e).addClass("highlighted")})},i.prototype.renderNoSuggestions=function(){return $(".no-recs").removeClass("hidden"),this.beforeRender(),r(function(t){return function(e,n){return e?t.destroy():($(".has-recs").addClass("no-recs"),$(".no-recs").removeClass("has-recs"),t.render(n))}}(this))},i}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/timeswire/frontend/timeswire.view",["controllers/pagination/frontend/pagination.view","utils/timezone"],function(t,e){var n;return n=function(t){function n(){return this.getQueryParams=__bind(this.getQueryParams,this),n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.id="timeswire",n.prototype.init=function(){return this.timestamp=window.sectionTimestamp,n.__super__.init.call(this)},n.prototype.defaultParams={sort:"dsc",page:0},n.prototype.baseUrl="/timeswire",n.prototype.loadSuccess=function(t,n,r){var i;return 200===r.status||304===r.status?(i=$(t).find("[data-view=results]"),i.children().length<10?void $("#more-results").hide():(this.$results.append(i.children()),$("[data-localize]").each(e.generateLocalTimeStamp))):void 0},n.prototype.getQueryParams=function(){var t;return t={},t.timestamp=this.timestamp,null==t.page&&(t.page=0),t},n}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/static/frontend/premier.view",["views/base.view"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.id="premier",e.prototype.init=function(){return this.$footerLink=$("#premier-login"),this.url=this.$footerLink.attr("href"),window.location.search.indexOf("EXIT_URI")>-1?this.$footerLink.attr("href",this.url+window.location.search):void 0},e}(t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/static/frontend/device-info.view",["views/base.view","utils/ua-detect","utils/hasFixedSupport"],function(t,e,n){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.id="device-info",r.prototype.init=function(){var t,r,i;r=['<tr><th colspan="2">Device User Agent</th></tr>','<tr><td colspan="2" class="useragent">'+navigator.userAgent+"</td></tr>"];for(t in e)i=e[t],r.push("<tr><th>"+t+"</th>"),r.push(i?"<td>"+i+"</td></tr>":'<td class="badvalue">'+i+"</td></tr>");r.push("<tr><th>hasFixedSupport</th><td>",n(),"</td></tr>"),$(this.el).html('<table class="deviceInfo">'+r.join("")+"</table>")},r}(t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("controllers/articles/frontend/articles.component.view",["views/base.view","utils/hasFixedSupport"],function(t,e){var n;return n=function(t){function n(){return this.toggleNav=__bind(this.toggleNav,this),this.closeNavWithoutEase=__bind(this.closeNavWithoutEase,this),this.openNavWithoutEase=__bind(this.openNavWithoutEase,this),this.closeNavWithEase=__bind(this.closeNavWithEase,this),this.openNavWithEase=__bind(this.openNavWithEase,this),this.undoLayoutAdjustments=__bind(this.undoLayoutAdjustments,this),this.layoutAdjustments=__bind(this.layoutAdjustments,this),this.handleFixedShareNav=__bind(this.handleFixedShareNav,this),n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.id="article-page",n.prototype.init=function(){var t,n,r,i;return r=null!=(i=navigator.userAgent.match(/AppleWebKit\/(\d+)/))?i[1]:void 0,t=null!=r&&parseInt(r)<537,e()&&!t?(this.$window=$(window),this.$fixedShareNavOuter=$(".fixed-share-nav-outer"),this.$fixedShareNav=$("#fixed-share-nav"),n=21,this.navButtonWidth=$("#main-nav").width()+n,this.$mainHeader=$(".main-header"),this.scrollPos=0,this.$navLinks=$("#navLinks"),this.$mainSearch=$("#main-search"),this.$fullArt=$(".full-art"),this.$mainHeaderPlaceholder=$("#main-header-placeholder"),this.$body=$("body"),this.$topAdBanner=$(".mobilebanner"),this.showShareTools(),this.$window.on("orientationchange resize",this.toggleNav)):this.showShareToolsNoFixedSupport(),this.globalEvents.on("open:section-nav",function(t){return function(){return t.scrollPos=t.$window.scrollTop(),t.closeNavWithoutEase()}}(this)),this.globalEvents.on("close:section-nav",function(t){return function(){return $("body, html").scrollTop(t.scrollPos),t.toggleNav()}}(this)),this.globalEvents.on("open:search-nav",function(t){return function(){return t.closeNavWithoutEase()}}(this)),this.globalEvents.on("close:search-nav",function(t){return function(){return $("body, html").scrollTop(t.scrollPos),t.toggleNav()}}(this))},n.prototype.showShareTools=function(){return this.$fixedShareNav.addClass("share-tools-fixednav"),this.$fixedShareNav.find("li a").each(function(){return $(this).addClass("btn")}),$(".header-art-tools li[data-view=header-comments]").removeClass("hidden"),$(".footer-art-tools li[data-view=footer-comments]").removeClass("hidden"),this.$window.on("scroll",this.handleFixedShareNav),this.toggleNav(!0)},n.prototype.showShareToolsNoFixedSupport=function(){return $(".header-art-tools li").each(function(){return $(this).removeClass("hidden")}),$(".footer-art-tools li").each(function(){return $(this).removeClass("hidden")})},n.prototype.handleFixedShareNav=function(){return this.$navLinks.hasClass("opened")?this.toggleNav():this.toggleNav(!0)},n.prototype.isScrollPositionedAboveArticle=function(){var t,e,n;return t=this.$fullArt[0].getBoundingClientRect(),e=this.$mainHeader[0].getBoundingClientRect(),n=this.$topAdBanner[0].getBoundingClientRect(),t.bottom>e.height+n.height?!0:!1},n.prototype.isScrollPositionedOverArticle=function(){var t,e,n;return t=this.$fullArt[0].getBoundingClientRect(),e=this.$mainHeader[0].getBoundingClientRect(),n=this.$topAdBanner[0].getBoundingClientRect(),t.top>e.height+n.height+5?!1:this.isScrollPositionedAboveArticle()?!0:!1},n.prototype.layoutAdjustments=function(){return this.$mainHeader.css({width:this.$body.width()+"px",position:"fixed"}),this.$mainHeaderPlaceholder.css("height",this.$mainHeader.outerHeight()+"px"),this.$mainHeader.addClass("absoluteTop border-b"),this.$mainHeader.removeClass("border-t"),this.$fixedShareNav.css({left:""+this.navButtonWidth+"px"})},n.prototype.undoLayoutAdjustments=function(){return this.isScrollPositionedAboveArticle()?(this.$mainHeader.css({width:"auto",position:"static"}),this.$mainHeaderPlaceholder.css("height","0px"),this.$mainHeader.addClass("border-t"),this.$mainHeader.removeClass("border-b absoluteTop")):void 0},n.prototype.openNavWithEase=function(){return this.$fixedShareNav.css({display:"block",transition:"all 200ms ease-out","transition-property":"opacity,clip,transform",transform:"translate(0,0)",clip:"rect(auto,auto,auto,0)",opacity:1})},n.prototype.closeNavWithEase=function(){return this.$fixedShareNav.css({transition:"all 200ms ease-out","transition-property":"opacity,clip,transform",transform:"translate(-"+this.$fixedShareNav.width()+"px,0)",clip:"rect(auto,auto,auto,"+this.$fixedShareNav.width()+"px)",opacity:0})},n.prototype.openNavWithoutEase=function(){return this.$fixedShareNav.removeClass("hidden"),this.$fixedShareNav.css({display:"block",transition:"none 0s",transform:"translate(0,0)",clip:"rect(auto,auto,auto,0)",opacity:1})},n.prototype.closeNavWithoutEase=function(){return this.$fixedShareNav.css({display:"none",transition:"none 0s",transform:"translate(-"+this.$fixedShareNav.width()+"px,0)",clip:"rect(auto,auto,auto,"+this.$fixedShareNav.width()+"px)",opacity:0})},n.prototype.toggleNav=function(t){var e;return e=this.$window.scrollTop(),this.$navLinks.hasClass("opened")||this.$mainSearch.hasClass("opened")?(this.undoLayoutAdjustments(),!1):(this.isScrollPositionedOverArticle()?this.layoutAdjustments():this.undoLayoutAdjustments(),t?this.isScrollPositionedOverArticle()?this.openNavWithEase():this.closeNavWithEase():this.isScrollPositionedOverArticle()?this.openNavWithoutEase():this.closeNavWithoutEase())},n}(t)}),!function(t){var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var r=t(this),i=r.data("modal"),o=t.extend({},t.fn.modal.defaults,r.data(),"object"==typeof n&&n);i||r.data("modal",i=new e(this,o)),"string"==typeof n?i[n]():o.show&&i.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),r=n.attr("href"),i=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),n.data());e.preventDefault(),i.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),define("ext/bootstrap-modal",["jquery"],function(){}),function(t){return"object"==typeof exports?module.exports=t(require("moment")):"function"==typeof define&&null!=define.amd?define("shared/moment-extend",["moment"],t):void 0}(function(t){var e;return e=["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],t.lang("en-nyt",{monthsShort:e,meridiem:function(t){return 12>t?"a.m.":"p.m."}}),t.lang("en"),t.fn.nytMonth=function(){return e[this._d.getMonth()]},t});var nyt_url=document.URL,nyt_domain=document.domain,nyt_path=window.location.pathname,gdcsid="dcsjdydf3wz5bdzfptglozqrj_1v4k";window.MWR.env&&"production"!==window.MWR.env||(gdcsid="dcsga5emk0000000gky4w6o4m_7t4c");var wt_cgArray={aponline:"AP/Reuters",arts:"Arts",automobiles:"Autos",books:"Books",business:"Business","Business Day":"Business",crosswords:"Crosswords/Games",dining:"Style",education:"U.S.",fashion:"Style",garden:"Style",greathomesanddestinations:"Great Homes",health:"Health",jobs:"Jobs",magazine:"Sunday Magazine",movies:"Movies",multimedia:"General",nyregion:"N.Y./Region",olympics:"Olympics",opinion:"Opinion",podcasts:"General",publiceditor:"Opinion",realestate:"Real Estate",reuters:"AP/Reuters",science:"Science",sports:"Sports",style:"Style","t-magazine":"T:Style",technology:"Technology",theater:"Theater",timestopics:"Times Topics",todayspaper:"General",travel:"Travel",us:"U.S.",washington:"U.S.",weekinreview:"Week in Review",world:"World"},wt_scgArray={design:"Art and Design",boxoffice:"Box Office",autoreviews:"New Cars",collectibles:"Collectibles",review:"Sunday Book Review",bestseller:"Best-Seller Lists",chapters:"First Chapters",media:"Media and Advertising",worldbusiness:"World Business",smallbusiness:"Small Business",yourmoney:"Your Money",research:"Research",nutrition:"Fitness and Nutrition",policy:"Money and Policy",views:"Views",guide:"Health Guide",currentreleases:"In Theaters",homevideo:"On DVD",criticspicks:"Critics Pick",thecity:"The City",nyregionspecial2:"The Region",nyregionopinions:"NY/Region Opinions",earth:"Environment",space:"Space and Cosmos",baseball:"Baseball",football:"Pro Football",ncaafootball:"College Football",basketball:"Pro Basketball",ncaabasketball:"College Basketball",hockey:"Hockey",soccer:"Soccer",golf:"Golf",tennis:"Tennis",othersports:"Other Sports",fashion:"Fashion",dining:"Dining",garden:"Home and Garden",weddings:"Weddings",tmagazine:"T Magazine",personaltech:"Personal Tech",broadway:"Broadway",offbroadway:"Off Broadway",offoffbroadway:"Off Off Broadway",london:"London",reviews:"Reviews",washington:"Washington",education:"Education",africa:"Africa",americas:"Americas",asia:"Asia Pacific",europe:"Europe",middleeast:"Middle East",editorials:"Editorials",contributors:"Contributors",nyregionopinions:"NY/Region Opinions",communities:"Communities",commercial:"Commercial",podcasts:"Podcasts","womens-fashion":"Women's Fashion","mens-fashion":"Men's Fashion",design:"Design",travel:"Travel",food:"Food",culture:"Culture",dealbookjobs:"Dealbook Jobs"},wt_contentGroup=getMetaTag("WT.cg_n"),wt_cgTag;
""==wt_contentGroup&&(wt_cgTag=getMetaTag("CG"),wt_tempcontentGroup=wt_cgArray[wt_cgTag],wt_contentGroup=void 0!=wt_tempcontentGroup?wt_tempcontentGroup:wt_cgTag,""==wt_contentGroup&&(wt_contentGroup=getContentGroup(nyt_url,nyt_domain,nyt_path))),setSubcontentGroupByOC(),wt_scgTag=getMetaTag("SCG"),wt_tempsubcontentGroup=wt_scgArray[wt_scgTag],void 0!=wt_tempsubcontentGroup&&(wt_scgTag=wt_tempsubcontentGroup),wt_subcontentGroup=wt_scgTag,handleCGExceptions(),addMetaTag("WT.cg_n",wt_contentGroup),addMetaTag("WT.cg_s",wt_subcontentGroup),setRegistrationSection(),readPageTags(),setContentInfo(),setReferrerInfo(),setSectionFront();var dcsvid;void 0!=dcsvid&&"0"!=dcsvid&&addMetaTag("WT.dcsvid",dcsvid);var metaArticleId=getMetaTag("articleid");""!=metaArticleId&&"Comments Overflow"!=getMetaTag("WT.z_gpst")?setArticleInfo(metaArticleId):setCommentOverflowInfo(metaArticleId);var pub_date=getMetaTag("WT.z_pud");""!=pub_date&&setPubDateInfo(pub_date);var tomMetaTag=getMetaTag("tom");("interactive_graphic"==tomMetaTag||"interactive_feature"==tomMetaTag)&&setInteractiveGraphicInfo(),/^\/imagepages/.test(nyt_path)&&(addMetaTag("PT","Multimedia"),addMetaTag("PST","Image"));var tomMetaTag=getMetaTag("tom");("Slideshow"==tomMetaTag||/^\/slideshow\/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\//.test(nyt_path))&&setSlideshowInfo(),(/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/sunday-review\//.test(nyt_path)||/[0-9][0-9][0-9][0-9]\/[0-1][0-9]\/[0-3][0-9]\/opinion\/sunday\//.test(nyt_path))&&setSundayReviewInfo();var metaEmailCampId=getQueryParameter("emc");addMetaTag("WT.mc_id",metaEmailCampId);var externalCampId=getQueryParameter("excamp");if(""!=externalCampId&&(addMetaTag("WT.mc_id",externalCampId),addMetaTag("WT.srch","1")),""!=getMetaTag("WT.mc_id")&&addMetaTag("WT.mc_ev","click"),queryParameterExists("no_interstitial")&&addMetaTag("WT.z_dirlnk","1"),/NYT-Global/.test(document.cookie)?addMetaTag("WT.gv","2"):/edition\|GLOBAL/.test(document.cookie)&&addMetaTag("WT.gv","1"),document.cookie.match(/autorefresh=1/)){addMetaTag("WT.z_jog","1");var expTime=new Date;expTime.setTime(expTime.getTime()-6e4),document.cookie="autorefresh=0; expires="+expTime.toGMTString()+"; path=/"}setTrackEvents(),setSearchInfo(),setDefaultTags(),s_code_linktrack=s_code_linktrack_classifieds=s_code_linktrack_indiv=function(t){try{dcsMultiTrack("DCS.dcssip","www.nytimes.com","DCS.dcsuri","/"+t+".html","WT.ti",t,"WT.z_dcsm","1")}catch(e){}},define("ext/wt-controller-mobileweb",function(){}),function(t,e,n){"function"==typeof define&&define.amd?define("ext/jquery.mobile.custom.min",["jquery"],function(r){return n(r,t,e),r.mobile}):n(t.jQuery,t,e)}(this,document,function(t,e,n){!function(t,e,n,r){function i(t){for(;t&&"undefined"!=typeof t.originalEvent;)t=t.originalEvent;return t}function o(e,n){var o,s,a,l,u,c,d,h,p,f=e.type;if(e=t.Event(e),e.type=n,o=e.originalEvent,s=t.event.props,f.search(/^(mouse|click)/)>-1&&(s=D),o)for(d=s.length,l;d;)l=s[--d],e[l]=o[l];if(f.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),-1!==f.search(/^touch/)&&(a=i(o),f=a.touches,u=a.changedTouches,c=f&&f.length?f[0]:u&&u.length?u[0]:r,c))for(h=0,p=E.length;p>h;h++)l=E[h],e[l]=c[l];return e}function s(e){for(var n,r,i={};e;){n=t.data(e,k);for(r in n)n[r]&&(i[r]=i.hasVirtualBinding=!0);e=e.parentNode}return i}function a(e,n){for(var r;e;){if(r=t.data(e,k),r&&(!n||r[n]))return e;e=e.parentNode}return null}function l(){R=!1}function u(){R=!0}function c(){W=0,L.length=0,I=!1,u()}function d(){l()}function h(){p(),N=setTimeout(function(){N=0,c()},t.vmouse.resetTimerDuration)}function p(){N&&(clearTimeout(N),N=0)}function f(e,n,r){var i;return(r&&r[e]||!r&&a(n.target,e))&&(i=o(n,e),t(n.target).trigger(i)),i}function m(e){var n=t.data(e.target,S);if(!(I||W&&W===n)){var r=f("v"+e.type,e);r&&(r.isDefaultPrevented()&&e.preventDefault(),r.isPropagationStopped()&&e.stopPropagation(),r.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}}function g(e){var n,r,o=i(e).touches;if(o&&1===o.length&&(n=e.target,r=s(n),r.hasVirtualBinding)){W=F++,t.data(n,S,W),p(),d(),O=!1;var a=i(e).touches[0];A=a.pageX,M=a.pageY,f("vmouseover",e,r),f("vmousedown",e,r)}}function v(t){R||(O||f("vmousecancel",t,s(t.target)),O=!0,h())}function y(e){if(!R){var n=i(e).touches[0],r=O,o=t.vmouse.moveDistanceThreshold,a=s(e.target);O=O||Math.abs(n.pageX-A)>o||Math.abs(n.pageY-M)>o,O&&!r&&f("vmousecancel",e,a),f("vmousemove",e,a),h()}}function _(t){if(!R){u();var e,n=s(t.target);if(f("vmouseup",t,n),!O){var r=f("vclick",t,n);r&&r.isDefaultPrevented()&&(e=i(t).changedTouches[0],L.push({touchID:W,x:e.clientX,y:e.clientY}),I=!0)}f("vmouseout",t,n),O=!1,h()}}function b(e){var n,r=t.data(e,k);if(r)for(n in r)if(r[n])return!0;return!1}function w(){}function T(e){var n=e.substr(1);return{setup:function(){b(this)||t.data(this,k,{});var r=t.data(this,k);r[e]=!0,P[e]=(P[e]||0)+1,1===P[e]&&H.bind(n,m),t(this).bind(n,w),j&&(P.touchstart=(P.touchstart||0)+1,1===P.touchstart&&H.bind("touchstart",g).bind("touchend",_).bind("touchmove",y).bind("scroll",v))},teardown:function(){--P[e],P[e]||H.unbind(n,m),j&&(--P.touchstart,P.touchstart||H.unbind("touchstart",g).unbind("touchmove",y).unbind("touchend",_).unbind("scroll",v));var r=t(this),i=t.data(this,k);i&&(i[e]=!1),r.unbind(n,w),b(this)||r.removeData(k)}}}var x,k="virtualMouseBindings",S="virtualTouchID",C="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),E="clientX clientY pageX pageY screenX screenY".split(" "),$=t.event.mouseHooks?t.event.mouseHooks.props:[],D=t.event.props.concat($),P={},N=0,A=0,M=0,O=!1,L=[],I=!1,R=!1,j="addEventListener"in n,H=t(n),F=1,W=0;t.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var B=0;B<C.length;B++)t.event.special[C[B]]=T(C[B]);j&&n.addEventListener("click",function(e){var n,r,i,o,s,a,l=L.length,u=e.target;if(l)for(n=e.clientX,r=e.clientY,x=t.vmouse.clickDistanceThreshold,i=u;i;){for(o=0;l>o;o++)if(s=L[o],a=0,i===u&&Math.abs(s.x-n)<x&&Math.abs(s.y-r)<x||t.data(i,S)===s.touchID)return e.preventDefault(),void e.stopPropagation();i=i.parentNode}},!0)}(t,e,n),function(t){t.mobile={}}(t),function(t){var e={touch:"ontouchend"in n};t.mobile.support=t.mobile.support||{},t.extend(t.support,e),t.extend(t.mobile.support,e)}(t),function(t,e,r){function i(e,n,r){var i=r.type;r.type=n,t.event.dispatch.call(e,r),r.type=i}var o=t(n);t.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,n){t.fn[n]=function(t){return t?this.bind(n,t):this.trigger(n)},t.attrFn&&(t.attrFn[n]=!0)});var s=t.mobile.support.touch,a="touchmove scroll",l=s?"touchstart":"mousedown",u=s?"touchend":"mouseup",c=s?"touchmove":"mousemove";t.event.special.scrollstart={enabled:!0,setup:function(){function e(t,e){n=e,i(o,n?"scrollstart":"scrollstop",t)}var n,r,o=this,s=t(o);s.bind(a,function(i){t.event.special.scrollstart.enabled&&(n||e(i,!0),clearTimeout(r),r=setTimeout(function(){e(i,!1)},50))})}},t.event.special.tap={tapholdThreshold:750,setup:function(){var e=this,n=t(e);n.bind("vmousedown",function(r){function s(){clearTimeout(u)}function a(){s(),n.unbind("vclick",l).unbind("vmouseup",s),o.unbind("vmousecancel",a)}function l(t){a(),c===t.target&&i(e,"tap",t)}if(r.which&&1!==r.which)return!1;{var u,c=r.target;r.originalEvent}n.bind("vmouseup",s).bind("vclick",l),o.bind("vmousecancel",a),u=setTimeout(function(){i(e,"taphold",t.Event("taphold",{target:c}))},t.event.special.tap.tapholdThreshold)})}},t.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(e){var n=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:t(e.target)}},stop:function(t){var e=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[e.pageX,e.pageY]}},handleSwipe:function(e,n){n.time-e.time<t.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-n.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-n.coords[1])<t.event.special.swipe.verticalDistanceThreshold&&e.origin.trigger("swipe").trigger(e.coords[0]>n.coords[0]?"swipeleft":"swiperight")},setup:function(){var e=this,n=t(e);n.bind(l,function(e){function i(e){s&&(o=t.event.special.swipe.stop(e),Math.abs(s.coords[0]-o.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())}var o,s=t.event.special.swipe.start(e);n.bind(c,i).one(u,function(){n.unbind(c,i),s&&o&&t.event.special.swipe.handleSwipe(s,o),s=o=r})})}},t.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(e,n){t.event.special[e]={setup:function(){t(this).bind(n,t.noop)}}})}(t,this),function(t,e,r){var i={};t.mobile=t.extend(t.mobile,{version:"1.3.1",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:t(e),document:t(n),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(n){"number"!==t.type(n)&&(n=t.mobile.defaultHomeScroll),t.event.special.scrollstart.enabled=!1,setTimeout(function(){e.scrollTo(0,n),t.mobile.document.trigger("silentscroll",{x:0,y:n})},20),setTimeout(function(){t.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:i,nsNormalize:function(e){return e?i[e]||(i[e]=t.camelCase(t.mobile.ns+e)):void 0},getInheritedTheme:function(t,e){for(var n,r,i=t[0],o="",s=/ui-(bar|body|overlay)-([a-z])\b/;i&&(n=i.className||"",!(n&&(r=s.exec(n))&&(o=r[2])));)i=i.parentNode;return o||e||"a"},closestPageData:function(t){return t.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(t){return this.haveParents(t,"enhance")},hijackable:function(t){return this.haveParents(t,"ajax")},haveParents:function(e,n){if(!t.mobile.ignoreContentEnabled)return e;for(var r,i,o,s=e.length,a=t(),l=0;s>l;l++){for(i=e.eq(l),o=!1,r=e[l];r;){var u=r.getAttribute?r.getAttribute("data-"+t.mobile.ns+n):"";if("false"===u){o=!0;break}r=r.parentNode}o||(a=a.add(i))}return a},getScreenHeight:function(){return e.innerHeight||t.mobile.window.height()}},t.mobile),t.fn.jqmData=function(e,n){var i;return"undefined"!=typeof e&&(e&&(e=t.mobile.nsNormalize(e)),i=arguments.length<2||n===r?this.data(e):this.data(e,n)),i},t.jqmData=function(e,n,r){var i;return"undefined"!=typeof n&&(i=t.data(e,n?t.mobile.nsNormalize(n):n,r)),i},t.fn.jqmRemoveData=function(e){return this.removeData(t.mobile.nsNormalize(e))},t.jqmRemoveData=function(e,n){return t.removeData(e,t.mobile.nsNormalize(n))},t.fn.removeWithDependents=function(){t.removeWithDependents(this)},t.removeWithDependents=function(e){var n=t(e);(n.jqmData("dependents")||t()).remove(),n.remove()},t.fn.addDependents=function(e){t.addDependents(t(this),e)},t.addDependents=function(e,n){var r=t(e).jqmData("dependents")||t();t(e).jqmData("dependents",t.merge(r,n))},t.fn.getEncodedText=function(){return t("<div/>").text(t(this).text()).html()},t.fn.jqmEnhanceable=function(){return t.mobile.enhanceable(this)},t.fn.jqmHijackable=function(){return t.mobile.hijackable(this)};var o=t.find,s=/:jqmData\(([^)]*)\)/g;t.find=function(e,n,r,i){return e=e.replace(s,"[data-"+(t.mobile.ns||"")+"$1]"),o.call(this,e,n,r,i)},t.extend(t.find,o),t.find.matches=function(e,n){return t.find(e,null,null,n)},t.find.matchesSelector=function(e,n){return t.find(n,null,null,[e]).length>0}}(t,this)}),window.Modernizr=function(t,e,n){function r(t){v.cssText=t}function i(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var r in t){var i=t[r];if(!o(i,"-")&&v[i]!==n)return"pfx"==e?i:!0}return!1}function a(t,e,r){for(var o in t){var s=e[t[o]];if(s!==n)return r===!1?t[o]:i(s,"function")?s.bind(r||e):s}return!1}function l(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+b.join(r+" ")+r).split(" ");return i(e,"string")||i(e,"undefined")?s(o,e):(o=(t+" "+w.join(r+" ")+r).split(" "),a(o,e,n))}var u,c,d,h="2.7.2",p={},f=e.documentElement,m="modernizr",g=e.createElement(m),v=g.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),_="Webkit Moz O ms",b=_.split(" "),w=_.toLowerCase().split(" "),T={},x=[],k=x.slice,S=function(t,n,r,i){var o,s,a,l,u=e.createElement("div"),c=e.body,d=c||e.createElement("body");if(parseInt(r,10))for(;r--;)a=e.createElement("div"),a.id=i?i[r]:m+(r+1),u.appendChild(a);return o=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),u.id=m,(c?u:d).innerHTML+=o,d.appendChild(u),c||(d.style.background="",d.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),s=n(u,t),c?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),f.style.overflow=l),!!s},C={}.hasOwnProperty;d=i(C,"undefined")||i(C.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return C.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=k.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,s=e.apply(o,n.concat(k.call(arguments)));return Object(s)===s?s:o}return e.apply(t,n.concat(k.call(arguments)))};return r}),T.csstransforms=function(){return!!l("transform")},T.csstransforms3d=function(){var t=!!l("perspective");return t&&"webkitPerspective"in f.style&&S("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t};for(var E in T)d(T,E)&&(c=E.toLowerCase(),p[c]=T[E](),x.push((p[c]?"":"no-")+c));return p.addTest=function(t,e){if("object"==typeof t)for(var r in t)d(t,r)&&p.addTest(r,t[r]);else{if(t=t.toLowerCase(),p[t]!==n)return p;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(f.className+=" "+(e?"":"no-")+t),p[t]=e}return p},r(""),g=u=null,p._version=h,p._prefixes=y,p._domPrefixes=w,p._cssomPrefixes=b,p.testProp=function(t){return s([t])},p.testAllProps=l,p.testStyles=S,p.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},p}(this,this.document),define("custom.modernizr",function(){}),function(t,e){function n(){i.READY||(_.determineEventTypes(),y.each(i.gestures,function(t){w.register(t)}),_.onTouch(i.DOCUMENT,f,w.detect),_.onTouch(i.DOCUMENT,m,w.detect),i.READY=!0)}function r(t,n){Date.now||(Date.now=function(){return(new Date).getTime()}),t.utils.each(["on","off"],function(r){t.utils[r]=function(t,i,o){n(t)[r](i,function(t){var r=n.extend({},t.originalEvent,t);r.button===e&&(r.button=t.which-1),o.call(this,r)})}}),t.Instance.prototype.trigger=function(t,e){var r=n(this.element);return r.has(e.target).length&&(r=n(e.target)),r.trigger({type:t,gesture:e})},n.fn.hammer=function(e){return this.each(function(){var r=n(this),i=r.data("hammer");i?i&&e&&t.utils.extend(i.options,e):r.data("hammer",new t(this,e||{}))})}}var i=function T(t,e){return new T.Instance(t,e||{})};i.VERSION="1.1.3",i.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.DOCUMENT=document,i.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in t,i.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&i.IS_MOBILE||i.HAS_POINTEREVENTS,i.CALCULATE_INTERVAL=25;var o={},s=i.DIRECTION_DOWN="down",a=i.DIRECTION_LEFT="left",l=i.DIRECTION_UP="up",u=i.DIRECTION_RIGHT="right",c=i.POINTER_MOUSE="mouse",d=i.POINTER_TOUCH="touch",h=i.POINTER_PEN="pen",p=i.EVENT_START="start",f=i.EVENT_MOVE="move",m=i.EVENT_END="end",g=i.EVENT_RELEASE="release",v=i.EVENT_TOUCH="touch";i.READY=!1,i.plugins=i.plugins||{},i.gestures=i.gestures||{};var y=i.utils={extend:function(t,n,r){for(var i in n)!n.hasOwnProperty(i)||t[i]!==e&&r||(t[i]=n[i]);return t},on:function(t,e,n){t.addEventListener(e,n,!1)},off:function(t,e,n){t.removeEventListener(e,n,!1)},each:function(t,n,r){var i,o;if("forEach"in t)t.forEach(n,r);else if(t.length!==e){for(i=0,o=t.length;o>i;i++)if(n.call(r,t[i],i,t)===!1)return}else for(i in t)if(t.hasOwnProperty(i)&&n.call(r,t[i],i,t)===!1)return},inStr:function(t,e){return t.indexOf(e)>-1},inArray:function(t,e){if(t.indexOf){var n=t.indexOf(e);return-1===n?!1:n}for(var r=0,i=t.length;i>r;r++)if(t[r]===e)return r;return!1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],n=[],r=[],i=[],o=Math.min,s=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(y.each(t,function(t){e.push(t.pageX),n.push(t.pageY),r.push(t.clientX),i.push(t.clientY)}),{pageX:(o.apply(Math,e)+s.apply(Math,e))/2,pageY:(o.apply(Math,n)+s.apply(Math,n))/2,clientX:(o.apply(Math,r)+s.apply(Math,r))/2,clientY:(o.apply(Math,i)+s.apply(Math,i))/2})},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.clientX-t.clientX,r=e.clientY-t.clientY;return 180*Math.atan2(r,n)/Math.PI},getDirection:function(t,e){var n=Math.abs(t.clientX-e.clientX),r=Math.abs(t.clientY-e.clientY);return n>=r?t.clientX-e.clientX>0?a:u:t.clientY-e.clientY>0?l:s},getDistance:function(t,e){var n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==l||t==s},setPrefixedCss:function(t,e,n,r){var i=["","Webkit","Moz","O","ms"];e=y.toCamelCase(e);for(var o=0;o<i.length;o++){var s=e;if(i[o]&&(s=i[o]+s.slice(0,1).toUpperCase()+s.slice(1)),s in t.style){t.style[s]=(null==r||r)&&n||"";break}}},toggleBehavior:function(t,e,n){if(e&&t&&t.style){y.each(e,function(e,r){y.setPrefixedCss(t,r,e,n)});var r=n&&function(){return!1};"none"==e.userSelect&&(t.onselectstart=r),"none"==e.userDrag&&(t.ondragstart=r)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(t){return t[1].toUpperCase()})}};i.Instance=function(t,e){var r=this;n(),this.element=t,this.enabled=!0,y.each(e,function(t,n){delete e[n],e[y.toCamelCase(n)]=t}),this.options=y.extend(y.extend({},i.defaults),e||{}),this.options.behavior&&y.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=_.onTouch(t,p,function(t){r.enabled&&t.eventType==p?w.startDetect(r,t):t.eventType==v&&w.detect(t)}),this.eventHandlers=[]},i.Instance.prototype={on:function(t,e){var n=this;return _.on(n.element,t,e,function(t){n.eventHandlers.push({gesture:t,handler:e})}),n},off:function(t,e){var n=this;return _.off(n.element,t,e,function(t){var r=y.inArray({gesture:t,handler:e});r!==!1&&n.eventHandlers.splice(r,1)}),n},trigger:function(t,e){e||(e={});var n=i.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var r=this.element;return y.hasParent(e.target,r)&&(r=e.target),r.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(y.toggleBehavior(this.element,this.options.behavior,!1),t=-1;e=this.eventHandlers[++t];)y.off(this.element,e.gesture,e.handler);return this.eventHandlers=[],_.off(this.element,o[p],this.eventStartHandler),null}};var _=i.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,e,n,r){var i=e.split(" ");y.each(i,function(e){y.on(t,e,n),r&&r(e)})},off:function(t,e,n,r){var i=e.split(" ");y.each(i,function(e){y.off(t,e,n),r&&r(e)})},onTouch:function(t,e,n){var r=this,s=function(o){var s,a=o.type.toLowerCase(),l=i.HAS_POINTEREVENTS,u=y.inStr(a,"mouse");u&&r.preventMouseEvents||(u&&e==p&&0===o.button?(r.preventMouseEvents=!1,r.shouldDetect=!0):l&&e==p?r.shouldDetect=1===o.buttons||b.matchType(d,o):u||e!=p||(r.preventMouseEvents=!0,r.shouldDetect=!0),l&&e!=m&&b.updatePointer(e,o),r.shouldDetect&&(s=r.doDetect.call(r,o,e,t,n)),s==m&&(r.preventMouseEvents=!1,r.shouldDetect=!1,b.reset()),l&&e==m&&b.updatePointer(e,o))};return this.on(t,o[e],s),s},doDetect:function(t,e,n,r){var i=this.getTouchList(t,e),o=i.length,s=e,a=i.trigger,l=o;e==p?a=v:e==m&&(a=g,l=i.length-(t.changedTouches?t.changedTouches.length:1)),l>0&&this.started&&(s=f),this.started=!0;var u=this.collectEventData(n,s,i,t);return e!=m&&r.call(w,u),a&&(u.changedLength=l,u.eventType=a,r.call(w,u),u.eventType=s,delete u.changedLength),s==m&&(r.call(w,u),this.started=!1),s},determineEventTypes:function(){var e;return e=i.HAS_POINTEREVENTS?t.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],o[p]=e[0],o[f]=e[1],o[m]=e[2],o},getTouchList:function(t,e){if(i.HAS_POINTEREVENTS)return b.getTouchList();if(t.touches){if(e==f)return t.touches;var n=[],r=[].concat(y.toArray(t.touches),y.toArray(t.changedTouches)),o=[];return y.each(r,function(t){y.inArray(n,t.identifier)===!1&&o.push(t),n.push(t.identifier)}),o}return t.identifier=1,[t]},collectEventData:function(t,e,n,r){var i=d;return y.inStr(r.type,"mouse")||b.matchType(c,r)?i=c:b.matchType(h,r)&&(i=h),{center:y.getCenter(n),timeStamp:Date.now(),target:r.target,touches:n,eventType:e,pointerType:i,srcEvent:r,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return w.stopDetect()}}}},b=i.PointerEvent={pointers:{},getTouchList:function(){var t=[];return y.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){t==m||t!=m&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var n=e.pointerType,r={};return r[c]=n===(e.MSPOINTER_TYPE_MOUSE||c),r[d]=n===(e.MSPOINTER_TYPE_TOUCH||d),r[h]=n===(e.MSPOINTER_TYPE_PEN||h),r[t]},reset:function(){this.pointers={}}},w=i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:y.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,n=e.options;return y.each(this.gestures,function(r){!this.stopped&&e.enabled&&n[r.name]&&r.handler.call(r,t,e)},this),this.current&&(this.current.lastEvent=t),t.eventType==m&&this.stopDetect(),t}},stopDetect:function(){this.previous=y.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,n,r,o){var s=this.current,a=!1,l=s.lastCalcEvent,u=s.lastCalcData;l&&t.timeStamp-l.timeStamp>i.CALCULATE_INTERVAL&&(e=l.center,n=t.timeStamp-l.timeStamp,r=t.center.clientX-l.center.clientX,o=t.center.clientY-l.center.clientY,a=!0),(t.eventType==v||t.eventType==g)&&(s.futureCalcEvent=t),(!s.lastCalcEvent||a)&&(u.velocity=y.getVelocity(n,r,o),u.angle=y.getAngle(e,t.center),u.direction=y.getDirection(e,t.center),s.lastCalcEvent=s.futureCalcEvent||t,s.futureCalcEvent=t),t.velocityX=u.velocity.x,t.velocityY=u.velocity.y,t.interimAngle=u.angle,t.interimDirection=u.direction},extendEventData:function(t){var e=this.current,n=e.startEvent,r=e.lastEvent||n;(t.eventType==v||t.eventType==g)&&(n.touches=[],y.each(t.touches,function(t){n.touches.push({clientX:t.clientX,clientY:t.clientY})}));var i=t.timeStamp-n.timeStamp,o=t.center.clientX-n.center.clientX,s=t.center.clientY-n.center.clientY;return this.getCalculatedData(t,r.center,i,o,s),y.extend(t,{startEvent:n,deltaTime:i,deltaX:o,deltaY:s,distance:y.getDistance(n.center,t.center),angle:y.getAngle(n.center,t.center),direction:y.getDirection(n.center,t.center),scale:y.getScale(n.touches,t.touches),rotation:y.getRotation(n.touches,t.touches)}),t},register:function(t){var n=t.defaults||{};return n[t.name]===e&&(n[t.name]=!0),y.extend(i.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}};!function(t){function e(e,r){var i=w.current;if(!(r.options.dragMaxTouches>0&&e.touches.length>r.options.dragMaxTouches))switch(e.eventType){case p:n=!1;break;case f:if(e.distance<r.options.dragMinDistance&&i.name!=t)return;var o=i.startEvent.center;if(i.name!=t&&(i.name=t,r.options.dragDistanceCorrection&&e.distance>0)){var c=Math.abs(r.options.dragMinDistance/e.distance);o.pageX+=e.deltaX*c,o.pageY+=e.deltaY*c,o.clientX+=e.deltaX*c,o.clientY+=e.deltaY*c,e=w.extendEventData(e)}(i.lastEvent.dragLockToAxis||r.options.dragLockToAxis&&r.options.dragLockMinDistance<=e.distance)&&(e.dragLockToAxis=!0);var d=i.lastEvent.direction;e.dragLockToAxis&&d!==e.direction&&(e.direction=y.isVertical(d)?e.deltaY<0?l:s:e.deltaX<0?a:u),n||(r.trigger(t+"start",e),n=!0),r.trigger(t,e),r.trigger(t+e.direction,e);var h=y.isVertical(e.direction);(r.options.dragBlockVertical&&h||r.options.dragBlockHorizontal&&!h)&&e.preventDefault();break;case g:n&&e.changedLength<=r.options.dragMaxTouches&&(r.trigger(t+"end",e),n=!1);break;case m:n=!1}}var n=!1;i.gestures.Drag={name:t,index:50,handler:e,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),i.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},function(t){function e(e,r){var i=r.options,o=w.current;switch(e.eventType){case p:clearTimeout(n),o.name=t,n=setTimeout(function(){o&&o.name==t&&r.trigger(t,e)},i.holdTimeout);break;case f:e.distance>i.holdThreshold&&clearTimeout(n);break;case g:clearTimeout(n)}}var n;i.gestures.Hold={name:t,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:e}}("hold"),i.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==g&&e.trigger(this.name,t)}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==g){var n=t.touches.length,r=e.options;if(n<r.swipeMinTouches||n>r.swipeMaxTouches)return;(t.velocityX>r.swipeVelocityX||t.velocityY>r.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},function(t){function e(e,r){var i,o,s=r.options,a=w.current,l=w.previous;switch(e.eventType){case p:n=!1;break;case f:n=n||e.distance>s.tapMaxDistance;break;case m:!y.inStr(e.srcEvent.type,"cancel")&&e.deltaTime<s.tapMaxTime&&!n&&(i=l&&l.lastEvent&&e.timeStamp-l.lastEvent.timeStamp,o=!1,l&&l.name==t&&i&&i<s.doubleTapInterval&&e.distance<s.doubleTapDistance&&(r.trigger("doubletap",e),o=!0),(!o||s.tapAlways)&&(a.name=t,r.trigger(a.name,e)))}}var n=!1;i.gestures.Tap={name:t,index:100,handler:e,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),i.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){return e.options.preventMouse&&t.pointerType==c?void t.stopDetect():(e.options.preventDefault&&t.preventDefault(),void(t.eventType==v&&e.trigger("touch",t)))}},function(t){function e(e,r){switch(e.eventType){case p:n=!1;break;case f:if(e.touches.length<2)return;var i=Math.abs(1-e.scale),o=Math.abs(e.rotation);if(i<r.options.transformMinScale&&o<r.options.transformMinRotation)return;w.current.name=t,n||(r.trigger(t+"start",e),n=!0),r.trigger(t,e),o>r.options.transformMinRotation&&r.trigger("rotate",e),i>r.options.transformMinScale&&(r.trigger("pinch",e),r.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case g:n&&e.changedLength<2&&(r.trigger(t+"end",e),n=!1)}}var n=!1;i.gestures.Transform={name:t,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:e}}("transform"),t.Hammer=i,"undefined"!=typeof module&&module.exports&&(module.exports=i),"function"==typeof define&&define.amd?define("jquery.hammer",["jquery"],function(e){return r(t.Hammer,e)}):r(t.Hammer,t.jQuery||t.Zepto)}(window),require(["jquery"],function(t){var e,n,r,i,o,s;return n=t(window),e=t(document),s=0,o=void 0,i=function(){var t,r,i;return i=n.scrollTop(),i>s&&(t=e.height()-n.height(),0>t&&(t=0),i>t&&(i=t),i>s)?(r=t?i/t*100:void 0,s=i,o=r):void 0},n.on("scroll resize",i),i(),r=+new Date,setInterval(function(){var t;return t=+new Date-r,NYTD.etw.push({subject:"module-interactions",moduleData:{module:"heartbeat",mdata:{scrolledPx:Math.round(s),scrolledPct:Math.round(o),timeOnPage:t}}})},6e4)}),define("utils/et-heartbeat",function(){});var __slice=[].slice;require(["jquery","frontend/user-details","utils/check-meter","utils/show-interstitial","utils/es5","utils/url","utils/url-mapper","views/base.view","utils/generateIframe","shared/helpers","utils/timezone","utils/ua-detect","utils/post-render-headlines","hideaddrbar","controllers/homepage/frontend/mostemailed.view","controllers/homepage/frontend/recommend.view","controllers/homepage/frontend/all-sections.view","views/ad.view","views/edition-selector.view","views/section-links.view","views/advert-dfp.view","views/video.view","components/articles/frontend/article-tools-header.view","components/articles/frontend/article-tools-footer.view","components/articles/frontend/article-content.component.view","components/footer/frontend/footer.view","components/header/frontend/header.view","components/nav-search/frontend/search-form.view","components/nav-share-fixed/frontend/nav-share-fixed.view","components/header-login/frontend/header-login.view","components/slideshow/frontend/slideshow.view","components/slideshow-controls/frontend/slideshow-controls.view","components/subscribe-status-bar/frontend/subscribe-status-bar.view","components/modals/frontend/modal-sharetools.view","components/modals/frontend/modal-lightbox.view","components/image-related-article/frontend/image-related-article.view","components/symbol-details/frontend/symbol-details.view","components/market-search/frontend/market-search.view","components/video-headline-list/frontend/video-headline-list.view","components/footer/footer-tier2plus-section-list/frontend/footer-tier2plus-section-list.view","components/settings/frontend/settings.view","components/footer/footer-settings/frontend/footer-settings.view","components/article-related-articles/frontend/article-related-articles.view","components/additional-content/frontend/additional-content.view","components/section-realestate-search/frontend/realestate-search-form.view","controllers/saved/frontend/saved.view","controllers/comments/frontend/comments.view","controllers/search/frontend/search.view","controllers/recommend/frontend/recommend.view","controllers/timeswire/frontend/timeswire.view","controllers/static/frontend/premier.view","controllers/static/frontend/device-info.view","controllers/articles/frontend/articles.component.view","ext/tracking","ext/bootstrap-modal","shared/moment-extend","jquery.cookies","ext/wt-controller-mobileweb","ext/jquery.mobile.custom.min","custom.modernizr","jquery.hammer","utils/eventtracker-wrapper","utils/et-heartbeat"],function(){var t,e,n,r,i,o,s,a,l,u,c,d,h,p,f,m,g,v,y,_,b,w,T,x,k,S,C;
for(t=arguments[0],d=arguments[1],s=arguments[2],g=arguments[3],l=arguments[4],r=arguments[5],_=arguments[6],n=arguments[7],c=arguments[8],h=arguments[9],v=arguments[10],y=arguments[11],f=arguments[12],o=14<=arguments.length?__slice.call(arguments,13):[],f(),T=function(){var t,e,r;for(r=[],t=0,e=o.length;e>t;t++)b=o[t],(null!=b?b.prototype:void 0)instanceof n&&r.push(b);return r}(),p={},x=0,S=T.length;S>x;x++){if(i=T[x],!i.id)throw new Error("All views require a static View.id property `"+i.name+"`");if(p[i.id])throw new Error("View id's must be unique! ID `"+i.id+"` already exists on class `"+i.name+"`");p[i.id]=i}for(w=[],e=t("[data-view]"),e.each(function(e,n){var r,o;return r=t(n),o=r.data("view"),i=p[o],i&&i.isSupported()?(-1===w.indexOf(i)&&"function"==typeof i.after&&w.push(i),new i({el:r})):void 0}),k=0,C=w.length;C>k;k++)i=w[k],i.after();if(d(),s(),null!=t.cookies.get("edition")){switch(t.cookies.get("edition")){case"u":document.cookie=h.getCookieString("NYT-Edition","edition|US");break;case"i":case"i-temp":document.cookie=h.getCookieString("NYT-Edition","edition|GLOBAL")}t.cookies.del("edition")}return t("body").hasClass("global")&&!t.cookies.get("NYT-Edition")&&(document.cookie=h.getCookieString("NYT-Edition","edition|GLOBAL")),m=function(){return t.cookies.set("isFFApp","1",{expires:365}),t("body").on("click","a",function(){return this.hostname&&this.hostname!==window.location.hostname?t(this).attr("target","_blank"):void 0})},t("body").hasClass("ffApp")?m():navigator.mozApps&&navigator.mozApps.getSelf&&(u=navigator.mozApps.getSelf(),u.onsuccess=function(){return u.result?m():t.cookies.set("isFFApp","0",{expires:365})}),a=new Date,window.timezoneOffset=a.getTimezoneOffset(),window.timezoneString=v.getTimezoneString(a),t("[data-localize]").each(v.generateLocalTimeStamp),r.removeParams(["WT.z_mob_rel=1"]),g(),null!=MWR.tagXurl?t.ajax(MWR.tagXurl,{dataType:"script",cache:!0}):void 0}),define("frontend/main",function(){});